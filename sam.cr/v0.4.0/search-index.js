crystal_doc_search_index_callback({"repository_name":"sam","body":"# Sam [![Build Status](https://travis-ci.org/imdrasil/sam.cr.svg)](https://travis-ci.org/imdrasil/sam.cr) [![Latest Release](https://img.shields.io/github/release/imdrasil/sam.cr.svg)](https://github.com/imdrasil/sam.cr/releases)\n\nSam is a Make-like utility which allows to specify tasks like Ruby's Rake do using plain Crystal code. This allows you to reuse existing application code base and/or include tasks from your dependencies.\n\n## Installation\n\nAdd this to your application's `shard.yml`:\n\n```yaml\ndependencies:\n  sam:\n    github: imdrasil/sam.cr\n    version: 0.4.0\n```\n\nAfter executing `shards install` Sam-file will be added to the root of your project (unless you already have one).\n\n## Usage\n\n### Task\n\nTasks are the main unit in `sam.cr`. Task has a name, a list of prerequisites and a list of actions (block of a code).\n\nSam extends the global context with own DSL. To define a task use `task` method which accepts the task name as the 1st argument.\n\n```crystal\ntask \"name\" do\nend\n```\n\nIf you want to define prerequisites, add the array with their names as the 2nd argument:\n\n```crystal\ntask \"name\", [\"prereq1\", \"prereq2\"] do\nend\n```\n\n#### Executing a task\n\nSam does no magic with your `sam.cr` file - it is just a common `.cr` source file which allows you to recompile it with any possible code you want such amount of times you need. Therefore the most obvious way to execute any task is:\n\n```shell\n$ crystal sam.cr name\n```\n\nIn addition to this you are able to configure your makefile to invoke sam tasks. This allows you to use shorten variant\n\n```shell\n$ make sam name\n```\n\nTo automatically modify your Makefile run\n\n```shell\n$ crystal sam.cr generate:makefile\n```\n\nThis will modify existing Makefile or create new one. Be careful - this will silent all nonexisting makefile tasks on invocation.\n\nTo see a list of all available tasks with their descriptions:\n\n```shell\n$ crystal sam.cr help\n```\n\n#### Tasks with arguments\n\nTo pass arguments to your task just list them after it's name:\n\n```shell\n$ crystal sam.cr name john rob ned\n```\n\nThey are passed to a task as a 2nd block argument.\n\n```crystal\ntask \"name\" do |_, args|\n  puts args[0].as(String)\nend\n```\n\n`args` here is an instance of `Sam::Args` class that contains arguments and named arguments passed to each task. Any argument passed from a console is treated as a `String` but `Int32` and `Float64` values also can be specified during task invocation from inside of another one.\n\n> Each task has own collection of arguments; only prerequisites shares with target task same `Args` instance.\n\nNamed argument also can be specified by the following ways:\n\n- `-argument value`\n- `-argument \"value with spaces\"`\n- `argument=value`\n- `argument=\"value with spaces\"`\n\nTwo important restriction with named arguments usage and makefile-style task invocation:\n\n* `--` should be placed to explicitly specify that specified named arguments belongs to task not to Makefile:\n\n```shell\n$ make sam name john\n$ # but\n$ make same name -- argument=john\n```\n\n* makefile doesn't support named arguments with `=` sign\n\nTo invoke More than one task list them one by one (including their arguments) separating them with `@` symbol:\n\n```shell\n$ crystal sam.cr name john @ surname argument=snow\n```\n\n#### Accessing tasks programmatically\n\nSam allow you to invoke tasks within another ones and even passing own args object. To do this just call `#invoke` method with task name (and arguments if needed) on task object passed as 1st argument:\n\n```crystal\ntask \"name\" do |t|\n  t.invoke(\"surname\")\nend\n\ntask \"surname\" do\n  puts \"Snow\"\nend\n```\n\nIf specified task was already invoked before - it will be ignored. To force task invocation - use `#execute`.\n\n\nAnother task could be invoked from current using `invoke` method. It has next signatures:\n\n### Namespaces\n\nas projects grow amount of defined tasks grow as well. To simplify navigation and increase readability tasks can be grouped in namespaces:\n\n```crystal\nnamespace \"main\" do\n  task \"build\" do\n    # Build the main program\n  end\nend\n\nnamespace \"samples\" do\n  task \"build\" do\n    # Build the sample programs\n  end\nend\n\ntask \"build\", %w[main:build samples:build] do\nend\n```\n\n#### Name resolution\n\nWhen task is invoked from other one, provided path will float up through current task namespace and search given task path on each level until top level. Task could have same name as any existing namespace.\n\n```crystal\ntask \"one\" do\nend\n\nnamespace \"one\" do\n  namespace \"two\"\n    task \"test\" do |t|\n      t.invoke(\"one\")\n    end\n  end\nend\n```\n\nIn the example above next paths are checked (in given order):\n\n* `one:two:one`\n* `one:one`\n* `one` (as task not namespace)\n\n### Share tasks\n\nSam tasks can be loaded from installed dependencies. To do this helper macro `load_dependencies` can be used:\n\n```crystal\nload_dependencies \"lib1\", \"lib2\"\n```\n\nThis is translated to\n\n```crystal\nrequire \"./lib/lib1/tasks/sam.cr\"\n```\n\n## Development\n\nBefore running tests call\n\n```shell\n$ crystal examples/sam.cr setup\n```\n\n## Contributing\n\n1. [Fork it]( https://github.com/imdrasil/sam.cr/fork )\n2. Create your feature branch (git checkout -b my-new-feature)\n3. Commit your changes (git commit -am 'Add some feature')\n4. Push to the branch (git push origin my-new-feature)\n5. Create a new Pull Request\n\n## Contributors\n\n- [imdrasil](https://github.com/imdrasil/sam.cr) Roman Kalnytskyi - creator, maintainer\n","program":{"html_id":"sam/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[{"html_id":"sam/Sam/DSL","kind":"module","full_name":"Sam::DSL","name":"DSL"}],"locations":[],"repository_name":"sam","program":true,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[{"html_id":"sam/Sam/DSL","kind":"module","full_name":"Sam::DSL","name":"DSL"}],"extended_modules":[{"html_id":"sam/Sam/DSL","kind":"module","full_name":"Sam::DSL","name":"DSL"}],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"sam/Sam","path":"Sam.html","kind":"module","full_name":"Sam","name":"Sam","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/sam.cr","line_number":3,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam.cr#L3"},{"filename":"src/sam/args.cr","line_number":1,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L1"},{"filename":"src/sam/dsl.cr","line_number":1,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/dsl.cr#L1"},{"filename":"src/sam/exceptions.cr","line_number":3,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/exceptions.cr#L3"},{"filename":"src/sam/execution.cr","line_number":4,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L4"},{"filename":"src/sam/makefile.cr","line_number":1,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/makefile.cr#L1"},{"filename":"src/sam/namespace.cr","line_number":1,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L1"},{"filename":"src/sam/shell_table.cr","line_number":3,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/shell_table.cr#L3"},{"filename":"src/sam/task.cr","line_number":3,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/task.cr#L3"},{"filename":"src/sam/version.cr","line_number":1,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/version.cr#L1"}],"repository_name":"sam","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"TASK_SEPARATOR","name":"TASK_SEPARATOR","value":"\"@\"","doc":"Task separation symbol used in command line.","summary":"<p>Task separation symbol used in command line.</p>"},{"id":"VERSION","name":"VERSION","value":"\"0.4.0\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[{"html_id":"sam/Sam/Execution","kind":"module","full_name":"Sam::Execution","name":"Execution"}],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"desc(description)-class-method","html_id":"desc(description)-class-method","name":"desc","doc":null,"summary":null,"abstract":false,"args":[{"name":"description","doc":null,"default_value":"","external_name":"description","restriction":""}],"args_string":"(description)","args_html":"(description)","location":{"filename":"src/sam.cr","line_number":21,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam.cr#L21"},"def":{"name":"desc","args":[{"name":"description","doc":null,"default_value":"","external_name":"description","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@root_namespace.desc(description)"}},{"id":"find(path:String)-class-method","html_id":"find(path:String)-class-method","name":"find","doc":null,"summary":null,"abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"args_string":"(path : String)","args_html":"(path : String)","location":{"filename":"src/sam.cr","line_number":30,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam.cr#L30"},"def":{"name":"find","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@root_namespace.find(path)"}},{"id":"help-class-method","html_id":"help-class-method","name":"help","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/sam.cr","line_number":38,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam.cr#L38"},"def":{"name":"help","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if ARGV.empty?\n    return puts(\"Hm, nothing to do...\")\n  end\n  process_tasks(ARGV.clone)\nrescue e : NotFound\n  puts(e.message)\n  exit(1)\nrescue e\n  puts(e.backtrace.join(\"\\n\"), e)\n  exit(1)\nend"}},{"id":"invoke(name,args:Array(String))-class-method","html_id":"invoke(name,args:Array(String))-class-method","name":"invoke","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array(String)"}],"args_string":"(name, args : Array(String))","args_html":"(name, args : Array(String))","location":{"filename":"src/sam.cr","line_number":34,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam.cr#L34"},"def":{"name":"invoke","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"invoke(name, Args.new(args))"}},{"id":"namespace(name:String,&)-class-method","html_id":"namespace(name:String,&)-class-method","name":"namespace","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String, &)","args_html":"(name : String, &)","location":{"filename":"src/sam.cr","line_number":16,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam.cr#L16"},"def":{"name":"namespace","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"n = @@root_namespace.touch_namespace(name)\nwith n yield\n"}},{"id":"task(name,dependencies=[]ofString,&block:Task,Args->Void)-class-method","html_id":"task(name,dependencies=[]ofString,&block:Task,Args->Void)-class-method","name":"task","doc":"delegates call to root namespace","summary":"<p>delegates call to root namespace</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"dependencies","doc":null,"default_value":"[] of String","external_name":"dependencies","restriction":""}],"args_string":"(name, dependencies = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, &block : Task, Args -> Void)","args_html":"(name, dependencies = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, &block : <a href=\"Sam/Task.html\">Task</a>, <a href=\"Sam/Args.html\">Args</a> -> Void)","location":{"filename":"src/sam.cr","line_number":26,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam.cr#L26"},"def":{"name":"task","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"dependencies","doc":null,"default_value":"[] of String","external_name":"dependencies","restriction":""}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Task, Args -> Void)"},"return_type":"","visibility":"Public","body":"@@root_namespace.task(name, dependencies, &block)"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"sam/Sam/Args","path":"Sam/Args.html","kind":"class","full_name":"Sam::Args","name":"Args","abstract":false,"superclass":{"html_id":"sam/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"sam/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"sam/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/sam/args.cr","line_number":6,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L6"}],"repository_name":"sam","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"sam/Sam","kind":"module","full_name":"Sam","name":"Sam"},"doc":"This class presents container for the task arguments. It can handle named arguments and raw array of arguments.\nNow it supports only `String`, `Int32` and `Float64` as value types. To get access to named argument you\ncan use `[](name : String)` and `[]?(name : String)` methods. For raw attributes there are `[](index : Int32)`\nand `[]?(index : Int32)` as well.","summary":"<p>This class presents container for the task arguments.</p>","class_methods":[],"constructors":[{"id":"new(args:Array(String))-class-method","html_id":"new(args:Array(String))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array(String)"}],"args_string":"(args : Array(String))","args_html":"(args : Array(String))","location":{"filename":"src/sam/args.cr","line_number":17,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L17"},"def":{"name":"new","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(args)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(_named_args:AllowedHash,_arr=[]ofAllowedTypes)-class-method","html_id":"new(_named_args:AllowedHash,_arr=[]ofAllowedTypes)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"_named_args","doc":null,"default_value":"","external_name":"_named_args","restriction":"AllowedHash"},{"name":"_arr","doc":null,"default_value":"[] of AllowedTypes","external_name":"_arr","restriction":""}],"args_string":"(_named_args : AllowedHash, _arr = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">AllowedTypes</span>)","args_html":"(_named_args : AllowedHash, _arr = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">AllowedTypes</span>)","location":{"filename":"src/sam/args.cr","line_number":21,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L21"},"def":{"name":"new","args":[{"name":"_named_args","doc":null,"default_value":"","external_name":"_named_args","restriction":"AllowedHash"},{"name":"_arr","doc":null,"default_value":"[] of AllowedTypes","external_name":"_arr","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(_named_args, _arr)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/sam/args.cr","line_number":14,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L14"},"def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](index:Int32)-instance-method","html_id":"[](index:Int32)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int32"}],"args_string":"(index : Int32)","args_html":"(index : Int32)","location":{"filename":"src/sam/args.cr","line_number":40,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L40"},"def":{"name":"[]","args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  @arr[index]\nrescue e\n  raise(ArgumentError.new(\"Missing argument with index #{index}\"))\nend"}},{"id":"[](name:String|Symbol)-instance-method","html_id":"[](name:String|Symbol)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","args_html":"(name : String | Symbol)","location":{"filename":"src/sam/args.cr","line_number":46,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L46"},"def":{"name":"[]","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  @named_args[name.to_s]\nrescue e\n  raise(ArgumentError.new(\"Missing argument with name #{name}\"))\nend"}},{"id":"[]?(index:Int32):AllowedTypes?-instance-method","html_id":"[]?(index:Int32):AllowedTypes?-instance-method","name":"[]?","doc":null,"summary":null,"abstract":false,"args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int32"}],"args_string":"(index : Int32) : AllowedTypes?","args_html":"(index : Int32) : <a href=\"../Sam/Args/AllowedTypes.html\">AllowedTypes</a>?","location":{"filename":"src/sam/args.cr","line_number":52,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L52"},"def":{"name":"[]?","args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"AllowedTypes | Nil","visibility":"Public","body":"@arr[index]?"}},{"id":"[]?(name:String|Symbol):AllowedTypes?-instance-method","html_id":"[]?(name:String|Symbol):AllowedTypes?-instance-method","name":"[]?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol) : AllowedTypes?","args_html":"(name : String | Symbol) : <a href=\"../Sam/Args/AllowedTypes.html\">AllowedTypes</a>?","location":{"filename":"src/sam/args.cr","line_number":56,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L56"},"def":{"name":"[]?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"AllowedTypes | Nil","visibility":"Public","body":"@named_args[name.to_s]?"}},{"id":"named:Hash(String,Float64|Int32|String)-instance-method","html_id":"named:Hash(String,Float64|Int32|String)-instance-method","name":"named","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Float64 | Int32 | String)","args_html":" : Hash(String, Float64 | Int32 | String)","location":{"filename":"src/sam/args.cr","line_number":32,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L32"},"def":{"name":"named","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@named_args"}},{"id":"raw:Array(Float64|Int32|String)-instance-method","html_id":"raw:Array(Float64|Int32|String)-instance-method","name":"raw","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Float64 | Int32 | String)","args_html":" : Array(Float64 | Int32 | String)","location":{"filename":"src/sam/args.cr","line_number":28,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L28"},"def":{"name":"raw","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@arr"}},{"id":"size-instance-method","html_id":"size-instance-method","name":"size","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/sam/args.cr","line_number":36,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L36"},"def":{"name":"size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@arr.size + @named_args.size"}}],"macros":[],"types":[{"html_id":"sam/Sam/Args/AllowedTypes","path":"Sam/Args/AllowedTypes.html","kind":"alias","full_name":"Sam::Args::AllowedTypes","name":"AllowedTypes","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/sam/args.cr","line_number":9,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/args.cr#L9"}],"repository_name":"sam","program":false,"enum":false,"alias":true,"aliased":"(Float64 | Int32 | String)","aliased_html":"Float64 | Int32 | String","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"sam/Sam/Args","kind":"class","full_name":"Sam::Args","name":"Args"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"sam/Sam/DSL","path":"Sam/DSL.html","kind":"module","full_name":"Sam::DSL","name":"DSL","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/sam/dsl.cr","line_number":3,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/dsl.cr#L3"}],"repository_name":"sam","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"sam/Sam","kind":"module","full_name":"Sam","name":"Sam"},"doc":"Task definition DSL. Delegates all calls to `Sam` itself.","summary":"<p>Task definition DSL.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"desc(description:String)-instance-method","html_id":"desc(description:String)-instance-method","name":"desc","doc":null,"summary":null,"abstract":false,"args":[{"name":"description","doc":null,"default_value":"","external_name":"description","restriction":"String"}],"args_string":"(description : String)","args_html":"(description : String)","location":{"filename":"src/sam/dsl.cr","line_number":9,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/dsl.cr#L9"},"def":{"name":"desc","args":[{"name":"description","doc":null,"default_value":"","external_name":"description","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Sam.root_namespace.desc(description)"}},{"id":"namespace(name:String,&)-instance-method","html_id":"namespace(name:String,&)-instance-method","name":"namespace","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String, &)","args_html":"(name : String, &)","location":{"filename":"src/sam/dsl.cr","line_number":4,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/dsl.cr#L4"},"def":{"name":"namespace","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"namespace = Sam.root_namespace.touch_namespace(name)\nwith namespace yield\n"}},{"id":"task(name,dependencies=[]ofString,&block:Task,Args->Void)-instance-method","html_id":"task(name,dependencies=[]ofString,&block:Task,Args->Void)-instance-method","name":"task","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"dependencies","doc":null,"default_value":"[] of String","external_name":"dependencies","restriction":""}],"args_string":"(name, dependencies = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, &block : Task, Args -> Void)","args_html":"(name, dependencies = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, &block : <a href=\"../Sam/Task.html\">Task</a>, <a href=\"../Sam/Args.html\">Args</a> -> Void)","location":{"filename":"src/sam/dsl.cr","line_number":13,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/dsl.cr#L13"},"def":{"name":"task","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"dependencies","doc":null,"default_value":"[] of String","external_name":"dependencies","restriction":""}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Task, Args -> Void)"},"return_type":"","visibility":"Public","body":"Sam.root_namespace.task(name, dependencies, &block)"}}],"macros":[{"id":"load_dependencies(*libraries,**dependencies)-macro","html_id":"load_dependencies(*libraries,**dependencies)-macro","name":"load_dependencies","doc":"Requires tasks from given libraries.\n\n```\nload_dependencies \"library1\", \"library2\"\n```","summary":"<p>Requires tasks from given libraries.</p>","abstract":false,"args":[{"name":"libraries","doc":null,"default_value":"","external_name":"libraries","restriction":""}],"args_string":"(*libraries, **dependencies)","location":{"filename":"src/sam/dsl.cr","line_number":22,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/dsl.cr#L22"},"def":{"name":"load_dependencies","args":[{"name":"libraries","doc":null,"default_value":"","external_name":"libraries","restriction":""}],"double_splat":{"name":"dependencies","doc":null,"default_value":"","external_name":"dependencies","restriction":""},"splat_index":0,"block_arg":null,"visibility":"Public","body":"      \n{% for l in libraries %}\n        require \"{{ l.id }}/sam\"\n      {% end %}\n\n\n      \n{% for l, deps in dependencies %}\n        require \"{{ l.id }}/sam\"\n\n        {% if deps.is_a?(StringLiteral) %}\n          {% prefix = deps.starts_with?(\"/\") ? \"\" : \"/tasks/\" %}\n          require \"{{ l.id }}{{ prefix.id }}{{ deps.id }}\"\n        {% else %}\n          {% for dep in deps %}\n            {% prefix = dep.starts_with?(\"/\") ? \"\" : \"/tasks/\" %}\n            require \"{{ l.id }}{{ prefix.id }}{{ dep.id }}\"\n          {% end %}\n        {% end %}\n      {% end %}\n\n    \n"}}],"types":[]},{"html_id":"sam/Sam/Execution","path":"Sam/Execution.html","kind":"module","full_name":"Sam::Execution","name":"Execution","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/sam/execution.cr","line_number":5,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L5"}],"repository_name":"sam","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"sam/Sam/Task","kind":"class","full_name":"Sam::Task","name":"Task"}],"namespace":{"html_id":"sam/Sam","kind":"module","full_name":"Sam","name":"Sam"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"execute(name,hash:Args::AllowedHash,arr:Array(Args::AllowedTypes))-instance-method","html_id":"execute(name,hash:Args::AllowedHash,arr:Array(Args::AllowedTypes))-instance-method","name":"execute","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Args::AllowedHash"},{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array(Args::AllowedTypes)"}],"args_string":"(name, hash : Args::AllowedHash, arr : Array(Args::AllowedTypes))","args_html":"(name, hash : Args::AllowedHash, arr : Array(<a href=\"../Sam/Args/AllowedTypes.html\">Args::AllowedTypes</a>))","location":{"filename":"src/sam/execution.cr","line_number":44,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L44"},"def":{"name":"execute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Args::AllowedHash"},{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array(Args::AllowedTypes)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"execute(name, Args.new(hash, arr))"}},{"id":"execute(name,args:Args)-instance-method","html_id":"execute(name,args:Args)-instance-method","name":"execute","doc":"Invoke the task even if it has been invoked.","summary":"<p>Invoke the task even if it has been invoked.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Args"}],"args_string":"(name, args : Args)","args_html":"(name, args : <a href=\"../Sam/Args.html\">Args</a>)","location":{"filename":"src/sam/execution.cr","line_number":36,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L36"},"def":{"name":"execute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Args"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(find!(name)).call(args)"}},{"id":"execute(name,hash:Args::AllowedHash)-instance-method","html_id":"execute(name,hash:Args::AllowedHash)-instance-method","name":"execute","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Args::AllowedHash"}],"args_string":"(name, hash : Args::AllowedHash)","args_html":"(name, hash : Args::AllowedHash)","location":{"filename":"src/sam/execution.cr","line_number":40,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L40"},"def":{"name":"execute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Args::AllowedHash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"execute(name, Args.new(hash, [] of Args::AllowedTypes))"}},{"id":"execute(name,*args)-instance-method","html_id":"execute(name,*args)-instance-method","name":"execute","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(name, *args)","args_html":"(name, *args)","location":{"filename":"src/sam/execution.cr","line_number":48,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L48"},"def":{"name":"execute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"execute(name, Args.new(Args::AllowedHash.new, args.to_a))"}},{"id":"find(path:String)-instance-method","html_id":"find(path:String)-instance-method","name":"find","doc":null,"summary":null,"abstract":true,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"args_string":"(path : String)","args_html":"(path : String)","location":{"filename":"src/sam/execution.cr","line_number":6,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L6"},"def":{"name":"find","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"find!(path:String)-instance-method","html_id":"find!(path:String)-instance-method","name":"find!","doc":null,"summary":null,"abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"args_string":"(path : String)","args_html":"(path : String)","location":{"filename":"src/sam/execution.cr","line_number":8,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L8"},"def":{"name":"find!","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"task = find(path)\nif task.nil?\n  raise(NotFound.new(path))\nend\ntask\n"}},{"id":"invoke(name,hash:Args::AllowedHash,arr:Array(Args::AllowedTypes))-instance-method","html_id":"invoke(name,hash:Args::AllowedHash,arr:Array(Args::AllowedTypes))-instance-method","name":"invoke","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Args::AllowedHash"},{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array(Args::AllowedTypes)"}],"args_string":"(name, hash : Args::AllowedHash, arr : Array(Args::AllowedTypes))","args_html":"(name, hash : Args::AllowedHash, arr : Array(<a href=\"../Sam/Args/AllowedTypes.html\">Args::AllowedTypes</a>))","location":{"filename":"src/sam/execution.cr","line_number":27,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L27"},"def":{"name":"invoke","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Args::AllowedHash"},{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array(Args::AllowedTypes)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"invoke(name, Args.new(hash, arr))"}},{"id":"invoke(name,args:Args)-instance-method","html_id":"invoke(name,args:Args)-instance-method","name":"invoke","doc":"Invoke the task if it is needed.","summary":"<p>Invoke the task if it is needed.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Args"}],"args_string":"(name, args : Args)","args_html":"(name, args : <a href=\"../Sam/Args.html\">Args</a>)","location":{"filename":"src/sam/execution.cr","line_number":16,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L16"},"def":{"name":"invoke","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Args"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"t = find!(name)\nif t.invoked?\n  return\nend\nt.call(args)\n"}},{"id":"invoke(name,hash:Args::AllowedHash)-instance-method","html_id":"invoke(name,hash:Args::AllowedHash)-instance-method","name":"invoke","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Args::AllowedHash"}],"args_string":"(name, hash : Args::AllowedHash)","args_html":"(name, hash : Args::AllowedHash)","location":{"filename":"src/sam/execution.cr","line_number":23,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L23"},"def":{"name":"invoke","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Args::AllowedHash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"invoke(name, Args.new(hash, [] of Args::AllowedTypes))"}},{"id":"invoke(name,*args)-instance-method","html_id":"invoke(name,*args)-instance-method","name":"invoke","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(name, *args)","args_html":"(name, *args)","location":{"filename":"src/sam/execution.cr","line_number":31,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/execution.cr#L31"},"def":{"name":"invoke","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"invoke(name, Args.new(Args::AllowedHash.new, args.to_a))"}}],"macros":[],"types":[]},{"html_id":"sam/Sam/Namespace","path":"Sam/Namespace.html","kind":"class","full_name":"Sam::Namespace","name":"Namespace","abstract":false,"superclass":{"html_id":"sam/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"sam/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"sam/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/sam/namespace.cr","line_number":2,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L2"}],"repository_name":"sam","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"sam/Sam","kind":"module","full_name":"Sam","name":"Sam"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,parent)-class-method","html_id":"new(name,parent)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"parent","doc":null,"default_value":"","external_name":"parent","restriction":""}],"args_string":"(name, parent)","args_html":"(name, parent)","location":{"filename":"src/sam/namespace.cr","line_number":9,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L9"},"def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"parent","doc":null,"default_value":"","external_name":"parent","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, parent)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"all_tasks-instance-method","html_id":"all_tasks-instance-method","name":"all_tasks","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/sam/namespace.cr","line_number":51,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L51"},"def":{"name":"all_tasks","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tasks = @tasks.values\n@namespaces.each do |_, namespace|\n  tasks = tasks + namespace.all_tasks\nend\ntasks\n"}},{"id":"desc(description:String)-instance-method","html_id":"desc(description:String)-instance-method","name":"desc","doc":"Sets description to the next defined task.","summary":"<p>Sets description to the next defined task.</p>","abstract":false,"args":[{"name":"description","doc":null,"default_value":"","external_name":"description","restriction":"String"}],"args_string":"(description : String)","args_html":"(description : String)","location":{"filename":"src/sam/namespace.cr","line_number":22,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L22"},"def":{"name":"desc","args":[{"name":"description","doc":null,"default_value":"","external_name":"description","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@description = description"}},{"id":"find(path:String)-instance-method","html_id":"find(path:String)-instance-method","name":"find","doc":null,"summary":null,"abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"args_string":"(path : String)","args_html":"(path : String)","location":{"filename":"src/sam/namespace.cr","line_number":57,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L57"},"def":{"name":"find","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if path.empty?\n  raise(ArgumentError.new(\"Path can't be empty\"))\nend\nfind(path.split(\":\"))\n"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/sam/namespace.cr","line_number":3,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L3"},"def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@name"}},{"id":"namespace(name,&)-instance-method","html_id":"namespace(name,&)-instance-method","name":"namespace","doc":"Defines nested namespace.","summary":"<p>Defines nested namespace.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name, &)","args_html":"(name, &)","location":{"filename":"src/sam/namespace.cr","line_number":27,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L27"},"def":{"name":"namespace","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"with touch_namespace(name) yield\n@namespaces[name]\n"}},{"id":"namespaces(name)-instance-method","html_id":"namespaces(name)-instance-method","name":"namespaces","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","args_html":"(name)","location":{"filename":"src/sam/namespace.cr","line_number":43,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L43"},"def":{"name":"namespaces","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@namespaces[name]?"}},{"id":"path-instance-method","html_id":"path-instance-method","name":"path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/sam/namespace.cr","line_number":12,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L12"},"def":{"name":"path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @parent\n  (@parent.not_nil!.path + @name) + \":\"\nelse\n  \"\"\nend"}},{"id":"task(name,dependencies=[]ofString,&block:Task,Args->Void)-instance-method","html_id":"task(name,dependencies=[]ofString,&block:Task,Args->Void)-instance-method","name":"task","doc":"Defines new task.","summary":"<p>Defines new task.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"dependencies","doc":null,"default_value":"[] of String","external_name":"dependencies","restriction":""}],"args_string":"(name, dependencies = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, &block : Task, Args -> Void)","args_html":"(name, dependencies = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, &block : <a href=\"../Sam/Task.html\">Task</a>, <a href=\"../Sam/Args.html\">Args</a> -> Void)","location":{"filename":"src/sam/namespace.cr","line_number":37,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L37"},"def":{"name":"task","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"dependencies","doc":null,"default_value":"[] of String","external_name":"dependencies","restriction":""}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Task, Args -> Void)"},"return_type":"","visibility":"Public","body":"task = (@tasks[name] = Task.new(block, dependencies, self, name, @@description))\n@@description = nil\ntask\n"}},{"id":"tasks(name)-instance-method","html_id":"tasks(name)-instance-method","name":"tasks","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","args_html":"(name)","location":{"filename":"src/sam/namespace.cr","line_number":47,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L47"},"def":{"name":"tasks","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tasks[name]?"}},{"id":"touch_namespace(name)-instance-method","html_id":"touch_namespace(name)-instance-method","name":"touch_namespace","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","args_html":"(name)","location":{"filename":"src/sam/namespace.cr","line_number":32,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/namespace.cr#L32"},"def":{"name":"touch_namespace","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"__temp_24 = name\n@namespaces[__temp_24]? || (@namespaces[__temp_24] = Namespace.new(name, self))\n"}}],"macros":[],"types":[]},{"html_id":"sam/Sam/NotFound","path":"Sam/NotFound.html","kind":"class","full_name":"Sam::NotFound","name":"NotFound","abstract":false,"superclass":{"html_id":"sam/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"sam/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"sam/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"sam/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/sam/exceptions.cr","line_number":4,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/exceptions.cr#L4"}],"repository_name":"sam","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"sam/Sam","kind":"module","full_name":"Sam","name":"Sam"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(task)-class-method","html_id":"new(task)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"task","doc":null,"default_value":"","external_name":"task","restriction":""}],"args_string":"(task)","args_html":"(task)","location":{"filename":"src/sam/exceptions.cr","line_number":5,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/exceptions.cr#L5"},"def":{"name":"new","args":[{"name":"task","doc":null,"default_value":"","external_name":"task","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(task)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"sam/Sam/Task","path":"Sam/Task.html","kind":"class","full_name":"Sam::Task","name":"Task","abstract":false,"superclass":{"html_id":"sam/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"sam/Sam/Execution","kind":"module","full_name":"Sam::Execution","name":"Execution"},{"html_id":"sam/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"sam/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/sam/task.cr","line_number":4,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/task.cr#L4"}],"repository_name":"sam","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[{"html_id":"sam/Sam/Execution","kind":"module","full_name":"Sam::Execution","name":"Execution"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"sam/Sam","kind":"module","full_name":"Sam","name":"Sam"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(block,deps,parent,name,description=nil)-class-method","html_id":"new(block,deps,parent,name,description=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""},{"name":"deps","doc":null,"default_value":"","external_name":"deps","restriction":""},{"name":"parent","doc":null,"default_value":"","external_name":"parent","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"description","doc":null,"default_value":"nil","external_name":"description","restriction":""}],"args_string":"(block, deps, parent, name, description = <span class=\"n\">nil</span>)","args_html":"(block, deps, parent, name, description = <span class=\"n\">nil</span>)","location":{"filename":"src/sam/task.cr","line_number":17,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/task.cr#L17"},"def":{"name":"new","args":[{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""},{"name":"deps","doc":null,"default_value":"","external_name":"deps","restriction":""},{"name":"parent","doc":null,"default_value":"","external_name":"parent","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"description","doc":null,"default_value":"nil","external_name":"description","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(block, deps, parent, name, description)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"call(args:Args)-instance-method","html_id":"call(args:Args)-instance-method","name":"call","doc":"Launch current task. Prerequisites are invoked first.","summary":"<p>Launch current task.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Args"}],"args_string":"(args : Args)","args_html":"(args : <a href=\"../Sam/Args.html\">Args</a>)","location":{"filename":"src/sam/task.cr","line_number":37,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/task.cr#L37"},"def":{"name":"call","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Args"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@invoked = true\ncase @block.arity\nwhen 0, 1\n  @deps.each do |name|\n    invoke(name)\n  end\nwhen 2\n  @deps.each do |name|\n    invoke(name, args)\n  end\nelse\n  raise(\"Wrong task block arity - #{@block.arity} and maximum is 2.\")\nend\ncase @block.arity\nwhen 0\n  (@block.as((-> Void))).call\nwhen 1\n  (@block.as((Task -> Void))).call(self)\nwhen 2\n  (@block.as((Task, Args -> Void))).call(self, args)\nelse\n  raise(\"Wrong task block arity - #{@block.arity} and maximum is 2.\")\nend\n"}},{"id":"description-instance-method","html_id":"description-instance-method","name":"description","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/sam/task.cr","line_number":32,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/task.cr#L32"},"def":{"name":"description","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@description || \"\""}},{"id":"find(name:String)-instance-method","html_id":"find(name:String)-instance-method","name":"find","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","args_html":"(name : String)","location":{"filename":"src/sam/task.cr","line_number":59,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/task.cr#L59"},"def":{"name":"find","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@parent.find(name)"}},{"id":"invoked?:Bool-instance-method","html_id":"invoked?:Bool-instance-method","name":"invoked?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","args_html":" : Bool","location":{"filename":"src/sam/task.cr","line_number":20,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/task.cr#L20"},"def":{"name":"invoked?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@invoked"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/sam/task.cr","line_number":12,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/task.cr#L12"},"def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@name"}},{"id":"path-instance-method","html_id":"path-instance-method","name":"path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/sam/task.cr","line_number":28,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/task.cr#L28"},"def":{"name":"path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@parent.path + @name"}},{"id":"reenable-instance-method","html_id":"reenable-instance-method","name":"reenable","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/sam/task.cr","line_number":24,"url":"https://github.com/imdrasil/sam.cr/blob/v0.4.0/src/sam/task.cr#L24"},"def":{"name":"reenable","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@invoked = false"}}],"macros":[],"types":[]}]}]}})