<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta id="repository-name" content="github.com/imdrasil/jennifer.cr">
  <link href="css/style.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="js/doc.js"></script>
  <title>README - github.com/imdrasil/jennifer.cr</title>
</head>
<body>

<div id="types-list">
  <div id="search-box">
    <input type="search" id="search-input" placeholder="Search...">
  </div>

  <ul>
    <li class="current"><a href="index.html">README</a></li>
  </ul>

  <ul>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer" data-name="jennifer">
      <a href="Jennifer.html">Jennifer</a>
      
        <ul>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Adapter" data-name="jennifer::adapter">
      <a href="Jennifer/Adapter.html">Adapter</a>
      
        <ul>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base" data-name="jennifer::adapter::base">
      <a href="Jennifer/Adapter/Base.html">Base</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSqlGenerator" data-name="jennifer::adapter::basesqlgenerator">
      <a href="Jennifer/Adapter/BaseSqlGenerator.html">BaseSqlGenerator</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Adapter/EnumType" data-name="jennifer::adapter::enumtype">
      <a href="Jennifer/Adapter/EnumType.html">EnumType</a>
      
    </li>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Postgres" data-name="jennifer::adapter::postgres">
      <a href="Jennifer/Adapter/Postgres.html">Postgres</a>
      
        <ul>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Postgres/ExecResult" data-name="jennifer::adapter::postgres::execresult">
      <a href="Jennifer/Adapter/Postgres/ExecResult.html">ExecResult</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Adapter/RequestMethods" data-name="jennifer::adapter::requestmethods">
      <a href="Jennifer/Adapter/RequestMethods.html">RequestMethods</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ResultParsers" data-name="jennifer::adapter::resultparsers">
      <a href="Jennifer/Adapter/ResultParsers.html">ResultParsers</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Adapter/SqlGenerator" data-name="jennifer::adapter::sqlgenerator">
      <a href="Jennifer/Adapter/SqlGenerator.html">SqlGenerator</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Adapter/SqlNotation" data-name="jennifer::adapter::sqlnotation">
      <a href="Jennifer/Adapter/SqlNotation.html">SqlNotation</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Transactions" data-name="jennifer::adapter::transactions">
      <a href="Jennifer/Adapter/Transactions.html">Transactions</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/AnyArgument" data-name="jennifer::anyargument">
      <a href="Jennifer/AnyArgument.html">AnyArgument</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/AnyResult" data-name="jennifer::anyresult">
      <a href="Jennifer/AnyResult.html">AnyResult</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/BadQuery" data-name="jennifer::badquery">
      <a href="Jennifer/BadQuery.html">BadQuery</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/BaseException" data-name="jennifer::baseexception">
      <a href="Jennifer/BaseException.html">BaseException</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Config" data-name="jennifer::config">
      <a href="Jennifer/Config.html">Config</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/DataTypeCasting" data-name="jennifer::datatypecasting">
      <a href="Jennifer/DataTypeCasting.html">DataTypeCasting</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/DataTypeMismatch" data-name="jennifer::datatypemismatch">
      <a href="Jennifer/DataTypeMismatch.html">DataTypeMismatch</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/DBAny" data-name="jennifer::dbany">
      <a href="Jennifer/DBAny.html">DBAny</a>
      
    </li>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration" data-name="jennifer::migration">
      <a href="Jennifer/Migration.html">Migration</a>
      
        <ul>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/Base" data-name="jennifer::migration::base">
      <a href="Jennifer/Migration/Base.html">Base</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/Runner" data-name="jennifer::migration::runner">
      <a href="Jennifer/Migration/Runner.html">Runner</a>
      
    </li>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder" data-name="jennifer::migration::tablebuilder">
      <a href="Jennifer/Migration/TableBuilder.html">TableBuilder</a>
      
        <ul>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base" data-name="jennifer::migration::tablebuilder::base">
      <a href="Jennifer/Migration/TableBuilder/Base.html">Base</a>
      
        <ul>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/AAllowedTypes" data-name="jennifer::migration::tablebuilder::base::aallowedtypes">
      <a href="Jennifer/Migration/TableBuilder/Base/AAllowedTypes.html">AAllowedTypes</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/AllowedTypes" data-name="jennifer::migration::tablebuilder::base::allowedtypes">
      <a href="Jennifer/Migration/TableBuilder/Base/AllowedTypes.html">AllowedTypes</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/DB_OPTIONS" data-name="jennifer::migration::tablebuilder::base::db_options">
      <a href="Jennifer/Migration/TableBuilder/Base/DB_OPTIONS.html">DB_OPTIONS</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/EAllowedTypes" data-name="jennifer::migration::tablebuilder::base::eallowedtypes">
      <a href="Jennifer/Migration/TableBuilder/Base/EAllowedTypes.html">EAllowedTypes</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/ChangeEnum" data-name="jennifer::migration::tablebuilder::changeenum">
      <a href="Jennifer/Migration/TableBuilder/ChangeEnum.html">ChangeEnum</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/ChangeTable" data-name="jennifer::migration::tablebuilder::changetable">
      <a href="Jennifer/Migration/TableBuilder/ChangeTable.html">ChangeTable</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateEnum" data-name="jennifer::migration::tablebuilder::createenum">
      <a href="Jennifer/Migration/TableBuilder/CreateEnum.html">CreateEnum</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateIndex" data-name="jennifer::migration::tablebuilder::createindex">
      <a href="Jennifer/Migration/TableBuilder/CreateIndex.html">CreateIndex</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateMaterializedView" data-name="jennifer::migration::tablebuilder::creatematerializedview">
      <a href="Jennifer/Migration/TableBuilder/CreateMaterializedView.html">CreateMaterializedView</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateTable" data-name="jennifer::migration::tablebuilder::createtable">
      <a href="Jennifer/Migration/TableBuilder/CreateTable.html">CreateTable</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateView" data-name="jennifer::migration::tablebuilder::createview">
      <a href="Jennifer/Migration/TableBuilder/CreateView.html">CreateView</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropEnum" data-name="jennifer::migration::tablebuilder::dropenum">
      <a href="Jennifer/Migration/TableBuilder/DropEnum.html">DropEnum</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropIndex" data-name="jennifer::migration::tablebuilder::dropindex">
      <a href="Jennifer/Migration/TableBuilder/DropIndex.html">DropIndex</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropMaterializedView" data-name="jennifer::migration::tablebuilder::dropmaterializedview">
      <a href="Jennifer/Migration/TableBuilder/DropMaterializedView.html">DropMaterializedView</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropTable" data-name="jennifer::migration::tablebuilder::droptable">
      <a href="Jennifer/Migration/TableBuilder/DropTable.html">DropTable</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropView" data-name="jennifer::migration::tablebuilder::dropview">
      <a href="Jennifer/Migration/TableBuilder/DropView.html">DropView</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Raw" data-name="jennifer::migration::tablebuilder::raw">
      <a href="Jennifer/Migration/TableBuilder/Raw.html">Raw</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Migration/Version" data-name="jennifer::migration::version">
      <a href="Jennifer/Migration/Version.html">Version</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Model" data-name="jennifer::model">
      <a href="Jennifer/Model.html">Model</a>
      
        <ul>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Model/Base" data-name="jennifer::model::base">
      <a href="Jennifer/Model/Base.html">Base</a>
      
        <ul>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Model/Base/Supportable" data-name="jennifer::model::base::supportable">
      <a href="Jennifer/Model/Base/Supportable.html">Supportable</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Model/Callback" data-name="jennifer::model::callback">
      <a href="Jennifer/Model/Callback.html">Callback</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Model/IRelationContainer" data-name="jennifer::model::irelationcontainer">
      <a href="Jennifer/Model/IRelationContainer.html">IRelationContainer</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping" data-name="jennifer::model::mapping">
      <a href="Jennifer/Model/Mapping.html">Mapping</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationContainer" data-name="jennifer::model::relationcontainer(t, q)">
      <a href="Jennifer/Model/RelationContainer.html">RelationContainer</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationDefinition" data-name="jennifer::model::relationdefinition">
      <a href="Jennifer/Model/RelationDefinition.html">RelationDefinition</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping" data-name="jennifer::model::scoping">
      <a href="Jennifer/Model/Scoping.html">Scoping</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Model/STIMapping" data-name="jennifer::model::stimapping">
      <a href="Jennifer/Model/STIMapping.html">STIMapping</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Model/Validation" data-name="jennifer::model::validation">
      <a href="Jennifer/Model/Validation.html">Validation</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Query" data-name="jennifer::query">
      <a href="Jennifer/Query.html">Query</a>
      
    </li>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder" data-name="jennifer::querybuilder">
      <a href="Jennifer/QueryBuilder.html">QueryBuilder</a>
      
        <ul>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Aggregations" data-name="jennifer::querybuilder::aggregations">
      <a href="Jennifer/QueryBuilder/Aggregations.html">Aggregations</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/And" data-name="jennifer::querybuilder::and">
      <a href="Jennifer/QueryBuilder/And.html">And</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Condition" data-name="jennifer::querybuilder::condition">
      <a href="Jennifer/QueryBuilder/Condition.html">Condition</a>
      
    </li>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria" data-name="jennifer::querybuilder::criteria">
      <a href="Jennifer/QueryBuilder/Criteria.html">Criteria</a>
      
        <ul>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria/Rightable" data-name="jennifer::querybuilder::criteria::rightable">
      <a href="Jennifer/QueryBuilder/Criteria/Rightable.html">Rightable</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ExpressionBuilder" data-name="jennifer::querybuilder::expressionbuilder">
      <a href="Jennifer/QueryBuilder/ExpressionBuilder.html">ExpressionBuilder</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/IModelQuery" data-name="jennifer::querybuilder::imodelquery">
      <a href="Jennifer/QueryBuilder/IModelQuery.html">IModelQuery</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Join" data-name="jennifer::querybuilder::join">
      <a href="Jennifer/QueryBuilder/Join.html">Join</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/JSONSelector" data-name="jennifer::querybuilder::jsonselector">
      <a href="Jennifer/QueryBuilder/JSONSelector.html">JSONSelector</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator" data-name="jennifer::querybuilder::logicoperator">
      <a href="Jennifer/QueryBuilder/LogicOperator.html">LogicOperator</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ModelQuery" data-name="jennifer::querybuilder::modelquery(t)">
      <a href="Jennifer/QueryBuilder/ModelQuery.html">ModelQuery</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Or" data-name="jennifer::querybuilder::or">
      <a href="Jennifer/QueryBuilder/Or.html">Or</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query" data-name="jennifer::querybuilder::query">
      <a href="Jennifer/QueryBuilder/Query.html">Query</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/QueryObject" data-name="jennifer::querybuilder::queryobject">
      <a href="Jennifer/QueryBuilder/QueryObject.html">QueryObject</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RawSql" data-name="jennifer::querybuilder::rawsql">
      <a href="Jennifer/QueryBuilder/RawSql.html">RawSql</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Star" data-name="jennifer::querybuilder::star">
      <a href="Jennifer/QueryBuilder/Star.html">Star</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Xor" data-name="jennifer::querybuilder::xor">
      <a href="Jennifer/QueryBuilder/Xor.html">Xor</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Record" data-name="jennifer::record">
      <a href="Jennifer/Record.html">Record</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/RecordExists" data-name="jennifer::recordexists">
      <a href="Jennifer/RecordExists.html">RecordExists</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/RecordInvalid" data-name="jennifer::recordinvalid">
      <a href="Jennifer/RecordInvalid.html">RecordInvalid</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/RecordNotFound" data-name="jennifer::recordnotfound">
      <a href="Jennifer/RecordNotFound.html">RecordNotFound</a>
      
    </li>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Relation" data-name="jennifer::relation">
      <a href="Jennifer/Relation.html">Relation</a>
      
        <ul>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base" data-name="jennifer::relation::base(t, q)">
      <a href="Jennifer/Relation/Base.html">Base</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Relation/BelongsTo" data-name="jennifer::relation::belongsto(t, q)">
      <a href="Jennifer/Relation/BelongsTo.html">BelongsTo</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Relation/HasMany" data-name="jennifer::relation::hasmany(t, q)">
      <a href="Jennifer/Relation/HasMany.html">HasMany</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Relation/HasOne" data-name="jennifer::relation::hasone(t, q)">
      <a href="Jennifer/Relation/HasOne.html">HasOne</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation" data-name="jennifer::relation::irelation">
      <a href="Jennifer/Relation/IRelation.html">IRelation</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Relation/ManyToMany" data-name="jennifer::relation::manytomany(t, q)">
      <a href="Jennifer/Relation/ManyToMany.html">ManyToMany</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/Skip" data-name="jennifer::skip">
      <a href="Jennifer/Skip.html">Skip</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/StubRelation" data-name="jennifer::stubrelation">
      <a href="Jennifer/StubRelation.html">StubRelation</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/UnknownRelation" data-name="jennifer::unknownrelation">
      <a href="Jennifer/UnknownRelation.html">UnknownRelation</a>
      
    </li>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/Jennifer/View" data-name="jennifer::view">
      <a href="Jennifer/View.html">View</a>
      
        <ul>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/View/Base" data-name="jennifer::view::base">
      <a href="Jennifer/View/Base.html">Base</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Jennifer/View/ExperimentalMapping" data-name="jennifer::view::experimentalmapping">
      <a href="Jennifer/View/ExperimentalMapping.html">ExperimentalMapping</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/imdrasil/jennifer.cr/PG" data-name="pg">
      <a href="PG.html">PG</a>
      
        <ul>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/PG/Numeric" data-name="pg::numeric">
      <a href="PG/Numeric.html">Numeric</a>
      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/PG/ResultSet" data-name="pg::resultset">
      <a href="PG/ResultSet.html">ResultSet</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/imdrasil/jennifer.cr/Time" data-name="time">
      <a href="Time.html">Time</a>
      
    </li>
  
</ul>

</div>

<div id="main-content">
<h1>Jennifer <a href="https://travis-ci.org/imdrasil/jennifer.cr" target="_blank"><img src="https://travis-ci.org/imdrasil/jennifer.cr.svg" alt="Build Status"/></a> <a href="https://github.com/imdrasil/jennifer.cr/releases" target="_blank"><img src="https://img.shields.io/github/release/imdrasil/jennifer.cr.svg" alt="Latest Release"/></a></h1>

<p>Another ActiveRecord pattern implementation for Crystal with great query DSL and migration mechanism.</p>

<h2>Installation</h2>

<p>Add this to your application's <code>shard.yml</code>:</p>

<pre><code class='language-yaml'>dependencies:
  jennifer:
    github: imdrasil/jennifer.cr</code></pre>

<p><strong>Also</strong> you need to choose one of existing adapters for your db: <a href="https://github.com/crystal-lang/crystal-mysql" target="_blank">mysql</a> or <a href="https://github.com/will/crystal-pg" target="_blank">postgres</a>.</p>

<h2>Usage</h2>

<p>Jennifer allows you to maintain everything for your models - from db migrations and field mapping to callbacks and building queries. For detailed information see the <a href="./docs/index.md" target="_blank">documentation</a>.</p>

<h4>Migration</h4>

<p>To start using Jennifer firstly generate migration:</p>

<pre><code class='language-shell'>$ crystal sam.cr -- generate:migration CreateContact</code></pre>

<p>and fill created migration file with next content:</p>

<pre><code class='language-crystal'><span class="k">class</span> <span class="t">CreateContact20170119011451314</span> <span class="o"><</span> <span class="t">Jennifer</span><span class="t">::</span><span class="t">Migration</span><span class="t">::</span><span class="t">Base</span>
  <span class="k">def</span> <span class="m">up</span>
    create_enum(<span class="n">:gender_enum</span>, [<span class="s">&quot;male&quot;</span>, <span class="s">&quot;female&quot;</span>]) <span class="c"># postgres specific command</span>
    create_table(<span class="n">:contacts</span>) <span class="k">do</span> <span class="o">|</span>t<span class="o">|</span>
      t.string <span class="n">:name</span>, {<span class="n">:size</span> => <span class="n">30</span>}
      t.integer <span class="n">:age</span>
      t.integer <span class="n">:tags</span>, {<span class="n">:array</span> => <span class="n">true</span>}
      t.field <span class="n">:gender</span>, <span class="n">:gender_enum</span>
      t.timestamps
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">down</span>
    drop_table <span class="n">:contacts</span>
    drop_enum(<span class="n">:gender_enum</span>)
  <span class="k">end</span>
<span class="k">end</span></code></pre>

<p>and run</p>

<pre><code class='language-shell'>$ crystal sam.cr -- db:setup</code></pre>

<p>to create database and run newly added migration.</p>

<blockquote>For command management Jennifer uses [Sam](https://github.com/imdrasil/sam.cr).</blockquote>

<h4>Model</h4>

<p>Several model examples</p>

<pre><code class='language-crystal'><span class="k">class</span> <span class="t">Contact</span> <span class="o"><</span> <span class="t">Jennifer</span><span class="t">::</span><span class="t">Model</span><span class="t">::</span><span class="t">Base</span>
  with_timestamps
  mapping(
    id: {<span class="k">type</span>: <span class="t">Int32</span>, primary: <span class="n">true</span>},
    name: <span class="t">String</span>,
    gender: {<span class="k">type</span>: <span class="t">String</span>, default: <span class="s">&quot;male&quot;</span>, null: <span class="n">true</span>},
    age: {<span class="k">type</span>: <span class="t">Int32</span>, default: <span class="n">10</span>},
    description: {<span class="k">type</span>: <span class="t">String</span>, null: <span class="n">true</span>},
    created_at: {<span class="k">type</span>: <span class="t">Time</span>, null: <span class="n">true</span>},
    updated_at: {<span class="k">type</span>: <span class="t">Time</span>, null: <span class="n">true</span>}
  )

  has_many <span class="n">:facebook_profiles</span>, <span class="t">FacebookProfile</span>
  has_and_belongs_to_many <span class="n">:countries</span>, <span class="t">Country</span>
  has_and_belongs_to_many <span class="n">:facebook_many_profiles</span>, <span class="t">FacebookProfile</span>, join_foreign: <span class="n">:profile_id</span>
  has_one <span class="n">:passport</span>, <span class="t">Passport</span>

  validates_inclucion <span class="n">:age</span>, <span class="n">13</span>..<span class="n">75</span>
  validates_length <span class="n">:name</span>, minimum: <span class="n">1</span>, maximum: <span class="n">15</span>
  validates_with_method <span class="n">:name_check</span>

  scope <span class="n">:main</span> { where { _age <span class="o">></span> <span class="n">18</span> } }
  scope <span class="n">:older</span> { <span class="o">|</span>age<span class="o">|</span> where { _age <span class="o">>=</span> age } }
  scope <span class="n">:ordered</span> { order(name: <span class="n">:asc</span>) }

  <span class="k">def</span> <span class="m">name_check</span>
    <span class="k">if</span> @description && @description.not_nil!.size <span class="o">></span> <span class="n">10</span>
      errors.add(<span class="n">:description</span>, <span class="s">&quot;Too large description&quot;</span>)
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="t">Passport</span> <span class="o"><</span> <span class="t">Jennifer</span><span class="t">::</span><span class="t">Model</span><span class="t">::</span><span class="t">Base</span>
  mapping(
    enn: {<span class="k">type</span>: <span class="t">String</span>, primary: <span class="n">true</span>},
    contact_id: {<span class="k">type</span>: <span class="t">Int32</span>, null: <span class="n">true</span>}
  )

  validates_with [<span class="t">EnnValidator</span>]
  belongs_to <span class="n">:contact</span>, <span class="t">Contact</span>
<span class="k">end</span>

<span class="k">class</span> <span class="t">Profile</span> <span class="o"><</span> <span class="t">Jennifer</span><span class="t">::</span><span class="t">Model</span><span class="t">::</span><span class="t">Base</span>
  mapping(
    id: {<span class="k">type</span>: <span class="t">Int32</span>, primary: <span class="n">true</span>},
    login: <span class="t">String</span>,
    contact_id: <span class="t">Int32</span>?,
    <span class="k">type</span>: <span class="t">String</span>
  )

  belongs_to <span class="n">:contact</span>, <span class="t">Contact</span>
<span class="k">end</span>

<span class="k">class</span> <span class="t">FacebookProfile</span> <span class="o"><</span> <span class="t">Profile</span>
  sti_mapping(
    uid: <span class="t">String</span>
  )

  has_and_belongs_to_many <span class="n">:facebook_contacts</span>, <span class="t">Contact</span>, foreign: <span class="n">:profile_id</span>
<span class="k">end</span>

<span class="k">class</span> <span class="t">Country</span> <span class="o"><</span> <span class="t">Jennifer</span><span class="t">::</span><span class="t">Model</span><span class="t">::</span><span class="t">Base</span>
  mapping(
    id: {<span class="k">type</span>: <span class="t">Int32</span>, primary: <span class="n">true</span>},
    name: <span class="t">String</span>
  )

  validates_exclusion <span class="n">:name</span>, [<span class="s">&quot;asd&quot;</span>, <span class="s">&quot;qwe&quot;</span>]
  validates_uniqueness <span class="n">:name</span>

  has_and_belongs_to_many <span class="n">:contacts</span>, <span class="t">Contact</span>
<span class="k">end</span></code></pre>

<h4>Quering</h4>

<p>Jennifer allows you to query db using flexible dsl:</p>

<pre><code class='language-crystal'><span class="t">Contact</span>.all.left_join(<span class="t">Passport</span>) { _contact_id <span class="o">==</span> _contact__id }
            .order(id: <span class="n">:asc</span>)
            .<span class="k">with</span>(<span class="n">:passport</span>).to_a
<span class="t">Contact</span>.all.eager_load(<span class="n">:countries</span>).where { __countries { _name.like(<span class="s">&quot;&#37;tan&#37;&quot;</span>) } }
<span class="t">Contact</span>.all.group(<span class="n">:gender</span>).group_avg(<span class="n">:age</span>, <span class="t">PG</span><span class="t">::</span><span class="t">Numeric</span>)</code></pre>

<p>Much more about query dsl could be found on wiki [[page|Query-DSL]]</p>

<h3>Important restrictions</h3>

<ul><li>sqlite3 has a lot of limitations so it's support will be added not soon</li></ul>

<h3>Versioning</h3>

<p>Now Jennifer is under hard development which could bring a lot of bracking changes. Thats why during Jennifer usage please check release notes (will be added to each release starting from 0.3.4) to check if there is any staff which can stop you from using it. Also until this library will be in beta version next version rules will be followed:</p>

<ul><li>all bugfixies, new minor features or (sometimes) ones without braking existing API will be added under patch number (e.g. 0.3.<em>4</em>);</li></ul>

<ul><li>all braking changes, new important features will be added under minor digit (0.<em>4</em>.0); also reaching milstone will also invoke bumping minor digit.</li></ul>

<p>So even patch version change could bring a lot of new staff.</p>

<p>If there is branch for next release - it will be removed after 1 month after release and after that will be removed. So please use them only as hotfix or for experiments or contibution.</p>

<h3>Test</h3>

<p>The fastest way to rollback all changes in DB after test case - transaction. So add:</p>

<pre><code class='language-crystal'><span class="t">Spec</span>.before_each <span class="k">do</span>
  <span class="t">Jennifer</span><span class="t">::</span><span class="t">Adapter</span>.adapter.begin_transaction
<span class="k">end</span>

<span class="t">Spec</span>.after_each <span class="k">do</span>
  <span class="t">Jennifer</span><span class="t">::</span><span class="t">Adapter</span>.adapter.rollback_transaction
<span class="k">end</span></code></pre>

<p>to your <code>spec_helper.cr</code>. Also just regular deleting or truncation could be used but transaction provide 15x speed up (at least for postgres; mysql gets less impact).</p>

<blockquote>This functions can be safely used only under test environment.</blockquote>

<h2>Development</h2>

<p>There are still a lot of work to do. Tasks for next versions:</p>

<ul><li>[ ] add SQLite support</li><li>[ ] increase test coverage to acceptable level</li><li>[ ] add possibility for <code>#group</code> accept any sql string</li><li>[ ] add polymorphic associations</li><li>[ ] add through to relations</li><li>[ ] add subquery support</li><li>[ ] refactor many-to-many relation</li><li>[ ] add seeds</li><li>[ ] rewrite tests to use minitest</li><li>[ ] add self documentation</li><li>[ ] add views support (materialized as well)</li></ul>

<p>Major amount ongoing features and new thoughts are created as issues.</p>

<p>Before development create db user (information is in /spec/config.cr file), run</p>

<pre><code class='language-shell'>$ crystal example/migrate.cr -- db:setup</code></pre>

<p>Support both MySql and PostgreSQL are critical. By default postgres are turned on. To run tests with mysql use next:</p>

<pre><code class='language-shell'>$ DB=mysql crystal spec</code></pre>

<h2>Documentation</h2>

<p>Self documentation is not fully support yet but you can compile docs using shell script:</p>

<pre><code class='language-shell'>$ ./generate-docs.sh</code></pre>

<p>It also depends on choosed adapter (postgres is by default).</p>

<p>Now wiki pages have a lot of usefull information. But from 0.3.4 version no information will be added there untill it will be moved to separate <code>.md</code> pages to allow contributing.</p>

<h2>Contributing</h2>

<ol><li><a href=" https://github.com/imdrasil/jennifer.cr/fork " target="_blank">Fork it</a></li><li>Create your feature branch (git checkout -b my-new-feature)</li><li>Commit your changes (git commit -am 'Add some feature')</li><li>Push to the branch (git push origin my-new-feature)</li><li>Create a new Pull Request</li></ol>

<p>Please ask me before starting work on smth.</p>

<p>Also if you want to use it in your application (for now shard is almost ready for use in production) - ping me please, my email you can find in my profile.</p>

<p>To run tests use regular <code>crystal spec</code>. All migrations is under <code>./examples/migrations</code> directory.</p>

<h2>Contributors</h2>

<ul><li><a href="https://github.com/imdrasil" target="_blank">imdrasil</a> Roman Kalnytskyi - creator, maintainer</li></ul>
</div>
</body>
</html>
