{"repository_name":"github.com/imdrasil/jennifer.cr","body":"# Jennifer [![Build Status](https://travis-ci.org/imdrasil/jennifer.cr.svg)](https://travis-ci.org/imdrasil/jennifer.cr) [![Latest Release](https://img.shields.io/github/release/imdrasil/jennifer.cr.svg)](https://github.com/imdrasil/jennifer.cr/releases) [![Docs](https://img.shields.io/badge/docs-available-brightgreen.svg)](https://imdrasil.github.io/jennifer.cr/docs/)\n\nActiveRecord pattern implementation for Crystal with a powerful query DSL, validation, relationship definition, translation and migration mechanism.\n\n## Installation\n\nAdd this to your application's `shard.yml`:\n\n```yaml\ndependencies:\n  jennifer:\n    github: imdrasil/jennifer.cr\n    version: \"~> 0.8.3\"\n```\n\n### Requirements\n\n- you need to choose one of the existing drivers for your DB: [mysql](https://github.com/crystal-lang/crystal-mysql) or [postgres](https://github.com/will/crystal-pg); sqlite3 adapter automatically installs required driver for it;\n- crystal `>= 0.31.0`.\n\n## Usage\n\nJennifer allows you to maintain everything for your models - from DB migrations and field mapping to callbacks and building queries. For detailed information see the [docs](https://imdrasil.github.io/jennifer.cr/docs/) and [API documentation](https://imdrasil.github.io/jennifer.cr/versions).\n\n### CLI\n\nFor command management Jennifer uses [Sam](https://github.com/imdrasil/sam.cr). Due to this you can easily create/migrate/drop database or invoke generator to bootstrap your models and migrations.\n\n### Migration\n\nJennifer has built-in database migration management system. Migrations allow you to organize all database changes.\n\nTo start using Jennifer you'll first need to generate a migration:\n\n```shell\n$ crystal sam.cr -- generate:migration CreateContact\n```\n\nthen fill the created migration file with content:\n\n```crystal\nclass CreateContact < Jennifer::Migration::Base\n  def up\n    # Postgres requires to create specific enum type\n    create_enum(:gender_enum, [\"male\", \"female\"])\n    create_table(:contacts) do |t|\n      t.string :name, {:size => 30}\n      t.integer :age\n      t.integer :tags, {:array => true}\n      t.field :gender, :gender_enum\n      t.timestamps\n    end\n  end\n\n  def down\n    drop_table :contacts\n    drop_enum(:gender_enum)\n  end\nend\n```\n\nand run\n\n```shell\n$ crystal sam.cr -- db:setup\n```\n\nto create the database and run the newly created migration.\n\n### Model\n\nJennifer provides next features:\n\n- flexible model schema definition\n- relationship definition (`belongs_to`, `has_many`, `has_one`, `has_and_belongs_to_many`) - including polymorphic ones\n- built-in extendable validations\n- model-specific query scope definition\n- callbacks\n- database view support\n- SQL translations\n\nHers is a model example:\n\n```crystal\nclass Contact < Jennifer::Model::Base\n  with_timestamps\n  mapping(\n    id: Primary32, # is an alias for Int32? primary key\n    name: String,\n    gender: { type: String?, default: \"male\" },\n    age: { type: Int32, default: 10 },\n    description: String?,\n    created_at: Time?,\n    updated_at: Time?\n  )\n\n  has_many :facebook_profiles, FacebookProfile\n  has_and_belongs_to_many :countries, Country\n  has_and_belongs_to_many :facebook_many_profiles, FacebookProfile, join_foreign: :profile_id\n  has_one :passport, Passport\n\n  validates_inclusion :age, 13..75\n  validates_length :name, minimum: 1, maximum: 15\n  validates_with_method :name_check\n\n  scope :older { |age| where { _age >= age } }\n  scope :ordered { order(name: :asc) }\n\n  def name_check\n    return unless description && description.not_nil!.size > 10\n    errors.add(:description, \"Too large description\")\n  end\nend\n```\n\n### Query DSL\n\nJennifer allows you to query the DB using a flexible DSL:\n\n```crystal\nContact\n  .all\n  .left_join(Passport) { _contact_id == _contact__id }\n  .order(id: :asc).order(Contact._name.asc.nulls_last)\n  .with_relation(:passport)\n  .to_a\nContact.all.eager_load(:countries).where { __countries { _name.like(\"%tan%\") } }\nContact.all.group(:gender).group_avg(:age, PG::Numeric)\n```\n\nSupported features:\n\n- fetching model objects from the database\n- fetching records from a specific table\n- *magic* underscore  table column notation which allows effectively reference any table column or alias\n- eager loading of model associations any levels deep\n- support of common SQL functions (including aggregations) and mechanism to register own ones\n- flexible DSL of all SQL clauses (`SELECT`, `FROM`, `WHERE`, `JOIN`, `GROUP BY`, etc.)\n- `CTE` support\n- `JSON` operators\n- table and column aliasing\n\nMuch more about the query DSL can be found in the wiki [page](./docs/query_dsl.md).\n\n### Internationalization\n\nYou can easily configure error message generated for certain validation violation for a specific model or globally. Model and attribute names can be easily configured as well. For internationalization purpose [i18n](https://github.com/TechMagister/i18n.cr) is used. For more details how does it work see [wiki](./docs/internationalization_dsl.md).\n\n### Logging & Debugging\n\nJennifer uses a regular Crystal logging mechanism so you could specify your own logger or formatter:\n\n```crystal\n# Here is default logger configuration\nJennifer::Config.configure do |conf|\n  conf.logger = Logger.new(STDOUT).tap do |logger|\n    logger.formatter = Logger::Formatter.new do |_severity, datetime, _progname, message, io|\n      io << datetime << \": \" << message\n    end\n\n    logger.level = Logger::DEBUG\n  end\nend\n```\n\nAll errors occurred during executing query includes query itself with arguments along side description. `Jennifer::Model::Base#inspect` returns model debug information filtered out all unnecessary information.\n\n```crystal\nAddress.first!.inspect\n# #<Address:0x7efde96ac0d0 id: 1, street: \"Ant st. 69\", contact_id: nil, created_at: 2019-06-10 11:11:11.665032000 +03:00 Local>\n```\n\nAlso, you can get a query execution plan explanation right from your code - just execute `#explain` on query to get appropriate information (output is database specific):\n\n```crystal\nContact.all.explain # => Seq Scan on contacts  (cost=0.00..14.30 rows=100.0 width=320)\n```\n\n### Testing tips\n\nThe fastest way to rollback all changes in the DB after test case is by using a transaction. So add:\n\n```crystal\nSpec.before_each do\n  Jennifer::Adapter.adapter.begin_transaction\nend\n\nSpec.after_each do\n  Jennifer::Adapter.adapter.rollback_transaction\nend\n```\n\nto your `spec_helper.cr`. NB. you could simply use regular deleting or truncation, but a transaction will provide a 15x speed up (at least for postgres; mysql gets less impact).\n\n> These functions can be safely used only under test environment.\n\n## Versioning\n\nNow that Jennifer is under heavy development, there could be many breaking changes. So please check the release notes to check if any of the changes may prevent you from using it. Also, until this library reaches a beta version, the next version rules will be followed:\n\n- all bug fixes, new minor features or (sometimes) ones that don't break the existing API will be added as a patch number (e.g. 0.3.**4**);\n\n- all breaking changes and new important features (as well as reaching a milestone) will be added by bumping the minor digit (0.**4**.0);\n\nSo even a patch version change could bring a lot of new stuff.\n\nIf there is a branch for the next release - it will be removed 1 month after the release. So please use them only as a hotfix or for experiments or contribution.\n\n## Development\n\n> Before developing any feature please create an issue where you describe your idea.\n\nTo setup dev environment run `./examples/setup.sh` - it creates `./examples/database.yml` configuration file. You can override there any values specific to your environment (like db user of password).\n\nTo create the databases:\n\n```shell\n# Postgres\n$ make sam db:setup\n\n# Mysql\n$ DB=mysql make sam db:setup\n```\n\n### Running tests\n\nAll unit tests are written using core `spec`. Also in `spec/spec_helper.cr` some custom unit test matchers are defined. All migrations are under the `./examples/migrations` directory.\n\nThe common way to run tests is just use using regular crystal spec tool:\n\n```shell\n$ crystal spec\n```\n\nPostgreSQL is used by default, but MySql is also supported while running tests by specifying environment variable `DB=mysql`:\n\nIn case you need to set the database user or password, use:\n\n```shell\n$ DB_USER=user DB_PASSWORD=pass crystal spec\n```\n\n#### Integration tests\n\nExcept unit tests there are also several *integration* tests. These tests checks possibility to compile and invoke jennifer functionality in some special edge cases (e.g. without defined models, migrations, etc.).\n\nTo run integration test just use standard spec runner:\n\n```shell\n$ crystal spec spec/integration/<test_name>.cr\n```\n\nEach test file is required to be invoked separately as it may have own configuration.\n\nTo run docker-related tests (by the way, all of them run only with mysql) firstly you should run docker container and specify environment variable `DOCKER=1`. For more details take a look at `spec/integration/sam/*` application files and `examples/run_docker_mysql.sh` docker boot script.\n\n## Documentation\n\nSelf documentation is not fully support yet but docs can be compiled using this shell script:\n\n```shell\n$ ./generate-docs.sh\n```\n\nNB. It also depends on then chosen adapter (postgres by default).\n\n## Similar shards\n\n- [crecto](https://github.com/Crecto/crecto) - based on Phoenix's Ecto lib and follows the repository pattern\n- [granite-orm](https://github.com/amberframework/granite) - lightweight ORM focusing on mapping fields from request to your objects\n- [topaz](https://github.com/topaz-crystal/topaz) - inspired by AR ORM with migration mechanism\n- [micrate](https://github.com/juanedi/micrate) - standalone database migration tool for crystal\n\n## Contributing\n\n1. [Fork it]( https://github.com/imdrasil/jennifer.cr/fork )\n2. Create your feature branch (git checkout -b my-new-feature)\n3. Commit your changes (git commit -am 'Add some feature')\n4. Push to the branch (git push origin my-new-feature)\n5. Create a new Pull Request\n\nPlease ask me before starting work on smth.\n\n## Contributors\n\n- [imdrasil](https://github.com/imdrasil) Roman Kalnytskyi - creator, maintainer\n","program":{"html_id":"github.com/imdrasil/jennifer.cr/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/imdrasil/jennifer.cr","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","path":"Jennifer.html","kind":"module","full_name":"Jennifer","name":"Jennifer","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/macros.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/macros.cr"},{"filename":"jennifer/exceptions.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"},{"filename":"jennifer/adapter/transaction_observer.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr"},{"filename":"jennifer/adapter/transactions.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr"},{"filename":"jennifer/adapter/result_parsers.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/result_parsers.cr"},{"filename":"jennifer/adapter/request_methods.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/request_methods.cr"},{"filename":"jennifer/adapter/base.cr","line_number":7,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr"},{"filename":"jennifer/adapter.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr"},{"filename":"jennifer/adapter/record.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr"},{"filename":"jennifer/config.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr"},{"filename":"jennifer/query_builder/statement.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/statement.cr"},{"filename":"jennifer/query_builder/sql_node.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/sql_node.cr"},{"filename":"jennifer/query_builder.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder.cr"},{"filename":"jennifer/query_builder/aggregations.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr"},{"filename":"jennifer/query_builder/all.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/all.cr"},{"filename":"jennifer/query_builder/any.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/any.cr"},{"filename":"jennifer/query_builder/logic_operator.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr"},{"filename":"jennifer/query_builder/condition.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr"},{"filename":"jennifer/query_builder/json_selector.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/json_selector.cr"},{"filename":"jennifer/query_builder/order_item.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr"},{"filename":"jennifer/query_builder/criteria.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr"},{"filename":"jennifer/query_builder/eager_loading.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/eager_loading.cr"},{"filename":"jennifer/query_builder/executables.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr"},{"filename":"jennifer/query_builder/expression_builder.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/grouping.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/grouping.cr"},{"filename":"jennifer/query_builder/ordering.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr"},{"filename":"jennifer/query_builder/joining.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/joining.cr"},{"filename":"jennifer/query_builder/query.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr"},{"filename":"jennifer/query_builder/i_model_query.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr"},{"filename":"jennifer/query_builder/join.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr"},{"filename":"jennifer/query_builder/model_query.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/model_query.cr"},{"filename":"jennifer/relation/base.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr"},{"filename":"jennifer/relation/belongs_to.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr"},{"filename":"jennifer/relation/has_many.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/has_many.cr"},{"filename":"jennifer/relation/has_one.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/has_one.cr"},{"filename":"jennifer/relation/many_to_many.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr"},{"filename":"jennifer/relation/polymorphic_belongs_to.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr"},{"filename":"jennifer/relation/polymorphic_has_many.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr"},{"filename":"jennifer/relation/polymorphic_has_one.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr"},{"filename":"jennifer/relation/relation_stub.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/relation_stub.cr"},{"filename":"jennifer/model/errors.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr"},{"filename":"jennifer/model/scoping.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/scoping.cr"},{"filename":"jennifer/model/translation.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr"},{"filename":"jennifer/model/relation_definition.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/relation_definition.cr"},{"filename":"jennifer/model/resource.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr"},{"filename":"jennifer/model/mapping.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/mapping.cr"},{"filename":"jennifer/model/sti_mapping.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/sti_mapping.cr"},{"filename":"jennifer/validations/validator.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/validator.cr"},{"filename":"jennifer/validations/absence.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/absence.cr"},{"filename":"jennifer/validations/acceptance.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/acceptance.cr"},{"filename":"jennifer/validations/confirmation.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/confirmation.cr"},{"filename":"jennifer/validations/exclusion.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/exclusion.cr"},{"filename":"jennifer/validations/format.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/format.cr"},{"filename":"jennifer/validations/inclusion.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/inclusion.cr"},{"filename":"jennifer/validations/length.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/length.cr"},{"filename":"jennifer/validations/numericality.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/numericality.cr"},{"filename":"jennifer/validations/presence.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/presence.cr"},{"filename":"jennifer/validations/uniqueness.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/uniqueness.cr"},{"filename":"jennifer/validations/macros.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr"},{"filename":"jennifer/model/validation.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/validation.cr"},{"filename":"jennifer/model/callback.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr"},{"filename":"jennifer/model/converters.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/converters.cr"},{"filename":"jennifer/model/base.cr","line_number":12,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr"},{"filename":"jennifer/query_builder/relation_tree.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr"},{"filename":"jennifer/query_builder/multi_query_relation_tree.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/multi_query_relation_tree.cr"},{"filename":"jennifer/query_builder/nested_relation_tree.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/nested_relation_tree.cr"},{"filename":"jennifer/query_builder/query_object.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query_object.cr"},{"filename":"jennifer/query_builder/raw_sql.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr"},{"filename":"jennifer/query_builder/star.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/star.cr"},{"filename":"jennifer/view/mapping.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/mapping.cr"},{"filename":"jennifer/view/base.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr"},{"filename":"jennifer/view/materialized.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/materialized.cr"},{"filename":"jennifer/migration/base.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr"},{"filename":"jennifer/migration/table_builder/base.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr"},{"filename":"jennifer/migration/table_builder/create_foreign_key.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr"},{"filename":"jennifer/migration/table_builder/drop_foreign_key.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_foreign_key.cr"},{"filename":"jennifer/migration/table_builder/change_table.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr"},{"filename":"jennifer/migration/table_builder/create_index.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr"},{"filename":"jennifer/migration/table_builder/create_table.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr"},{"filename":"jennifer/migration/table_builder/create_view.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_view.cr"},{"filename":"jennifer/migration/table_builder/drop_index.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_index.cr"},{"filename":"jennifer/migration/table_builder/drop_table.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_table.cr"},{"filename":"jennifer/migration/table_builder/drop_view.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_view.cr"},{"filename":"jennifer/migration/table_builder/raw.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/raw.cr"},{"filename":"jennifer/adapter/schema_processor.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr"},{"filename":"jennifer/migration/runner.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/runner.cr"},{"filename":"jennifer/migration/version.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/version.cr"},{"filename":"jennifer.cr","line_number":24,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer.cr"},{"filename":"jennifer/adapter/base_sql_generator.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr"},{"filename":"jennifer/adapter/mysql/sql_generator.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/sql_generator.cr"},{"filename":"jennifer/adapter/command_shell/command.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr"},{"filename":"jennifer/adapter/command_shell/i_command_shell.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/i_command_shell.cr"},{"filename":"jennifer/adapter/db_command_interface.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr"},{"filename":"jennifer/adapter/command_shell/bash.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/bash.cr"},{"filename":"jennifer/adapter/mysql/command_interface.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/command_interface.cr"},{"filename":"jennifer/adapter/mysql/schema_processor.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/schema_processor.cr"},{"filename":"jennifer/adapter/mysql.cr","line_number":8,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr"},{"filename":"jennifer/adapter/postgres/exec_result.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/exec_result.cr"},{"filename":"jennifer/adapter/postgres/sql_generator.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr"},{"filename":"jennifer/adapter/postgres/schema_processor.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr"},{"filename":"jennifer/adapter/postgres/command_interface.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/command_interface.cr"},{"filename":"jennifer/adapter/postgres.cr","line_number":12,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr"},{"filename":"jennifer/adapter/postgres/converters.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/converters.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/base.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/base.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/change_enum.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_enum.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_enum.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr"},{"filename":"jennifer/model/authentication.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/authentication.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"\"0.8.3\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"NOTE: WIP","summary":"<p><span class=\"flag purple\">NOTE</span>  WIP</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"after_load_hook-macro","html_id":"after_load_hook-macro","name":"after_load_hook","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer.cr#L32","def":{"name":"after_load_hook","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% for script in AFTER_LOAD_SCRIPT %}\n      {{ script.id }}\n    {% end %}\n\n  \n"}}],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/AbstractMethod","path":"Jennifer/AbstractMethod.html","kind":"class","full_name":"Jennifer::AbstractMethod","name":"AbstractMethod","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":8,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"Is raised when pseudo-abstract method is invoked.\n\nPseudo-abstract method - method that can't be marked as abstract but for current level of abstraction\nit still can't be used.","summary":"<p>Is raised when pseudo-abstract method is invoked.</p>","class_methods":[],"constructors":[{"id":"new(method,klass)-class-method","html_id":"new(method,klass)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(method, klass)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L9","def":{"name":"new","args":[{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(method, klass)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","path":"Jennifer/Adapter.html","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/transaction_observer.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr"},{"filename":"jennifer/adapter/transactions.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr"},{"filename":"jennifer/adapter/result_parsers.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/result_parsers.cr"},{"filename":"jennifer/adapter/request_methods.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/request_methods.cr"},{"filename":"jennifer/adapter/base.cr","line_number":8,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr"},{"filename":"jennifer/adapter.cr","line_number":11,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr"},{"filename":"jennifer/adapter/schema_processor.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr"},{"filename":"jennifer/adapter/base_sql_generator.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr"},{"filename":"jennifer/adapter/command_shell/command.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr"},{"filename":"jennifer/adapter/command_shell/i_command_shell.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/i_command_shell.cr"},{"filename":"jennifer/adapter/db_command_interface.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr"},{"filename":"jennifer/adapter/command_shell/bash.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/bash.cr"},{"filename":"jennifer/adapter/command_shell/docker.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/docker.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"TYPES","name":"TYPES","value":"[:tinyint, :integer, :short, :bigint, :oid, :float, :double, :numeric, :decimal, :bool, :string, :char, :text, :varchar, :blchar, :uuid, :timestamp, :timestamptz, :date_time, :date, :blob, :bytea, :json, :jsonb, :xml, :point, :lseg, :path, :box, :polygon, :line, :circle] of ::Symbol","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[{"id":"adapter-class-method","html_id":"adapter-class-method","name":"adapter","doc":"Returns adapter instance.\n\nThe first call greps all model's table column numbers.","summary":"<p>Returns adapter instance.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr#L47","def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@adapter || (@@adapter = (begin\n  a = adapter_class.not_nil!.build\n  self.adapter = a\n  a.prepare\n  a\nend))"}},{"id":"adapter_class-class-method","html_id":"adapter_class-class-method","name":"adapter_class","doc":"Returns adapter class.","summary":"<p>Returns adapter class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr#L69","def":{"name":"adapter_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@adapter_class || (@@adapter_class = adapters[Config.adapter])"}},{"id":"adapters-class-method","html_id":"adapters-class-method","name":"adapters","doc":"Returns hash with all registered adapter classes","summary":"<p>Returns hash with all registered adapter classes</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr#L74","def":{"name":"adapters","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@adapters"}},{"id":"default_adapter-class-method","html_id":"default_adapter-class-method","name":"default_adapter","doc":"Returns default adapter.\n\nNOTE: this is a temporary solution to decouple adapter dependency or query class.","summary":"<p>Returns default adapter.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr#L59","def":{"name":"default_adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter"}},{"id":"default_adapter_class-class-method","html_id":"default_adapter_class-class-method","name":"default_adapter_class","doc":"Returns default adapter class.","summary":"<p>Returns default adapter class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr#L64","def":{"name":"default_adapter_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter_class"}},{"id":"exec(*opts)-class-method","html_id":"exec(*opts)-class-method","name":"exec","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr#L29","def":{"name":"exec","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(*opts)"}},{"id":"query(_query,args=[]ofDBAny,&block)-class-method","html_id":"query(_query,args=[]ofDBAny,&amp;block)-class-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":""},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":""}],"args_string":"(_query, args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DBAny</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr#L35","def":{"name":"query","args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":""},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.query(_query, args) do |rs|\n  yield rs\nend"}},{"id":"register_adapter(name,adapter)-class-method","html_id":"register_adapter(name,adapter)-class-method","name":"register_adapter","doc":"Registers adapter class *adapter* with name *name*.","summary":"<p>Registers adapter class <em>adapter</em> with name <em>name</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""}],"args_string":"(name, adapter)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr#L79","def":{"name":"register_adapter","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapters[name] = adapter"}},{"id":"scalar(*opts)-class-method","html_id":"scalar(*opts)-class-method","name":"scalar","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr#L29","def":{"name":"scalar","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.scalar(*opts)"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","path":"Jennifer/Adapter/Base.html","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/RequestMethods","kind":"module","full_name":"Jennifer::Adapter::RequestMethods","name":"RequestMethods"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ResultParsers","kind":"module","full_name":"Jennifer::Adapter::ResultParsers","name":"ResultParsers"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Transactions","kind":"module","full_name":"Jennifer::Adapter::Transactions","name":"Transactions"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/base.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/RequestMethods","kind":"module","full_name":"Jennifer::Adapter::RequestMethods","name":"RequestMethods"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ResultParsers","kind":"module","full_name":"Jennifer::Adapter::ResultParsers","name":"ResultParsers"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Transactions","kind":"module","full_name":"Jennifer::Adapter::Transactions","name":"Transactions"}],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base/AbstractClassMethods","kind":"module","full_name":"Jennifer::Adapter::Base::AbstractClassMethods","name":"AbstractClassMethods"}],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql/Adapter","kind":"class","full_name":"Jennifer::Mysql::Adapter","name":"Adapter"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Adapter","kind":"class","full_name":"Jennifer::Postgres::Adapter","name":"Adapter"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[{"id":"build-class-method","html_id":"build-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L31","def":{"name":"build","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new"}},{"id":"connection_string(*options)-class-method","html_id":"connection_string(*options)-class-method","name":"connection_string","doc":null,"summary":null,"abstract":false,"args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(*options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L219","def":{"name":"connection_string","args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"auth_part = Config.user\nif Config.password && (!Config.password.empty?)\n  auth_part = auth_part + \":#{Config.password}\"\nend\nhost_part = Config.host\nif Config.port.try(&.>(0))\n  host_part = host_part + \":#{Config.port}\"\nend\nString.build do |s|\n  ((((s << Config.adapter) << \"://\") << auth_part) << \"@\") << host_part\n  if options.includes?(:db)\n    (s << \"/\") << Config.db\n  end\n  s << \"?\"\n  {% if true %}\n          [\n            {% for arg in Config::CONNECTION_URI_PARAMS %}\n              \"{{ arg.id }}=#{Config.{{ arg.id }}}\",\n            {% end %}\n          ].join(\"&\", s)\n          {% end %}\nend\n"}},{"id":"create_database-class-method","html_id":"create_database-class-method","name":"create_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L178","def":{"name":"create_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command_interface.create_database"}},{"id":"database_exists?-class-method","html_id":"database_exists?-class-method","name":"database_exists?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L194","def":{"name":"database_exists?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command_interface.database_exists?"}},{"id":"db_connection(&block)-class-method","html_id":"db_connection(&amp;block)-class-method","name":"db_connection","doc":"Yields to block connection to the database main schema.","summary":"<p>Yields to block connection to the database main schema.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L199","def":{"name":"db_connection","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  DB.open(connection_string) do |db|\n    yield db\n  end\nrescue e\n  puts(e)\n  raise(e)\nend"}},{"id":"drop_database-class-method","html_id":"drop_database-class-method","name":"drop_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L190","def":{"name":"drop_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command_interface.drop_database"}},{"id":"foreign_key_name(from_table,to_table=nil,column=nil,name:String?=nil):String-class-method","html_id":"foreign_key_name(from_table,to_table=nil,column=nil,name:String?=nil):String-class-method","name":"foreign_key_name","doc":"Generates foreign key name for given tables.","summary":"<p>Generates foreign key name for given tables.</p>","abstract":false,"args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"nil","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(from_table, to_table = <span class=\"n\">nil</span>, column = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>) : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L214","def":{"name":"foreign_key_name","args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"nil","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"column_name = Migration::TableBuilder::CreateForeignKey.column_name(to_table, column)\nMigration::TableBuilder::CreateForeignKey.foreign_key_name(from_table, column_name, name)\n"}},{"id":"generate_schema-class-method","html_id":"generate_schema-class-method","name":"generate_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L182","def":{"name":"generate_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command_interface.generate_schema"}},{"id":"join_table_name(table1:String|Symbol,table2:String|Symbol)-class-method","html_id":"join_table_name(table1:String|Symbol,table2:String|Symbol)-class-method","name":"join_table_name","doc":"Generates name for join table.","summary":"<p>Generates name for join table.</p>","abstract":false,"args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":"String | Symbol"},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":"String | Symbol"}],"args_string":"(table1 : String | Symbol, table2 : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L209","def":{"name":"join_table_name","args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":"String | Symbol"},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[table1.to_s, table2.to_s].sort.join(\"_\")"}},{"id":"load_schema-class-method","html_id":"load_schema-class-method","name":"load_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L186","def":{"name":"load_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command_interface.load_schema"}},{"id":"t(field:Nil)-class-method","html_id":"t(field:Nil)-class-method","name":"t","doc":"filter out value; should be refactored","summary":"<p>filter out value; should be refactored</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Nil"}],"args_string":"(field : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L241","def":{"name":"t","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"NULL\""}},{"id":"t(field:String)-class-method","html_id":"t(field:String)-class-method","name":"t","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"}],"args_string":"(field : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L245","def":{"name":"t","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(\"'\" + field) + \"'\""}},{"id":"t(field)-class-method","html_id":"t(field)-class-method","name":"t","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"args_string":"(field)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L249","def":{"name":"t","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"field"}}],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L27","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"bulk_insert(collection:Array(Model::Base))-instance-method","html_id":"bulk_insert(collection:Array(Model::Base))-instance-method","name":"bulk_insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":"Array(Model::Base)"}],"args_string":"(collection : Array(Model::Base))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L116","def":{"name":"bulk_insert","args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":"Array(Model::Base)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if collection.empty?\n  return collection\nend\nklass = collection[0].class\nfields = collection[0].arguments_to_insert[:fields]\nvalues = collection.flat_map do |__arg0|\n  __arg0.arguments_to_insert[:args]\nend\nparsed_query = parse_query(sql_generator.bulk_insert(klass.table_name, fields, collection.size), values)\nwith_table_lock(klass.table_name) do\n  exec(*parsed_query)\n  if klass.primary_auto_incrementable?\n    (((klass.all.order(klass.primary.desc)).limit(collection.size)).pluck(:id)).reverse_each.each_with_index do |id, i|\n      collection[i].init_primary_field(id.as(Int))\n    end\n  end\nend\ncollection\n"}},{"id":"bulk_insert(table:String,fields:Array(String),values:Array(ArgsType))-instance-method","html_id":"bulk_insert(table:String,fields:Array(String),values:Array(ArgsType))-instance-method","name":"bulk_insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(ArgsType)"}],"args_string":"(table : String, fields : Array(String), values : Array(ArgsType))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L135","def":{"name":"bulk_insert","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(ArgsType)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if values.empty?\n  return\nend\nwith_table_lock(table) do\n  flat_values = values.flatten\n  exec(*parse_query(sql_generator.bulk_insert(table, fields, values.size), flat_values))\nend\n"}},{"id":"column_exists?(table,name)-instance-method","html_id":"column_exists?(table,name)-instance-method","name":"column_exists?","doc":"Returns whether column of *table* with *name* exists.\n\n```\n# Check a column exists\ncolumn_exists?(:suppliers, :name)\n```","summary":"<p>Returns whether column of <em>table</em> with <em>name</em> exists.</p>","abstract":true,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L321","def":{"name":"column_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"count(query:QueryBuilder::Query)-instance-method","html_id":"count(query:QueryBuilder::Query)-instance-method","name":"count","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"args_string":"(query : QueryBuilder::Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L112","def":{"name":"count","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"((scalar(*parse_query(sql_generator.count(query), query.sql_args))).as(Int64)).to_i"}},{"id":"db:DB::Database-instance-method","html_id":"db:DB::Database-instance-method","name":"db","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : DB::Database","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L27","def":{"name":"db","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"DB::Database","visibility":"Public","body":"@db"}},{"id":"default_type_size(name)-instance-method","html_id":"default_type_size(name)-instance-method","name":"default_type_size","doc":null,"summary":null,"abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L325","def":{"name":"default_type_size","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"delete(query:QueryBuilder::Query)-instance-method","html_id":"delete(query:QueryBuilder::Query)-instance-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"args_string":"(query : QueryBuilder::Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L104","def":{"name":"delete","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(*parse_query(sql_generator.delete(query), query.sql_args))"}},{"id":"exec(query:String,args:ArgsType=[]ofDBAny)-instance-method","html_id":"exec(query:String,args:ArgsType=[]ofDBAny)-instance-method","name":"exec","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"ArgsType"}],"args_string":"(query : String, args : ArgsType = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DBAny</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L52","def":{"name":"exec","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"ArgsType"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  time = Time.monotonic\n  res = with_connection do |conn|\n    conn.exec(query, args: args)\n  end\n  time = Time.monotonic - time\n  Config.logger.debug do\n    regular_query_message(time, query, args)\n  end\n  res\nrescue e : BaseException\n  BadQuery.prepend_information(e, query, args)\n  raise(e)\nrescue e : DB::Error\n  raise(e)\nrescue e : Exception\n  raise(BadQuery.new(e.message, query, args))\nend"}},{"id":"exists?(query:QueryBuilder::Query):Bool-instance-method","html_id":"exists?(query:QueryBuilder::Query):Bool-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"args_string":"(query : QueryBuilder::Query) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L108","def":{"name":"exists?","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"(scalar(*parse_query(sql_generator.exists(query), query.sql_args))) == 1"}},{"id":"explain(q)-instance-method","html_id":"explain(q)-instance-method","name":"explain","doc":null,"summary":null,"abstract":true,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""}],"args_string":"(q)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L329","def":{"name":"explain","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"foreign_key_exists?(from_table,to_table=nil,column=nil,name:String?=nil):Bool-instance-method","html_id":"foreign_key_exists?(from_table,to_table=nil,column=nil,name:String?=nil):Bool-instance-method","name":"foreign_key_exists?","doc":"Checks to see if a foreign key exists on a table for a given foreign key definition.\n\n```\n# Checks to see if a foreign key exists.\nadapter.foreign_key_exists?(:accounts, :branches)\n\n# Checks to see if a foreign key on a specified column exists.\nadapter.foreign_key_exists?(:accounts, column: :owner_id)\n\n# Checks to see if a foreign key with a custom name exists.\nadapter.foreign_key_exists?(:accounts, name: \"special_fk_name\")\n```","summary":"<p>Checks to see if a foreign key exists on a table for a given foreign key definition.</p>","abstract":true,"args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"nil","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(from_table, to_table = <span class=\"n\">nil</span>, column = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L311","def":{"name":"foreign_key_exists?","args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"nil","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":""}},{"id":"index_exists?(table,fields:Array)-instance-method","html_id":"index_exists?(table,fields:Array)-instance-method","name":"index_exists?","doc":"Returns whether index for the *table` with *name* or *fields* exists.\n\n```\n# Check an index exists\nadapter.index_exists?(:suppliers, :company_id)\n\n# Check an index on multiple columns exists\nadapter.index_exists?(:suppliers, [:company_id, :company_type])\n\n# Check an index with a custom name exists\nadapter.index_exists?(:suppliers, \"idx_company_id\")\n```","summary":"<p>Returns whether index for the *table` with <em>name</em> or <em>fields</em> exists.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"}],"args_string":"(table, fields : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L165","def":{"name":"index_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"index_name = Migration::TableBuilder::CreateIndex.generate_index_name(table, fields, nil)\nindex_exists?(table, index_name)\n"}},{"id":"index_exists?(table,name:String)-instance-method","html_id":"index_exists?(table,name:String)-instance-method","name":"index_exists?","doc":null,"summary":null,"abstract":true,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(table, name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L313","def":{"name":"index_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"insert(obj)-instance-method","html_id":"insert(obj)-instance-method","name":"insert","doc":null,"summary":null,"abstract":true,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""}],"args_string":"(obj)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L290","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"parse_query(q:String,args:ArgsType)-instance-method","html_id":"parse_query(q:String,args:ArgsType)-instance-method","name":"parse_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":"String"},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"ArgsType"}],"args_string":"(q : String, args : ArgsType)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L170","def":{"name":"parse_query","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":"String"},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"ArgsType"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"sql_generator.parse_query(q, args)"}},{"id":"parse_query(q:String)-instance-method","html_id":"parse_query(q:String)-instance-method","name":"parse_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":"String"}],"args_string":"(q : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L174","def":{"name":"parse_query","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"sql_generator.parse_query(q)"}},{"id":"prepare-instance-method","html_id":"prepare-instance-method","name":"prepare","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L35","def":{"name":"prepare","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"models = Hash(String, Array(Jennifer::Model::Base.class)).new do |hash, name|\n  hash[name] = [] of Jennifer::Model::Base.class\nend\n::Jennifer::Model::Base.models.each do |model|\n  models[model.table_name] << model\nend\n(tables_column_count(models.keys)).each do |record|\n  count = (record.count(Int64)).to_i\n  models[record.table_name(String)].each do |model|\n    model.actual_table_field_count = count\n  end\nend\n"}},{"id":"query(query:String,args:ArgsType=[]ofDBAny,&block)-instance-method","html_id":"query(query:String,args:ArgsType=[]ofDBAny,&amp;block)-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"ArgsType"}],"args_string":"(query : String, args : ArgsType = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DBAny</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L67","def":{"name":"query","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"ArgsType"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  time = Time.monotonic\n  res = with_connection do |conn|\n    conn.query(query, args: args) do |rs|\n      time = Time.monotonic - time\n      yield rs\n    end\n  end\n  Config.logger.debug do\n    regular_query_message(time, query, args)\n  end\n  res\nrescue e : BaseException\n  BadQuery.prepend_information(e, query, args)\n  raise(e)\nrescue e : DB::Error\n  raise(e)\nrescue e : Exception\n  raise(BadQuery.new(e.message, query, args))\nend"}},{"id":"query_array(_query:String,klass:T.class,field_count:Int32=1)forallT-instance-method","html_id":"query_array(_query:String,klass:T.class,field_count:Int32=1)forallT-instance-method","name":"query_array","doc":null,"summary":null,"abstract":false,"args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":"String"},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"},{"name":"field_count","doc":null,"default_value":"1","external_name":"field_count","restriction":"Int32"}],"args_string":"(_query : String, klass : <span class=\"t\">T</span>.<span class=\"k\">class</span>, field_count : Int32 = <span class=\"n\">1</span>) forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L264","def":{"name":"query_array","args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":"String"},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"},{"name":"field_count","doc":null,"default_value":"1","external_name":"field_count","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = [] of Array(T)\nquery(_query) do |rs|\n  rs.each do\n    temp = [] of T\n    field_count.times do\n      temp << (rs.read(T))\n    end\n    result << temp\n  end\nend\nresult\n"}},{"id":"ready_to_migrate!-instance-method","html_id":"ready_to_migrate!-instance-method","name":"ready_to_migrate!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L255","def":{"name":"ready_to_migrate!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if table_exists?(Migration::Version.table_name)\n  return\nend\ntb = Migration::TableBuilder::CreateTable.new(self, Migration::Version.table_name)\ntb.integer(:id, {:primary => true, :auto_increment => true})\ntb.string(:version, {:size => 17, :null => false})\ntb.process\n"}},{"id":"refresh_materialized_view(name)-instance-method","html_id":"refresh_materialized_view(name)-instance-method","name":"refresh_materialized_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L331","def":{"name":"refresh_materialized_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(:refresh_materialized_view, self.class))"}},{"id":"scalar(query:String,args:ArgsType=[]ofDBAny)-instance-method","html_id":"scalar(query:String,args:ArgsType=[]ofDBAny)-instance-method","name":"scalar","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"ArgsType"}],"args_string":"(query : String, args : ArgsType = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DBAny</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L81","def":{"name":"scalar","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"ArgsType"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  time = Time.monotonic\n  res = with_connection do |conn|\n    conn.scalar(query, args: args)\n  end\n  time = Time.monotonic - time\n  Config.logger.debug do\n    regular_query_message(time, query, args)\n  end\n  res\nrescue e : BaseException\n  BadQuery.prepend_information(e, query, args)\n  raise(e)\nrescue e : DB::Error\n  raise(e)\nrescue e : Exception\n  raise(BadQuery.new(e.message, query, args))\nend"}},{"id":"schema_processor-instance-method","html_id":"schema_processor-instance-method","name":"schema_processor","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L278","def":{"name":"schema_processor","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"sql_generator-instance-method","html_id":"sql_generator-instance-method","name":"sql_generator","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L279","def":{"name":"sql_generator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"table_column_count(table)-instance-method","html_id":"table_column_count(table)-instance-method","name":"table_column_count","doc":null,"summary":null,"abstract":true,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L326","def":{"name":"table_column_count","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"table_exists?(table)-instance-method","html_id":"table_exists?(table)-instance-method","name":"table_exists?","doc":"Returns where table with given *table* name exists.\n\n```\nadapter.table_exists?(:developers)\n```","summary":"<p>Returns where table with given <em>table</em> name exists.</p>","abstract":true,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L297","def":{"name":"table_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"tables_column_count(tables:Array(String))-instance-method","html_id":"tables_column_count(tables:Array(String))-instance-method","name":"tables_column_count","doc":null,"summary":null,"abstract":true,"args":[{"name":"tables","doc":null,"default_value":"","external_name":"tables","restriction":"Array(String)"}],"args_string":"(tables : Array(String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L327","def":{"name":"tables_column_count","args":[{"name":"tables","doc":null,"default_value":"","external_name":"tables","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"translate_type(name)-instance-method","html_id":"translate_type(name)-instance-method","name":"translate_type","doc":"Translates symbol data type name to database-specific data type.","summary":"<p>Translates symbol data type name to database-specific data type.</p>","abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L324","def":{"name":"translate_type","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"truncate(table_name:String)-instance-method","html_id":"truncate(table_name:String)-instance-method","name":"truncate","doc":null,"summary":null,"abstract":false,"args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":"String"}],"args_string":"(table_name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L100","def":{"name":"truncate","args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(sql_generator.truncate(table_name))"}},{"id":"truncate(klass:Class)-instance-method","html_id":"truncate(klass:Class)-instance-method","name":"truncate","doc":null,"summary":null,"abstract":false,"args":[{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"Class"}],"args_string":"(klass : Class)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L96","def":{"name":"truncate","args":[{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"Class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"truncate(klass.table_name)"}},{"id":"update(q,h)-instance-method","html_id":"update(q,h)-instance-method","name":"update","doc":null,"summary":null,"abstract":true,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":""}],"args_string":"(q, h)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L289","def":{"name":"update","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"update(obj)-instance-method","html_id":"update(obj)-instance-method","name":"update","doc":null,"summary":null,"abstract":true,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""}],"args_string":"(obj)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L288","def":{"name":"update","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"upsert(table:String,fields:Array(String),values:Array(ArgsType),unique_fields,on_conflict:Hash)-instance-method","html_id":"upsert(table:String,fields:Array(String),values:Array(ArgsType),unique_fields,on_conflict:Hash)-instance-method","name":"upsert","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(ArgsType)"},{"name":"unique_fields","doc":null,"default_value":"","external_name":"unique_fields","restriction":""},{"name":"on_conflict","doc":null,"default_value":"","external_name":"on_conflict","restriction":"Hash"}],"args_string":"(table : String, fields : Array(String), values : Array(ArgsType), unique_fields, on_conflict : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L144","def":{"name":"upsert","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(ArgsType)"},{"name":"unique_fields","doc":null,"default_value":"","external_name":"unique_fields","restriction":""},{"name":"on_conflict","doc":null,"default_value":"","external_name":"on_conflict","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = sql_generator.insert_on_duplicate(table, fields, values.size, unique_fields, on_conflict)\nargs = [] of DBAny\nvalues.each do |row|\n  args.concat(row)\nend\non_conflict.each do |_, value|\n  add_field_assign_arguments(args, value)\nend\nexec(*parse_query(query, args))\n"}},{"id":"view_exists?(name):Bool-instance-method","html_id":"view_exists?(name):Bool-instance-method","name":"view_exists?","doc":"Check whether view with given *name* exists.\n\n```\nadapter.view_exists?(:youth_contacts)\n```","summary":"<p>Check whether view with given <em>name</em> exists.</p>","abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L286","def":{"name":"view_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":""}},{"id":"with_table_lock(table:String,type:String=&quot;default&quot;,&block)-instance-method","html_id":"with_table_lock(table:String,type:String=&amp;quot;default&amp;quot;,&amp;block)-instance-method","name":"with_table_lock","doc":null,"summary":null,"abstract":true,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"type","doc":null,"default_value":"\"default\"","external_name":"type","restriction":"String"}],"args_string":"(table : String, type : String = <span class=\"s\">&quot;default&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L328","def":{"name":"with_table_lock","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"type","doc":null,"default_value":"\"default\"","external_name":"type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base/AbstractClassMethods","path":"Jennifer/Adapter/Base/AbstractClassMethods.html","kind":"module","full_name":"Jennifer::Adapter::Base::AbstractClassMethods","name":"AbstractClassMethods","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/base.cr","line_number":19,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"command_interface-instance-method","html_id":"command_interface-instance-method","name":"command_interface","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr#L20","def":{"name":"command_interface","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base/ArgsType","path":"Jennifer/Adapter/Base/ArgsType.html","kind":"alias","full_name":"Jennifer::Adapter::Base::ArgsType","name":"ArgsType","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/base.cr","line_number":17,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"Array(Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | Time::Span | UInt32 | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSQLGenerator","path":"Jennifer/Adapter/BaseSQLGenerator.html","kind":"class","full_name":"Jennifer::Adapter::BaseSQLGenerator","name":"BaseSQLGenerator","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/base_sql_generator.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"ARGUMENT_ESCAPE_STRING","name":"ARGUMENT_ESCAPE_STRING","value":"\"%s\"","doc":null,"summary":null},{"id":"ARRAY_ESCAPE","name":"ARRAY_ESCAPE","value":"\"\\\\\\\\\\\\\\\\\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSQLGenerator/ClassMethods","kind":"module","full_name":"Jennifer::Adapter::BaseSQLGenerator::ClassMethods","name":"ClassMethods"}],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql/SQLGenerator","kind":"class","full_name":"Jennifer::Mysql::SQLGenerator","name":"SQLGenerator"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/SQLGenerator","kind":"class","full_name":"Jennifer::Postgres::SQLGenerator","name":"SQLGenerator"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[{"id":"body_section(io:String::Builder,query)-class-method","html_id":"body_section(io:String::Builder,query)-class-method","name":"body_section","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L116","def":{"name":"body_section","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"join_clause(io, query)\nwhere_clause(io, query)\ngroup_clause(io, query)\norder_clause(io, query)\nlimit_clause(io, query)\nhaving_clause(io, query)\nlock_clause(io, query)\nunion_clause(io, query)\n"}},{"id":"bulk_insert(table:String,field_names:Array(String),rows:Int32)-class-method","html_id":"bulk_insert(table:String,field_names:Array(String),rows:Int32)-class-method","name":"bulk_insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"field_names","doc":null,"default_value":"","external_name":"field_names","restriction":"Array(String)"},{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":"Int32"}],"args_string":"(table : String, field_names : Array(String), rows : Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L32","def":{"name":"bulk_insert","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"field_names","doc":null,"default_value":"","external_name":"field_names","restriction":"Array(String)"},{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |s|\n  ((s << \"INSERT INTO \") << table) << \"(\"\n  field_names.join(\", \", s) do |e|\n    s << e\n  end\n  escaped_row = (\"(\" + (escape_string(field_names.size))) + \")\"\n  s << \") VALUES \"\n  rows.times.join(\", \", s) do\n    s << escaped_row\n  end\nend"}},{"id":"cast_expression(expression,type:String)-class-method","html_id":"cast_expression(expression,type:String)-class-method","name":"cast_expression","doc":"Returns `CAST` expression.","summary":"<p>Returns <code>CAST</code> expression.</p>","abstract":false,"args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String"}],"args_string":"(expression, type : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L256","def":{"name":"cast_expression","args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"CAST(#{expression.as_sql(self)} AS #{type})\""}},{"id":"count(query)-class-method","html_id":"count(query)-class-method","name":"count","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L74","def":{"name":"count","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |s|\n  with_clause(s, query)\n  s << \"SELECT COUNT(*) \"\n  from_clause(s, query)\n  body_section(s, query)\nend"}},{"id":"delete(query)-class-method","html_id":"delete(query)-class-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L56","def":{"name":"delete","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |s|\n  s << \"DELETE \"\n  from_clause(s, query)\n  body_section(s, query)\nend"}},{"id":"escape_string-class-method","html_id":"escape_string-class-method","name":"escape_string","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L300","def":{"name":"escape_string","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"ARGUMENT_ESCAPE_STRING"}},{"id":"escape_string(size:Int32)-class-method","html_id":"escape_string(size:Int32)-class-method","name":"escape_string","doc":null,"summary":null,"abstract":false,"args":[{"name":"size","doc":null,"default_value":"","external_name":"size","restriction":"Int32"}],"args_string":"(size : Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L304","def":{"name":"escape_string","args":[{"name":"size","doc":null,"default_value":"","external_name":"size","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case size\nwhen 1\n  ARGUMENT_ESCAPE_STRING\nwhen 2\n  \"#{ARGUMENT_ESCAPE_STRING}, #{ARGUMENT_ESCAPE_STRING}\"\nwhen 3\n  \"#{ARGUMENT_ESCAPE_STRING}, #{ARGUMENT_ESCAPE_STRING}, #{ARGUMENT_ESCAPE_STRING}\"\nelse\n  size.times.join(\", \") do\n    ARGUMENT_ESCAPE_STRING\n  end\nend"}},{"id":"exists(query)-class-method","html_id":"exists(query)-class-method","name":"exists","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L64","def":{"name":"exists","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |s|\n  with_clause(s, query)\n  s << \"SELECT EXISTS(SELECT 1 \"\n  from_clause(s, query)\n  body_section(s, query)\n  s << \")\"\nend"}},{"id":"explain(query)-class-method","html_id":"explain(query)-class-method","name":"explain","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L19","def":{"name":"explain","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"EXPLAIN #{self.select(query)}\""}},{"id":"filter_out(arg)-class-method","html_id":"filter_out(arg)-class-method","name":"filter_out","doc":null,"summary":null,"abstract":false,"args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":""}],"args_string":"(arg)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L325","def":{"name":"filter_out","args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"escape_string"}},{"id":"filter_out(arg:QueryBuilder::SQLNode)-class-method","html_id":"filter_out(arg:QueryBuilder::SQLNode)-class-method","name":"filter_out","doc":null,"summary":null,"abstract":false,"args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":"QueryBuilder::SQLNode"}],"args_string":"(arg : QueryBuilder::SQLNode)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L321","def":{"name":"filter_out","args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":"QueryBuilder::SQLNode"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"arg.as_sql(self)"}},{"id":"filter_out(arg:Array,single:Bool=true)-class-method","html_id":"filter_out(arg:Array,single:Bool=true)-class-method","name":"filter_out","doc":null,"summary":null,"abstract":false,"args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":"Array"},{"name":"single","doc":null,"default_value":"true","external_name":"single","restriction":"Bool"}],"args_string":"(arg : Array, single : Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L317","def":{"name":"filter_out","args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":"Array"},{"name":"single","doc":null,"default_value":"true","external_name":"single","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"single ? escape_string : arg.join(\", \") do |a|\n  filter_out(a)\nend"}},{"id":"from_clause(io:String::Builder,query)-class-method","html_id":"from_clause(io:String::Builder,query)-class-method","name":"from_clause","doc":"Generates `FROM` query clause.","summary":"<p>Generates <code>FROM</code> query clause.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L167","def":{"name":"from_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._from\n  (io << \"FROM ( \") << (if query._from.is_a?(String)\n    query._from\n  else\n    if query.is_a?(QueryBuilder::ModelQuery)\n      self.select(query._from.as(QueryBuilder::ModelQuery))\n    else\n      self.select(query._from.as(QueryBuilder::Query))\n    end\n  end)\n  io << \" ) \"\nelse\n  if !query._table.empty?\n    from_clause(io, query._table)\n  end\nend"}},{"id":"from_clause(io:String::Builder,from:String)-class-method","html_id":"from_clause(io:String::Builder,from:String)-class-method","name":"from_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":"String"}],"args_string":"(io : String::Builder, from : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L162","def":{"name":"from_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"((io << \"FROM \") << from) << ' '"}},{"id":"group_clause(io:String::Builder,query)-class-method","html_id":"group_clause(io:String::Builder,query)-class-method","name":"group_clause","doc":"Generates `GROUP BY` query clause.","summary":"<p>Generates <code>GROUP BY</code> query clause.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L186","def":{"name":"group_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._groups?\nelse\n  return\nend\nio << \"GROUP BY \"\nquery._groups!.each.join(\", \", io) do |c|\n  io << (c.as_sql(self))\nend\nio << ' '\n"}},{"id":"having_clause(io:String::Builder,query)-class-method","html_id":"having_clause(io:String::Builder,query)-class-method","name":"having_clause","doc":"Generates `HAVING` query clause.","summary":"<p>Generates <code>HAVING</code> query clause.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L195","def":{"name":"having_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._having\nelse\n  return\nend\n((io << \"HAVING \") << (query._having.not_nil!.as_sql(self))) << ' '\n"}},{"id":"insert(table,hash)-class-method","html_id":"insert(table,hash)-class-method","name":"insert","doc":"Generates insert query","summary":"<p>Generates insert query</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"args_string":"(table, hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L24","def":{"name":"insert","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |s|\n  ((s << \"INSERT INTO \") << table) << \"(\"\n  hash.keys.join(\", \", s)\n  ((s << \") VALUES (\") << (escape_string(hash.size))) << \")\"\nend"}},{"id":"join_clause(io:String::Builder,query)-class-method","html_id":"join_clause(io:String::Builder,query)-class-method","name":"join_clause","doc":"Generates `JOIN` query clause.","summary":"<p>Generates <code>JOIN</code> query clause.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L202","def":{"name":"join_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._joins?\nelse\n  return\nend\nquery._joins!.join(\" \", io) do |j|\n  io << (j.as_sql(self))\nend\n"}},{"id":"limit_clause(io:String::Builder,query)-class-method","html_id":"limit_clause(io:String::Builder,query)-class-method","name":"limit_clause","doc":"Generates `LIMIT` clause.","summary":"<p>Generates <code>LIMIT</code> clause.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L221","def":{"name":"limit_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._limit\n  io.print(\"LIMIT \", query._limit.not_nil!, ' ')\nend\nif query._offset\n  io.print(\"OFFSET \", query._offset.not_nil!, ' ')\nend\n"}},{"id":"lock_clause(io:String::Builder,query)-class-method","html_id":"lock_clause(io:String::Builder,query)-class-method","name":"lock_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L137","def":{"name":"lock_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._lock.nil?\n  return\nend\nio << ' '\nio << (query._lock.is_a?(String) ? query._lock : \"FOR UPDATE\")\nio << ' '\n"}},{"id":"modify(q,modifications:Hash)-class-method","html_id":"modify(q,modifications:Hash)-class-method","name":"modify","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"modifications","doc":null,"default_value":"","external_name":"modifications","restriction":"Hash"}],"args_string":"(q, modifications : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L102","def":{"name":"modify","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"modifications","doc":null,"default_value":"","external_name":"modifications","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |s|\n  ((s << \"UPDATE \") << q.table) << \" SET \"\n  modifications.each_with_index do |__arg0, i|\n    field = __arg0[0]\n    value = __arg0[1]\n    if i != 0\n      s << \", \"\n    end\n    s << (field_assign_statement(field.to_s, value))\n  end\n  s << ' '\n  body_section(s, q)\nend"}},{"id":"operator_to_sql(operator:Symbol)-class-method","html_id":"operator_to_sql(operator:Symbol)-class-method","name":"operator_to_sql","doc":"Converts operator to SQL.","summary":"<p>Converts operator to SQL.</p>","abstract":false,"args":[{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":"Symbol"}],"args_string":"(operator : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L267","def":{"name":"operator_to_sql","args":[{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case operator\nwhen :like, :ilike\n  \"LIKE\"\nwhen :not_like\n  \"NOT LIKE\"\nwhen :regexp\n  \"REGEXP\"\nwhen :not_regexp\n  \"NOT REGEXP\"\nwhen :==\n  \"=\"\nwhen :is\n  \"IS\"\nwhen :is_not\n  \"IS NOT\"\nelse\n  operator.to_s\nend"}},{"id":"order_clause(io:String::Builder,query)-class-method","html_id":"order_clause(io:String::Builder,query)-class-method","name":"order_clause","doc":"Generates `ORDER BY` clause.","summary":"<p>Generates <code>ORDER BY</code> clause.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L227","def":{"name":"order_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._order?\nelse\n  return\nend\nio << \"ORDER BY \"\nquery._order!.join(\", \", io) do |expression|\n  io.print(expression.as_sql(self))\nend\nio << ' '\n"}},{"id":"order_expression(expression:QueryBuilder::OrderItem)-class-method","html_id":"order_expression(expression:QueryBuilder::OrderItem)-class-method","name":"order_expression","doc":null,"summary":null,"abstract":false,"args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":"QueryBuilder::OrderItem"}],"args_string":"(expression : QueryBuilder::OrderItem)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L262","def":{"name":"order_expression","args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":"QueryBuilder::OrderItem"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"#{expression.criteria.identifier} #{expression.direction}\""}},{"id":"parse_query(query:String,args:Array(DBAny))-class-method","html_id":"parse_query(query:String,args:Array(DBAny))-class-method","name":"parse_query","doc":"TODO: optimize array initializing","summary":"<p><span class=\"flag orange\">TODO</span>  optimize array initializing</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array(DBAny)"}],"args_string":"(query : String, args : Array(DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L330","def":{"name":"parse_query","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array(DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args.each_with_index do |arg, i|\n  if arg.is_a?(Time)\n    args[i] = (arg.as(Time)).to_utc\n  end\nend\n{query % (Array.new(args.size, \"?\")), args}\n"}},{"id":"quote(value:Nil)-class-method","html_id":"quote(value:Nil)-class-method","name":"quote","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"args_string":"(value : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L288","def":{"name":"quote","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"NULL\""}},{"id":"quote(value:Bool)-class-method","html_id":"quote(value:Bool)-class-method","name":"quote","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"args_string":"(value : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L292","def":{"name":"quote","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value ? \"TRUE\" : \"FALSE\""}},{"id":"quote(value:Int32|Int16|Float64|Float32)-class-method","html_id":"quote(value:Int32|Int16|Float64|Float32)-class-method","name":"quote","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int32 | Int16 | Float64 | Float32"}],"args_string":"(value : Int32 | Int16 | Float64 | Float32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L296","def":{"name":"quote","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int32 | Int16 | Float64 | Float32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value.to_s"}},{"id":"select(query,exact_fields=[]ofString)-class-method","html_id":"select(query,exact_fields=[]ofString)-class-method","name":"select","doc":"Generates common select sql request","summary":"<p>Generates common select sql request</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"exact_fields","doc":null,"default_value":"[] of String","external_name":"exact_fields","restriction":""}],"args_string":"(query, exact_fields = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L43","def":{"name":"select","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"exact_fields","doc":null,"default_value":"[] of String","external_name":"exact_fields","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |s|\n  with_clause(s, query)\n  select_clause(s, query, exact_fields)\n  from_clause(s, query)\n  body_section(s, query)\nend"}},{"id":"select_clause(io:String::Builder,query,exact_fields:Array=[]ofString)-class-method","html_id":"select_clause(io:String::Builder,query,exact_fields:Array=[]ofString)-class-method","name":"select_clause","doc":"Generates `SELECT` query clause.","summary":"<p>Generates <code>SELECT</code> query clause.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"exact_fields","doc":null,"default_value":"[] of String","external_name":"exact_fields","restriction":"Array"}],"args_string":"(io : String::Builder, query, exact_fields : Array = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L146","def":{"name":"select_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"exact_fields","doc":null,"default_value":"[] of String","external_name":"exact_fields","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io << \"SELECT \"\nif query._distinct\n  io << \"DISTINCT \"\nend\nif !query._raw_select\n  table = query._table\n  if !exact_fields.empty?\n    exact_fields.join(\", \", io) do |f|\n      io << \"#{table}.#{f}\"\n    end\n  else\n    query._select_fields.join(\", \", io) do |f|\n      io << (f.definition(self))\n    end\n  end\nelse\n  io << query._raw_select.not_nil!\nend\nio << ' '\n"}},{"id":"truncate(table:String)-class-method","html_id":"truncate(table:String)-class-method","name":"truncate","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"}],"args_string":"(table : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L52","def":{"name":"truncate","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"TRUNCATE #{table}\""}},{"id":"union_clause(io:String::Builder,query)-class-method","html_id":"union_clause(io:String::Builder,query)-class-method","name":"union_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L127","def":{"name":"union_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._unions?\nelse\n  return\nend\nquery._unions!.each do |union_tuple|\n  io << \" UNION \"\n  if union_tuple[:all]\n    io << \"ALL \"\n  end\n  io << (self.select(union_tuple[:query]))\nend\n"}},{"id":"update(obj:Model::Base)-class-method","html_id":"update(obj:Model::Base)-class-method","name":"update","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L83","def":{"name":"update","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"esc = escape_string(1)\nString.build do |s|\n  ((s << \"UPDATE \") << obj.class.table_name) << \" SET \"\n  obj.arguments_to_save[:fields].map do |f|\n    \"#{f}= #{esc}\"\n  end.join(\", \", s)\n  (((s << \" WHERE \") << obj.class.primary_field_name) << \" = \") << esc\nend\n"}},{"id":"update(query,options:Hash)-class-method","html_id":"update(query,options:Hash)-class-method","name":"update","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(query, options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L92","def":{"name":"update","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"esc = escape_string(1)\nString.build do |s|\n  ((s << \"UPDATE \") << query.table) << \" SET \"\n  options.map do |k, _|\n    \"#{k.to_s}= #{esc}\"\n  end.join(\", \", s)\n  s << ' '\n  body_section(s, query)\nend\n"}},{"id":"where_clause(io:String::Builder,tree)-class-method","html_id":"where_clause(io:String::Builder,tree)-class-method","name":"where_clause","doc":"Generates `WHERE` query clause.","summary":"<p>Generates <code>WHERE</code> query clause.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"tree","doc":null,"default_value":"","external_name":"tree","restriction":""}],"args_string":"(io : String::Builder, tree)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L214","def":{"name":"where_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"tree","doc":null,"default_value":"","external_name":"tree","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if tree\nelse\n  return\nend\n((io << \"WHERE \") << (tree.not_nil!.as_sql(self))) << ' '\n"}},{"id":"where_clause(io:String::Builder,query:QueryBuilder::Query|QueryBuilder::ModelQuery)-class-method","html_id":"where_clause(io:String::Builder,query:QueryBuilder::Query|QueryBuilder::ModelQuery)-class-method","name":"where_clause","doc":"Generates `WHERE` query clause.","summary":"<p>Generates <code>WHERE</code> query clause.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query | QueryBuilder::ModelQuery"}],"args_string":"(io : String::Builder, query : QueryBuilder::Query | QueryBuilder::ModelQuery)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L209","def":{"name":"where_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query | QueryBuilder::ModelQuery"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query.tree\n  where_clause(io, query.tree.not_nil!)\nend"}},{"id":"with_clause(io:String::Builder,query)-class-method","html_id":"with_clause(io:String::Builder,query)-class-method","name":"with_clause","doc":"Generates `WITH` clause.","summary":"<p>Generates <code>WITH</code> clause.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L236","def":{"name":"with_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._ctes?\nelse\n  return\nend\nio << \"WITH \"\nquery._ctes!.each_with_index do |cte, index|\n  cte_query = cte.query\n  if index != 0\n    io << \", \"\n  end\n  if cte.recursive?\n    io << \"RECURSIVE \"\n  end\n  (io << cte.name) << \" AS (\"\n  io << (if cte_query.is_a?(QueryBuilder::ModelQuery)\n    self.select(cte_query.as(QueryBuilder::ModelQuery))\n  else\n    self.select(cte_query.as(QueryBuilder::Query))\n  end)\n  io << \") \"\nend\n"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSQLGenerator/ClassMethods","path":"Jennifer/Adapter/BaseSQLGenerator/ClassMethods.html","kind":"module","full_name":"Jennifer::Adapter::BaseSQLGenerator::ClassMethods","name":"ClassMethods","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/base_sql_generator.cr","line_number":7,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSQLGenerator","kind":"class","full_name":"Jennifer::Adapter::BaseSQLGenerator","name":"BaseSQLGenerator"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"insert(obj:Model::Base)-instance-method","html_id":"insert(obj:Model::Base)-instance-method","name":"insert","doc":"Generates query for inserting new record to db","summary":"<p>Generates query for inserting new record to db</p>","abstract":true,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L9","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"insert_on_duplicate(table,fields,values,unique_fields,on_conflict)-instance-method","html_id":"insert_on_duplicate(table,fields,values,unique_fields,on_conflict)-instance-method","name":"insert_on_duplicate","doc":null,"summary":null,"abstract":true,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},{"name":"unique_fields","doc":null,"default_value":"","external_name":"unique_fields","restriction":""},{"name":"on_conflict","doc":null,"default_value":"","external_name":"on_conflict","restriction":""}],"args_string":"(table, fields, values, unique_fields, on_conflict)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L11","def":{"name":"insert_on_duplicate","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},{"name":"unique_fields","doc":null,"default_value":"","external_name":"unique_fields","restriction":""},{"name":"on_conflict","doc":null,"default_value":"","external_name":"on_conflict","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"json_path(path:QueryBuilder::JSONSelector)-instance-method","html_id":"json_path(path:QueryBuilder::JSONSelector)-instance-method","name":"json_path","doc":null,"summary":null,"abstract":true,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"QueryBuilder::JSONSelector"}],"args_string":"(path : QueryBuilder::JSONSelector)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L10","def":{"name":"json_path","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"QueryBuilder::JSONSelector"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"values_expression(field)-instance-method","html_id":"values_expression(field)-instance-method","name":"values_expression","doc":"Generates SQL for VALUES reference in `INSERT ... ON DUPLICATE` query.","summary":"<p>Generates SQL for VALUES reference in `INSERT ...</p>","abstract":true,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"args_string":"(field)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/base_sql_generator.cr#L14","def":{"name":"values_expression","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Bash","path":"Jennifer/Adapter/Bash.html","kind":"class","full_name":"Jennifer::Adapter::Bash","name":"Bash","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell","kind":"class","full_name":"Jennifer::Adapter::ICommandShell","name":"ICommandShell"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell","kind":"class","full_name":"Jennifer::Adapter::ICommandShell","name":"ICommandShell"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/command_shell/bash.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/bash.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"execute(command)-instance-method","html_id":"execute(command)-instance-method","name":"execute","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/bash.cr#L4","def":{"name":"execute","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command_string = String.build do |io|\n  add_env_vars(io, command)\n  add_income_stream(io, command)\n  if config.command_shell_sudo\n    io << \"sudo \"\n  end\n  io << command.executable\n  io << \" \"\n  io << OPTIONS_PLACEHOLDER\n  add_outcome_stream(io, command)\nend\ninvoke(command_string, command.options)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/DBCommandInterface","path":"Jennifer/Adapter/DBCommandInterface.html","kind":"class","full_name":"Jennifer::Adapter::DBCommandInterface","name":"DBCommandInterface","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/db_command_interface.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql/CommandInterface","kind":"class","full_name":"Jennifer::Mysql::CommandInterface","name":"CommandInterface"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/CommandInterface","kind":"class","full_name":"Jennifer::Postgres::CommandInterface","name":"CommandInterface"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[{"id":"build_shell(config)-class-method","html_id":"build_shell(config)-class-method","name":"build_shell","doc":null,"summary":null,"abstract":false,"args":[{"name":"config","doc":null,"default_value":"","external_name":"config","restriction":""}],"args_string":"(config)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr#L31","def":{"name":"build_shell","args":[{"name":"config","doc":null,"default_value":"","external_name":"config","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  @@shells[config.command_shell].new(config)\nrescue e : KeyError\n  raise(BaseException.new(\"Unregistered command shell: #{config.command_shell}\"))\nend"}},{"id":"register_shell(name,klass)-class-method","html_id":"register_shell(name,klass)-class-method","name":"register_shell","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(name, klass)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr#L37","def":{"name":"register_shell","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@shells[name] = klass"}}],"constructors":[{"id":"new(config)-class-method","html_id":"new(config)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"config","doc":null,"default_value":"","external_name":"config","restriction":""}],"args_string":"(config)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr#L14","def":{"name":"new","args":[{"name":"config","doc":null,"default_value":"","external_name":"config","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(config)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"config:Config-instance-method","html_id":"config:Config-instance-method","name":"config","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Config","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr#L10","def":{"name":"config","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Config","visibility":"Public","body":"@config"}},{"id":"create_database-instance-method","html_id":"create_database-instance-method","name":"create_database","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr#L18","def":{"name":"create_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"database_exists?-instance-method","html_id":"database_exists?-instance-method","name":"database_exists?","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr#L21","def":{"name":"database_exists?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"drop_database-instance-method","html_id":"drop_database-instance-method","name":"drop_database","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr#L17","def":{"name":"drop_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"execute(command)-instance-method","html_id":"execute(command)-instance-method","name":"execute","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr#L23","def":{"name":"execute","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"shell.execute(command)"}},{"id":"generate_schema-instance-method","html_id":"generate_schema-instance-method","name":"generate_schema","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr#L19","def":{"name":"generate_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"load_schema-instance-method","html_id":"load_schema-instance-method","name":"load_schema","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr#L20","def":{"name":"load_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"shell-instance-method","html_id":"shell-instance-method","name":"shell","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr#L27","def":{"name":"shell","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@_shell || (@_shell = DBCommandInterface.build_shell(config))"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/DBCommandInterface/Command","path":"Jennifer/Adapter/DBCommandInterface/Command.html","kind":"alias","full_name":"Jennifer::Adapter::DBCommandInterface::Command","name":"Command","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/db_command_interface.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/db_command_interface.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"Jennifer::Adapter::ICommandShell::Command","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/DBCommandInterface","kind":"class","full_name":"Jennifer::Adapter::DBCommandInterface","name":"DBCommandInterface"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Docker","path":"Jennifer/Adapter/Docker.html","kind":"class","full_name":"Jennifer::Adapter::Docker","name":"Docker","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell","kind":"class","full_name":"Jennifer::Adapter::ICommandShell","name":"ICommandShell"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell","kind":"class","full_name":"Jennifer::Adapter::ICommandShell","name":"ICommandShell"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/command_shell/docker.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/docker.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"execute(command)-instance-method","html_id":"execute(command)-instance-method","name":"execute","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/docker.cr#L3","def":{"name":"execute","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command_string = String.build do |io|\n  add_income_stream(io, command)\n  if config.command_shell_sudo\n    io << \"sudo \"\n  end\n  io << \"docker exec -i \"\n  add_inline_vars(io, command)\n  io << config.docker_container\n  io << \" \"\n  io << config.docker_source_location\n  io << command.executable\n  io << \" \"\n  io << OPTIONS_PLACEHOLDER\n  add_outcome_stream(io, command)\nend\ninvoke(command_string, command.options)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell","path":"Jennifer/Adapter/ICommandShell.html","kind":"class","full_name":"Jennifer::Adapter::ICommandShell","name":"ICommandShell","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/command_shell/command.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr"},{"filename":"jennifer/adapter/command_shell/i_command_shell.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/i_command_shell.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"OPTIONS_PLACEHOLDER","name":"OPTIONS_PLACEHOLDER","value":"\"\\\"${@}\\\"\"","doc":null,"summary":null},{"id":"SUDO","name":"SUDO","value":"\"sudo\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Bash","kind":"class","full_name":"Jennifer::Adapter::Bash","name":"Bash"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Docker","kind":"class","full_name":"Jennifer::Adapter::Docker","name":"Docker"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(config)-class-method","html_id":"new(config)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"config","doc":null,"default_value":"","external_name":"config","restriction":""}],"args_string":"(config)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/i_command_shell.cr#L13","def":{"name":"new","args":[{"name":"config","doc":null,"default_value":"","external_name":"config","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(config)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"config:Config-instance-method","html_id":"config:Config-instance-method","name":"config","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Config","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/i_command_shell.cr#L13","def":{"name":"config","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Config","visibility":"Public","body":"@config"}},{"id":"execute(command)-instance-method","html_id":"execute(command)-instance-method","name":"execute","doc":null,"summary":null,"abstract":true,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/i_command_shell.cr#L9","def":{"name":"execute","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell/Command","path":"Jennifer/Adapter/ICommandShell/Command.html","kind":"class","full_name":"Jennifer::Adapter::ICommandShell::Command","name":"Command","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/command_shell/command.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell","kind":"class","full_name":"Jennifer::Adapter::ICommandShell","name":"ICommandShell"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(executable,options=[]ofOption,inline_vars={}ofString=>Option,in_stream=&quot;&quot;,out_stream=&quot;&quot;)-class-method","html_id":"new(executable,options=[]ofOption,inline_vars={}ofString=&gt;Option,in_stream=&amp;quot;&amp;quot;,out_stream=&amp;quot;&amp;quot;)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"executable","doc":null,"default_value":"","external_name":"executable","restriction":""},{"name":"options","doc":null,"default_value":"[] of Option","external_name":"options","restriction":""},{"name":"inline_vars","doc":null,"default_value":"{} of String => Option","external_name":"inline_vars","restriction":""},{"name":"in_stream","doc":null,"default_value":"\"\"","external_name":"in_stream","restriction":""},{"name":"out_stream","doc":null,"default_value":"\"\"","external_name":"out_stream","restriction":""}],"args_string":"(executable, options = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Option</span>, inline_vars = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">Option</span>, in_stream = <span class=\"s\">&quot;&quot;</span>, out_stream = <span class=\"s\">&quot;&quot;</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L19","def":{"name":"new","args":[{"name":"executable","doc":null,"default_value":"","external_name":"executable","restriction":""},{"name":"options","doc":null,"default_value":"[] of Option","external_name":"options","restriction":""},{"name":"inline_vars","doc":null,"default_value":"{} of String => Option","external_name":"inline_vars","restriction":""},{"name":"in_stream","doc":null,"default_value":"\"\"","external_name":"in_stream","restriction":""},{"name":"out_stream","doc":null,"default_value":"\"\"","external_name":"out_stream","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(executable, options, inline_vars, in_stream, out_stream)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"executable:String-instance-method","html_id":"executable:String-instance-method","name":"executable","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L15","def":{"name":"executable","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@executable"}},{"id":"executable=(executable:String)-instance-method","html_id":"executable=(executable:String)-instance-method","name":"executable=","doc":null,"summary":null,"abstract":false,"args":[{"name":"executable","doc":null,"default_value":"","external_name":"executable","restriction":"String"}],"args_string":"(executable : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L19","def":{"name":"executable=","args":[{"name":"executable","doc":null,"default_value":"","external_name":"executable","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@executable = executable"}},{"id":"in_stream:String-instance-method","html_id":"in_stream:String-instance-method","name":"in_stream","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L18","def":{"name":"in_stream","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@in_stream"}},{"id":"in_stream=(in_stream:String)-instance-method","html_id":"in_stream=(in_stream:String)-instance-method","name":"in_stream=","doc":null,"summary":null,"abstract":false,"args":[{"name":"in_stream","doc":null,"default_value":"","external_name":"in_stream","restriction":"String"}],"args_string":"(in_stream : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L22","def":{"name":"in_stream=","args":[{"name":"in_stream","doc":null,"default_value":"","external_name":"in_stream","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@in_stream = in_stream"}},{"id":"in_stream?-instance-method","html_id":"in_stream?-instance-method","name":"in_stream?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L22","def":{"name":"in_stream?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"!@in_stream.empty?"}},{"id":"inline_vars:Hash(String,Option)-instance-method","html_id":"inline_vars:Hash(String,Option)-instance-method","name":"inline_vars","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Option)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L17","def":{"name":"inline_vars","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, Option)","visibility":"Public","body":"@inline_vars"}},{"id":"inline_vars=(inline_vars:Hash(String,Option))-instance-method","html_id":"inline_vars=(inline_vars:Hash(String,Option))-instance-method","name":"inline_vars=","doc":null,"summary":null,"abstract":false,"args":[{"name":"inline_vars","doc":null,"default_value":"","external_name":"inline_vars","restriction":"Hash(String, Option)"}],"args_string":"(inline_vars : Hash(String, Option))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L21","def":{"name":"inline_vars=","args":[{"name":"inline_vars","doc":null,"default_value":"","external_name":"inline_vars","restriction":"Hash(String, Option)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@inline_vars = inline_vars"}},{"id":"inline_vars?-instance-method","html_id":"inline_vars?-instance-method","name":"inline_vars?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L30","def":{"name":"inline_vars?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@inline_vars.any?"}},{"id":"options:Array(Option)-instance-method","html_id":"options:Array(Option)-instance-method","name":"options","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Option)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L16","def":{"name":"options","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Option)","visibility":"Public","body":"@options"}},{"id":"options=(options:Array(Option))-instance-method","html_id":"options=(options:Array(Option))-instance-method","name":"options=","doc":null,"summary":null,"abstract":false,"args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Array(Option)"}],"args_string":"(options : Array(Option))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L20","def":{"name":"options=","args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Array(Option)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@options = options"}},{"id":"out_stream:String-instance-method","html_id":"out_stream:String-instance-method","name":"out_stream","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L19","def":{"name":"out_stream","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@out_stream"}},{"id":"out_stream=(out_stream:String)-instance-method","html_id":"out_stream=(out_stream:String)-instance-method","name":"out_stream=","doc":null,"summary":null,"abstract":false,"args":[{"name":"out_stream","doc":null,"default_value":"","external_name":"out_stream","restriction":"String"}],"args_string":"(out_stream : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L23","def":{"name":"out_stream=","args":[{"name":"out_stream","doc":null,"default_value":"","external_name":"out_stream","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@out_stream = out_stream"}},{"id":"out_stream?-instance-method","html_id":"out_stream?-instance-method","name":"out_stream?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L26","def":{"name":"out_stream?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"!@out_stream.empty?"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell/Command/Failed","path":"Jennifer/Adapter/ICommandShell/Command/Failed.html","kind":"class","full_name":"Jennifer::Adapter::ICommandShell::Command::Failed","name":"Failed","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/command_shell/command.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell/Command","kind":"class","full_name":"Jennifer::Adapter::ICommandShell::Command","name":"Command"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(code,io)-class-method","html_id":"new(code,io)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"code","doc":null,"default_value":"","external_name":"code","restriction":""},{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(code, io)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr#L6","def":{"name":"new","args":[{"name":"code","doc":null,"default_value":"","external_name":"code","restriction":""},{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(code, io)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell/Command/Option","path":"Jennifer/Adapter/ICommandShell/Command/Option.html","kind":"alias","full_name":"Jennifer::Adapter::ICommandShell::Command::Option","name":"Option","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/command_shell/command.cr","line_number":11,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/command_shell/command.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"String","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell/Command","kind":"class","full_name":"Jennifer::Adapter::ICommandShell::Command","name":"Command"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/RequestMethods","path":"Jennifer/Adapter/RequestMethods.html","kind":"module","full_name":"Jennifer::Adapter::RequestMethods","name":"RequestMethods","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/request_methods.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/request_methods.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"insert(table,opts:Hash)-instance-method","html_id":"insert(table,opts:Hash)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash"}],"args_string":"(table, opts : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/request_methods.cr#L4","def":{"name":"insert","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"values = opts.values\nexec(*parse_query(sql_generator.insert(table, opts), values))\n"}},{"id":"insert(obj:Model::Base)-instance-method","html_id":"insert(obj:Model::Base)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/request_methods.cr#L9","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts = obj.arguments_to_insert\nexec(*parse_query(sql_generator.insert(obj), opts[:args]))\n"}},{"id":"modify(q,modifications:Hash)-instance-method","html_id":"modify(q,modifications:Hash)-instance-method","name":"modify","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"modifications","doc":null,"default_value":"","external_name":"modifications","restriction":"Hash"}],"args_string":"(q, modifications : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/request_methods.cr#L28","def":{"name":"modify","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"modifications","doc":null,"default_value":"","external_name":"modifications","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = sql_generator.modify(q, modifications)\nargs = [] of DBAny\nmodifications.each do |_, v|\n  add_field_assign_arguments(args, v)\nend\nargs.concat(q.sql_args)\nexec(*parse_query(query, args))\n"}},{"id":"pluck(query,fields:Array)-instance-method","html_id":"pluck(query,fields:Array)-instance-method","name":"pluck","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"}],"args_string":"(query, fields : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/request_methods.cr#L38","def":{"name":"pluck","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = [] of Array(DBAny)\nbody = sql_generator.select(query, fields)\nargs = query.sql_args\nquery(*parse_query(body, args)) do |rs|\n  rs.each do\n    result << (result_to_array_by_names(rs, fields))\n  end\nend\nresult\n"}},{"id":"pluck(query,field:String|Symbol)-instance-method","html_id":"pluck(query,field:String|Symbol)-instance-method","name":"pluck","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String | Symbol"}],"args_string":"(query, field : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/request_methods.cr#L50","def":{"name":"pluck","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = [] of DBAny\nfields = [field.to_s]\nbody = sql_generator.select(query, fields)\nargs = query.sql_args\nquery(*parse_query(body, args)) do |rs|\n  rs.each do\n    result << (result_to_array_by_names(rs, fields))[0]\n  end\nend\nresult\n"}},{"id":"select(q,&block)-instance-method","html_id":"select(q,&amp;block)-instance-method","name":"select","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""}],"args_string":"(q, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/request_methods.cr#L63","def":{"name":"select","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"body = sql_generator.select(q)\nargs = q.sql_args\nquery(*parse_query(body, args)) do |rs|\n  yield rs\nend\n"}},{"id":"update(query,options:Hash)-instance-method","html_id":"update(query,options:Hash)-instance-method","name":"update","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(query, options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/request_methods.cr#L21","def":{"name":"update","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args = [] of DBAny\noptions.each do |_, v|\n  args << v\nend\nargs.concat(query.sql_args)\nexec(*parse_query(sql_generator.update(query, options), args))\n"}},{"id":"update(obj:Model::Base)-instance-method","html_id":"update(obj:Model::Base)-instance-method","name":"update","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/request_methods.cr#L14","def":{"name":"update","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts = obj.arguments_to_save\nif opts[:args].empty?\n  return DB::ExecResult.new(0_i64, -1_i64)\nend\nopts[:args] << obj.primary\nexec(*parse_query(sql_generator.update(obj), opts[:args]))\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ResultParsers","path":"Jennifer/Adapter/ResultParsers.html","kind":"module","full_name":"Jennifer::Adapter::ResultParsers","name":"ResultParsers","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/result_parsers.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/result_parsers.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"result_to_array(rs)-instance-method","html_id":"result_to_array(rs)-instance-method","name":"result_to_array","doc":null,"summary":null,"abstract":false,"args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""}],"args_string":"(rs)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/result_parsers.cr#L4","def":{"name":"result_to_array","args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"a = [] of DBAny\nrs.each_column do\n  temp = rs.read(DBAny)\n  if temp.is_a?(Int8)\n    temp = (temp == 1_i8).as(Bool)\n  end\n  a << temp\nend\na\n"}},{"id":"result_to_array_by_names(rs,names:Array)-instance-method","html_id":"result_to_array_by_names(rs,names:Array)-instance-method","name":"result_to_array_by_names","doc":null,"summary":null,"abstract":false,"args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""},{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":"Array"}],"args_string":"(rs, names : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/result_parsers.cr#L14","def":{"name":"result_to_array_by_names","args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""},{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buf = {} of String => DBAny\nnames.each do |n|\n  buf[n] = nil\nend\ncount = names.size\nrs.each_column do |column|\n  if buf.has_key?(column)\n    buf[column] = rs.read.as(DBAny)\n    if buf[column].is_a?(Int8)\n      buf[column] = (buf[column] == 1_i8).as(Bool)\n    end\n    count = count - 1\n  else\n    rs.read\n  end\n  if count == 0\n    break\n  end\nend\nbuf.values\n"}},{"id":"result_to_hash(rs)-instance-method","html_id":"result_to_hash(rs)-instance-method","name":"result_to_hash","doc":"converts single ResultSet to hash","summary":"<p>converts single ResultSet to hash</p>","abstract":false,"args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""}],"args_string":"(rs)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/result_parsers.cr#L35","def":{"name":"result_to_hash","args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"h = {} of String => DBAny\nrs.each_column do |column|\n  h[column] = rs.read.as(DBAny)\n  if h[column].is_a?(Int8)\n    h[column] = (h[column] == 1_i8).as(Bool)\n  end\nend\nh\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/SchemaProcessor","path":"Jennifer/Adapter/SchemaProcessor.html","kind":"class","full_name":"Jennifer::Adapter::SchemaProcessor","name":"SchemaProcessor","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/schema_processor.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"ON_EVENT_ACTIONS","name":"ON_EVENT_ACTIONS","value":"{:no_action => \"NO ACTION\", :restrict => \"RESTRICT\", :cascade => \"CASCADE\", :set_null => \"SET NULL\"}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql/SchemaProcessor","kind":"class","full_name":"Jennifer::Mysql::SchemaProcessor","name":"SchemaProcessor"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/SchemaProcessor","kind":"class","full_name":"Jennifer::Postgres::SchemaProcessor","name":"SchemaProcessor"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter)-class-method","html_id":"new(adapter)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""}],"args_string":"(adapter)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L28","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"adapter:Adapter::Base-instance-method","html_id":"adapter:Adapter::Base-instance-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Adapter::Base","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L28","def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Adapter::Base","visibility":"Public","body":"@adapter"}},{"id":"add_column(table,name,opts:Hash)-instance-method","html_id":"add_column(table,name,opts:Hash)-instance-method","name":"add_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash"}],"args_string":"(table, name, opts : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L61","def":{"name":"add_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = String.build do |s|\n  ((s << \"ALTER TABLE \") << table) << \" ADD COLUMN \"\n  column_definition(name, opts, s)\nend\nadapter.exec(query)\n"}},{"id":"add_foreign_key(from_table,to_table,column,primary_key,name,on_update,on_delete)-instance-method","html_id":"add_foreign_key(from_table,to_table,column,primary_key,name,on_update,on_delete)-instance-method","name":"add_foreign_key","doc":null,"summary":null,"abstract":false,"args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"on_update","doc":null,"default_value":"","external_name":"on_update","restriction":""},{"name":"on_delete","doc":null,"default_value":"","external_name":"on_delete","restriction":""}],"args_string":"(from_table, to_table, column, primary_key, name, on_update, on_delete)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L114","def":{"name":"add_foreign_key","args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"on_update","doc":null,"default_value":"","external_name":"on_update","restriction":""},{"name":"on_delete","doc":null,"default_value":"","external_name":"on_delete","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = String.build do |s|\n  (s << \"ALTER TABLE \") << from_table\n  (s << \" ADD CONSTRAINT \") << name\n  ((s << \" FOREIGN KEY (\") << column) << \") REFERENCES \"\n  (((s << to_table) << \"(\") << primary_key) << \")\"\n  (s << \" ON UPDATE \") << ON_EVENT_ACTIONS[on_update]\n  (s << \" ON DELETE \") << ON_EVENT_ACTIONS[on_delete]\nend\nadapter.exec(query)\n"}},{"id":"add_index(table,name,fields:Array,type:Symbol?=nil,order:Hash?=nil,length:Hash?=nil)-instance-method","html_id":"add_index(table,name,fields:Array,type:Symbol?=nil,order:Hash?=nil,length:Hash?=nil)-instance-method","name":"add_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Hash | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Hash | ::Nil"}],"args_string":"(table, name, fields : Array, type : Symbol? = <span class=\"n\">nil</span>, order : Hash? = <span class=\"n\">nil</span>, length : Hash? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L35","def":{"name":"add_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Hash | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Hash | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = String.build do |s|\n  s << \"CREATE \"\n  if type\n    s << (index_type_translate(type))\n  end\n  ((((s << \"INDEX \") << name) << \" ON \") << table) << \" (\"\n  fields.each_with_index do |f, i|\n    if i != 0\n      s << \",\"\n    end\n    s << f\n    if length && length[f]?\n      ((s << \"(\") << length[f]) << \")\"\n    end\n    if order && order[f]?\n      (s << \" \") << order[f].to_s.upcase\n    end\n  end\n  s << \")\"\nend\nadapter.exec(query)\n"}},{"id":"change_column(table,old_name,new_name,opts:Hash)-instance-method","html_id":"change_column(table,old_name,new_name,opts:Hash)-instance-method","name":"change_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash"}],"args_string":"(table, old_name, new_name, opts : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L70","def":{"name":"change_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = String.build do |s|\n  ((((s << \"ALTER TABLE \") << table) << \" CHANGE COLUMN \") << old_name) << \" \"\n  column_definition(new_name, opts, s)\nend\nadapter.exec(query)\n"}},{"id":"create_table(builder:Migration::TableBuilder::CreateTable)-instance-method","html_id":"create_table(builder:Migration::TableBuilder::CreateTable)-instance-method","name":"create_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"Migration::TableBuilder::CreateTable"}],"args_string":"(builder : Migration::TableBuilder::CreateTable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L83","def":{"name":"create_table","args":[{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"Migration::TableBuilder::CreateTable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buffer = String.build do |s|\n  ((s << \"CREATE TABLE \") << builder.name) << \" (\"\n  builder.fields.each_with_index do |__arg0, i|\n    name = __arg0[0]\n    options = __arg0[1]\n    if i != 0\n      s << \", \"\n    end\n    column_definition(name, options, s)\n  end\n  s << \")\"\nend\nadapter.exec(buffer)\n"}},{"id":"create_view(name,query,silent=true)-instance-method","html_id":"create_view(name,query,silent=true)-instance-method","name":"create_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"silent","doc":null,"default_value":"true","external_name":"silent","restriction":""}],"args_string":"(name, query, silent = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L95","def":{"name":"create_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"silent","doc":null,"default_value":"true","external_name":"silent","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buff = String.build do |s|\n  s << \"CREATE \"\n  if silent\n    s << \"OR REPLACE \"\n  end\n  (((s << \"VIEW \") << name) << \" AS \") << (adapter.sql_generator.select(query))\nend\nargs = query.sql_args\nadapter.exec(*adapter.parse_query(buff, args))\n"}},{"id":"drop_column(table,name)-instance-method","html_id":"drop_column(table,name)-instance-method","name":"drop_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L57","def":{"name":"drop_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(\"ALTER TABLE #{table} DROP COLUMN #{name}\")"}},{"id":"drop_foreign_key(from_table,name)-instance-method","html_id":"drop_foreign_key(from_table,name)-instance-method","name":"drop_foreign_key","doc":null,"summary":null,"abstract":false,"args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(from_table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L126","def":{"name":"drop_foreign_key","args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = String.build do |s|\n  (s << \"ALTER TABLE \") << from_table\n  (s << \" DROP FOREIGN KEY \") << name\nend\nadapter.exec(query)\n"}},{"id":"drop_index(table,name)-instance-method","html_id":"drop_index(table,name)-instance-method","name":"drop_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L53","def":{"name":"drop_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(\"DROP INDEX #{name} ON #{table}\")"}},{"id":"drop_table(builder:Migration::TableBuilder::DropTable)-instance-method","html_id":"drop_table(builder:Migration::TableBuilder::DropTable)-instance-method","name":"drop_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"Migration::TableBuilder::DropTable"}],"args_string":"(builder : Migration::TableBuilder::DropTable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L79","def":{"name":"drop_table","args":[{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"Migration::TableBuilder::DropTable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(\"DROP TABLE #{builder.name}\")"}},{"id":"drop_view(name,silent=true)-instance-method","html_id":"drop_view(name,silent=true)-instance-method","name":"drop_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"silent","doc":null,"default_value":"true","external_name":"silent","restriction":""}],"args_string":"(name, silent = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L105","def":{"name":"drop_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"silent","doc":null,"default_value":"true","external_name":"silent","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buff = String.build do |s|\n  s << \"DROP VIEW \"\n  if silent\n    s << \"IF EXISTS \"\n  end\n  s << name\nend\nadapter.exec(buff)\n"}},{"id":"rename_table(old_name,new_name)-instance-method","html_id":"rename_table(old_name,new_name)-instance-method","name":"rename_table","doc":null,"summary":null,"abstract":true,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/schema_processor.cr#L31","def":{"name":"rename_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/TransactionObserver","path":"Jennifer/Adapter/TransactionObserver.html","kind":"class","full_name":"Jennifer::Adapter::TransactionObserver","name":"TransactionObserver","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/transaction_observer.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(transaction)-class-method","html_id":"new(transaction)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"transaction","doc":null,"default_value":"","external_name":"transaction","restriction":""}],"args_string":"(transaction)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr#L11","def":{"name":"new","args":[{"name":"transaction","doc":null,"default_value":"","external_name":"transaction","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(transaction)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"connection(*args,**options)-instance-method","html_id":"connection(*args,**options)-instance-method","name":"connection","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr#L9","def":{"name":"connection","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"transaction.connection(*args, **options)"}},{"id":"connection(*args,**options,&block)-instance-method","html_id":"connection(*args,**options,&amp;block)-instance-method","name":"connection","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr#L9","def":{"name":"connection","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"transaction.connection(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"observe_commit(block)-instance-method","html_id":"observe_commit(block)-instance-method","name":"observe_commit","doc":null,"summary":null,"abstract":false,"args":[{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""}],"args_string":"(block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr#L18","def":{"name":"observe_commit","args":[{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commit_observers << block"}},{"id":"observe_rollback(block)-instance-method","html_id":"observe_rollback(block)-instance-method","name":"observe_rollback","doc":null,"summary":null,"abstract":false,"args":[{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""}],"args_string":"(block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr#L22","def":{"name":"observe_rollback","args":[{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@rollback_observers << block"}},{"id":"rollback-instance-method","html_id":"rollback-instance-method","name":"rollback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr#L14","def":{"name":"rollback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@rolled_back = true"}},{"id":"transaction:DB::Transaction-instance-method","html_id":"transaction:DB::Transaction-instance-method","name":"transaction","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : DB::Transaction","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr#L6","def":{"name":"transaction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"DB::Transaction","visibility":"Public","body":"@transaction"}},{"id":"transaction=(transaction:DB::Transaction)-instance-method","html_id":"transaction=(transaction:DB::Transaction)-instance-method","name":"transaction=","doc":null,"summary":null,"abstract":false,"args":[{"name":"transaction","doc":null,"default_value":"","external_name":"transaction","restriction":"DB::Transaction"}],"args_string":"(transaction : DB::Transaction)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr#L10","def":{"name":"transaction=","args":[{"name":"transaction","doc":null,"default_value":"","external_name":"transaction","restriction":"DB::Transaction"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@transaction = transaction"}},{"id":"update-instance-method","html_id":"update-instance-method","name":"update","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transaction_observer.cr#L26","def":{"name":"update","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @rolled_back\n  @rollback_observers.each(&.call)\nelse\n  @commit_observers.each(&.call)\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Transactions","path":"Jennifer/Adapter/Transactions.html","kind":"module","full_name":"Jennifer::Adapter::Transactions","name":"Transactions","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/transactions.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"begin_transaction-instance-method","html_id":"begin_transaction-instance-method","name":"begin_transaction","doc":"Starts manual transaction for current fiber. Designed for usage in test callback.","summary":"<p>Starts manual transaction for current fiber.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr#L71","def":{"name":"begin_transaction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if current_transaction\n  raise(::Jennifer::BaseException.new(\"Couldn't manually begin non top level transaction\"))\nend\nConfig.logger.debug(\"TRANSACTION START\")\nlock_connection(@db.checkout.begin_transaction)\n"}},{"id":"current_transaction-instance-method","html_id":"current_transaction-instance-method","name":"current_transaction","doc":"Returns current transaction or `nil`.","summary":"<p>Returns current transaction or <code>nil</code>.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr#L28","def":{"name":"current_transaction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@locks[fiber_id]?.try(&.transaction)"}},{"id":"rollback_transaction-instance-method","html_id":"rollback_transaction-instance-method","name":"rollback_transaction","doc":"Closes manual transaction for current fiber. Designed for usage in test callback.","summary":"<p>Closes manual transaction for current fiber.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr#L78","def":{"name":"rollback_transaction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"t = current_transaction\nif t\nelse\n  raise(::Jennifer::BaseException.new(\"No transaction to rollback\"))\nend\nt = t.not_nil!\nt.rollback\nConfig.logger.debug(\"TRANSACTION ROLLBACK\")\nt.connection.release\nlock_connection(nil)\n"}},{"id":"subscribe_on_commit(block:->Bool)-instance-method","html_id":"subscribe_on_commit(block:-&gt;Bool)-instance-method","name":"subscribe_on_commit","doc":"Subscribes given *block* to `commit` current transaction event.","summary":"<p>Subscribes given <em>block</em> to <code>commit</code> current transaction event.</p>","abstract":false,"args":[{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(-> Bool)"}],"args_string":"(block :  -> Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr#L61","def":{"name":"subscribe_on_commit","args":[{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(-> Bool)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@locks[fiber_id].observe_commit(block)"}},{"id":"subscribe_on_rollback(block:->Bool)-instance-method","html_id":"subscribe_on_rollback(block:-&gt;Bool)-instance-method","name":"subscribe_on_rollback","doc":"Subscribes given *block* to `rollback` current transaction event.","summary":"<p>Subscribes given <em>block</em> to <code>rollback</code> current transaction event.</p>","abstract":false,"args":[{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(-> Bool)"}],"args_string":"(block :  -> Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr#L66","def":{"name":"subscribe_on_rollback","args":[{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(-> Bool)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@locks[fiber_id].observe_rollback(block)"}},{"id":"transaction(&block)-instance-method","html_id":"transaction(&amp;block)-instance-method","name":"transaction","doc":"Starts a transaction and yields it to the given block.","summary":"<p>Starts a transaction and yields it to the given block.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr#L38","def":{"name":"transaction","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"previous_transaction = current_transaction\nres = nil\nwith_transactionable do |conn|\n  conn.transaction do |tx|\n    lock_connection(tx)\n    begin\n      Config.logger.debug(\"TRANSACTION START\")\n      res = yield tx\n      Config.logger.debug(\"TRANSACTION COMMIT\")\n    rescue e\n      @locks[fiber_id].rollback\n      Config.logger.debug(\"TRANSACTION ROLLBACK\")\n      raise(e)\n    ensure\n      lock_connection(previous_transaction)\n    end\n  end\nend\nres\n"}},{"id":"under_transaction?-instance-method","html_id":"under_transaction?-instance-method","name":"under_transaction?","doc":"Returns whether current context has opened transaction.","summary":"<p>Returns whether current context has opened transaction.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr#L33","def":{"name":"under_transaction?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@locks.has_key?(fiber_id)"}},{"id":"with_connection(&block)-instance-method","html_id":"with_connection(&amp;block)-instance-method","name":"with_connection","doc":"Yields current connection or checkout a new one.","summary":"<p>Yields current connection or checkout a new one.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr#L9","def":{"name":"with_connection","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"if under_transaction?\n  yield @locks[fiber_id].connection\nelse\n  with_manual_connection do |conn|\n    yield conn\n  end\nend"}},{"id":"with_manual_connection(&block)-instance-method","html_id":"with_manual_connection(&amp;block)-instance-method","name":"with_manual_connection","doc":"Yields new checkout connection.","summary":"<p>Yields new checkout connection.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/transactions.cr#L18","def":{"name":"with_manual_connection","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"conn = @db.checkout\nbegin\n  yield conn\nensure\n  conn.release\nend\n"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/AlreadyInitialized","path":"Jennifer/AlreadyInitialized.html","kind":"class","full_name":"Jennifer::AlreadyInitialized","name":"AlreadyInitialized","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":98,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(old_value,new_value)-class-method","html_id":"new(old_value,new_value)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_value","doc":null,"default_value":"","external_name":"old_value","restriction":""},{"name":"new_value","doc":null,"default_value":"","external_name":"new_value","restriction":""}],"args_string":"(old_value, new_value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L99","def":{"name":"new","args":[{"name":"old_value","doc":null,"default_value":"","external_name":"old_value","restriction":""},{"name":"new_value","doc":null,"default_value":"","external_name":"new_value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(old_value, new_value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/AmbiguousSQL","path":"Jennifer/AmbiguousSQL.html","kind":"class","full_name":"Jennifer::AmbiguousSQL","name":"AmbiguousSQL","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":167,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(sql)-class-method","html_id":"new(sql)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"sql","doc":null,"default_value":"","external_name":"sql","restriction":""}],"args_string":"(sql)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L168","def":{"name":"new","args":[{"name":"sql","doc":null,"default_value":"","external_name":"sql","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(sql)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BadQuery","path":"Jennifer/BadQuery.html","kind":"class","full_name":"Jennifer::BadQuery","name":"BadQuery","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":39,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"Wraps driver query native exception with some extra information.","summary":"<p>Wraps driver query native exception with some extra information.</p>","class_methods":[{"id":"format_query(query,args:Array)-class-method","html_id":"format_query(query,args:Array)-class-method","name":"format_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array"}],"args_string":"(query, args : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L48","def":{"name":"format_query","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args.empty? ? query : \"#{query} | #{args.inspect}\""}},{"id":"format_query(query,arg=nil)-class-method","html_id":"format_query(query,arg=nil)-class-method","name":"format_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"arg","doc":null,"default_value":"nil","external_name":"arg","restriction":""}],"args_string":"(query, arg = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L52","def":{"name":"format_query","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"arg","doc":null,"default_value":"nil","external_name":"arg","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"arg ? \"#{query} | #{arg}\" : query"}},{"id":"prepend_information(error:Exception,query,args)-class-method","html_id":"prepend_information(error:Exception,query,args)-class-method","name":"prepend_information","doc":null,"summary":null,"abstract":false,"args":[{"name":"error","doc":null,"default_value":"","external_name":"error","restriction":"Exception"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(error : Exception, query, args)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L44","def":{"name":"prepend_information","args":[{"name":"error","doc":null,"default_value":"","external_name":"error","restriction":"Exception"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"error.message = \"#{error.message}\\nOriginal query was:\\n#{format_query(query, args)}\""}}],"constructors":[{"id":"new(original_message,query,args)-class-method","html_id":"new(original_message,query,args)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"original_message","doc":null,"default_value":"","external_name":"original_message","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(original_message, query, args)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L40","def":{"name":"new","args":[{"name":"original_message","doc":null,"default_value":"","external_name":"original_message","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(original_message, query, args)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","path":"Jennifer/BaseException.html","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":15,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ICommandShell/Command/Failed","kind":"class","full_name":"Jennifer::Adapter::ICommandShell::Command::Failed","name":"Failed"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/AlreadyInitialized","kind":"class","full_name":"Jennifer::AlreadyInitialized","name":"AlreadyInitialized"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/AmbiguousSQL","kind":"class","full_name":"Jennifer::AmbiguousSQL","name":"AmbiguousSQL"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BadQuery","kind":"class","full_name":"Jennifer::BadQuery","name":"BadQuery"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/DataTypeCasting","kind":"class","full_name":"Jennifer::DataTypeCasting","name":"DataTypeCasting"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/DataTypeMismatch","kind":"class","full_name":"Jennifer::DataTypeMismatch","name":"DataTypeMismatch"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/InvalidConfig","kind":"class","full_name":"Jennifer::InvalidConfig","name":"InvalidConfig"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordExists","kind":"class","full_name":"Jennifer::RecordExists","name":"RecordExists"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordInvalid","kind":"class","full_name":"Jennifer::RecordInvalid","name":"RecordInvalid"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordNotFound","kind":"class","full_name":"Jennifer::RecordNotFound","name":"RecordNotFound"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Skip","kind":"class","full_name":"Jennifer::Skip","name":"Skip"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/UnknownRelation","kind":"class","full_name":"Jennifer::UnknownRelation","name":"UnknownRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/UnknownSTIType","kind":"class","full_name":"Jennifer::UnknownSTIType","name":"UnknownSTIType"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"Base Jennifer exception.","summary":"<p>Base Jennifer exception.</p>","class_methods":[{"id":"assert_column_count(requested,actual)-class-method","html_id":"assert_column_count(requested,actual)-class-method","name":"assert_column_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"requested","doc":null,"default_value":"","external_name":"requested","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"args_string":"(requested, actual)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L31","def":{"name":"assert_column_count","args":[{"name":"requested","doc":null,"default_value":"","external_name":"requested","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if requested > actual\n  raise(self.new(\"ResultSet includes only #{actual} columns when at least #{requested} are required\"))\nend"}}],"constructors":[{"id":"new(base_exception:Exception,extra_message:String?=nil)-class-method","html_id":"new(base_exception:Exception,extra_message:String?=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"base_exception","doc":null,"default_value":"","external_name":"base_exception","restriction":"Exception"},{"name":"extra_message","doc":null,"default_value":"nil","external_name":"extra_message","restriction":"String | ::Nil"}],"args_string":"(base_exception : Exception, extra_message : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L18","def":{"name":"new","args":[{"name":"base_exception","doc":null,"default_value":"","external_name":"base_exception","restriction":"Exception"},{"name":"extra_message","doc":null,"default_value":"nil","external_name":"extra_message","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(base_exception, extra_message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(message)-class-method","html_id":"new(message)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"args_string":"(message)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L28","def":{"name":"new","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"message=(message)-instance-method","html_id":"message=(message)-instance-method","name":"message=","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"args_string":"(message)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L16","def":{"name":"message=","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@message = message"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Config","path":"Jennifer/Config.html","kind":"class","full_name":"Jennifer::Config","name":"Config","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/config.cr","line_number":49,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"Configuration container.\n\nAt the moment it implements singleton pattern but can be scaled to support several\nconfiguration instances per application.\n\nAll class methods with same names as instance ones delegates the calls to default configuration (global)\nobject.\n\nSupported configurations:\n\n* `migration_files_path = \"./db/migrations\"`\n* `verbose_migrations = true`\n* `model_files_path = \"./src/models\"`\n* `structure_folder` parent folder of `migration_files_path`\n* `host = \"localhost\"`\n* `port = -1`\n* `logger = Logger.new(STDOUT)`\n* `schema = \"public\"`\n* `user`\n* `password`\n* `db`\n* `adapter`\n* `pool_size = 1`\n* `retry_attempts = 1`\n* `checkout_timeout = 5.0`\n* `retry_delay = 1.0`\n* `local_time_zone_name` default time zone name\n* `skip_dumping_schema_sql = false`\n* `command_shell = \"bash\"`\n* `docker_container = \"\"`\n* `docker_source_location = \"\"`\n* `command_shell_sudo = false`\n* `migration_failure_handler_method = \"none\"`\n* `allow_outdated_pending_migration = false`\n\n```\nJennifer::Config.configure do |conf|\n  conf.host = \"localhost\"\n  conf.user = \"root\"\n  conf.password = \"\"\n  conf.adapter = \"mysql\"\n  conf.db = \"crystal\"\nend\n```","summary":"<p>Configuration container.</p>","class_methods":[{"id":"adapter-class-method","html_id":"adapter-class-method","name":"adapter","doc":"Delegates to `#adapter`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#adapter:String-instance-method\">#adapter</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.adapter"}},{"id":"adapter=(value)-class-method","html_id":"adapter=(value)-class-method","name":"adapter=","doc":"Delegates to `#adapter=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#adapter=(adapter)-instance-method\">#adapter=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"adapter=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.adapter = value"}},{"id":"allow_outdated_pending_migration-class-method","html_id":"allow_outdated_pending_migration-class-method","name":"allow_outdated_pending_migration","doc":"Delegates to `#allow_outdated_pending_migration`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#allow_outdated_pending_migration:Bool-instance-method\">#allow_outdated_pending_migration</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"allow_outdated_pending_migration","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.allow_outdated_pending_migration"}},{"id":"allow_outdated_pending_migration=(value)-class-method","html_id":"allow_outdated_pending_migration=(value)-class-method","name":"allow_outdated_pending_migration=","doc":"Delegates to `#allow_outdated_pending_migration=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#allow_outdated_pending_migration=(allow_outdated_pending_migration)-instance-method\">#allow_outdated_pending_migration=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"allow_outdated_pending_migration=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.allow_outdated_pending_migration = value"}},{"id":"checkout_timeout-class-method","html_id":"checkout_timeout-class-method","name":"checkout_timeout","doc":"Delegates to `#checkout_timeout`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#checkout_timeout:Float64-instance-method\">#checkout_timeout</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"checkout_timeout","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.checkout_timeout"}},{"id":"checkout_timeout=(value)-class-method","html_id":"checkout_timeout=(value)-class-method","name":"checkout_timeout=","doc":"Delegates to `#checkout_timeout=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#checkout_timeout=(checkout_timeout)-instance-method\">#checkout_timeout=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"checkout_timeout=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.checkout_timeout = value"}},{"id":"command_shell-class-method","html_id":"command_shell-class-method","name":"command_shell","doc":"Delegates to `#command_shell`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#command_shell:String-instance-method\">#command_shell</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"command_shell","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.command_shell"}},{"id":"command_shell=(value)-class-method","html_id":"command_shell=(value)-class-method","name":"command_shell=","doc":"Delegates to `#command_shell=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#command_shell=(command_shell)-instance-method\">#command_shell=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"command_shell=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.command_shell = value"}},{"id":"command_shell_sudo-class-method","html_id":"command_shell_sudo-class-method","name":"command_shell_sudo","doc":"Delegates to `#command_shell_sudo`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#command_shell_sudo:Bool-instance-method\">#command_shell_sudo</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"command_shell_sudo","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.command_shell_sudo"}},{"id":"command_shell_sudo=(value)-class-method","html_id":"command_shell_sudo=(value)-class-method","name":"command_shell_sudo=","doc":"Delegates to `#command_shell_sudo=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#command_shell_sudo=(command_shell_sudo)-instance-method\">#command_shell_sudo=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"command_shell_sudo=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.command_shell_sudo = value"}},{"id":"configure(&block)-class-method","html_id":"configure(&amp;block)-class-method","name":"configure","doc":"Yields default configuration instance to block and validates it.","summary":"<p>Yields default configuration instance to block and validates it.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L182","def":{"name":"configure","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"yield instance\ninstance.validate_config\n"}},{"id":"db-class-method","html_id":"db-class-method","name":"db","doc":"Delegates to `#db`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#db:String-instance-method\">#db</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"db","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.db"}},{"id":"db=(value)-class-method","html_id":"db=(value)-class-method","name":"db=","doc":"Delegates to `#db=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#db=(db)-instance-method\">#db=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"db=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.db = value"}},{"id":"docker_container-class-method","html_id":"docker_container-class-method","name":"docker_container","doc":"Delegates to `#docker_container`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#docker_container:String-instance-method\">#docker_container</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"docker_container","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.docker_container"}},{"id":"docker_container=(value)-class-method","html_id":"docker_container=(value)-class-method","name":"docker_container=","doc":"Delegates to `#docker_container=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#docker_container=(docker_container)-instance-method\">#docker_container=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"docker_container=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.docker_container = value"}},{"id":"docker_source_location-class-method","html_id":"docker_source_location-class-method","name":"docker_source_location","doc":"Delegates to `#docker_source_location`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#docker_source_location:String-instance-method\">#docker_source_location</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"docker_source_location","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.docker_source_location"}},{"id":"docker_source_location=(value)-class-method","html_id":"docker_source_location=(value)-class-method","name":"docker_source_location=","doc":"Delegates to `#docker_source_location=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#docker_source_location=(docker_source_location)-instance-method\">#docker_source_location=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"docker_source_location=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.docker_source_location = value"}},{"id":"from_uri(uri)-class-method","html_id":"from_uri(uri)-class-method","name":"from_uri","doc":"Delegates call to #from_uri.","summary":"<p>Delegates call to #from_uri.</p>","abstract":false,"args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":""}],"args_string":"(uri)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L188","def":{"name":"from_uri","args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"config.from_uri(uri)"}},{"id":"host-class-method","html_id":"host-class-method","name":"host","doc":"Delegates to `#host`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#host:String-instance-method\">#host</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"host","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.host"}},{"id":"host=(value)-class-method","html_id":"host=(value)-class-method","name":"host=","doc":"Delegates to `#host=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#host=(host)-instance-method\">#host=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"host=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.host = value"}},{"id":"initial_pool_size-class-method","html_id":"initial_pool_size-class-method","name":"initial_pool_size","doc":"Delegates to `#initial_pool_size`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#initial_pool_size:Int32-instance-method\">#initial_pool_size</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"initial_pool_size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.initial_pool_size"}},{"id":"initial_pool_size=(value)-class-method","html_id":"initial_pool_size=(value)-class-method","name":"initial_pool_size=","doc":"Delegates to `#initial_pool_size=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#initial_pool_size=(initial_pool_size)-instance-method\">#initial_pool_size=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"initial_pool_size=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.initial_pool_size = value"}},{"id":"local_time_zone-class-method","html_id":"local_time_zone-class-method","name":"local_time_zone","doc":"Delegates call to #local_time_zone.","summary":"<p>Delegates call to #local_time_zone.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L239","def":{"name":"local_time_zone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.local_time_zone"}},{"id":"local_time_zone_name-class-method","html_id":"local_time_zone_name-class-method","name":"local_time_zone_name","doc":"Delegates to `#local_time_zone_name`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#local_time_zone_name:String-instance-method\">#local_time_zone_name</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"local_time_zone_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.local_time_zone_name"}},{"id":"local_time_zone_name=(value)-class-method","html_id":"local_time_zone_name=(value)-class-method","name":"local_time_zone_name=","doc":"Delegates to `#local_time_zone_name=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#local_time_zone_name=(value:String)-instance-method\">#local_time_zone_name=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"local_time_zone_name=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.local_time_zone_name = value"}},{"id":"logger-class-method","html_id":"logger-class-method","name":"logger","doc":"Delegates to `#:logger`.","summary":"<p>Delegates to <code>#:logger</code>.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L230","def":{"name":"logger","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.logger"}},{"id":"logger=(value)-class-method","html_id":"logger=(value)-class-method","name":"logger=","doc":"Delegates to `#:logger=`.","summary":"<p>Delegates to <code>#:logger=</code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L230","def":{"name":"logger=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.logger = value"}},{"id":"max_idle_pool_size-class-method","html_id":"max_idle_pool_size-class-method","name":"max_idle_pool_size","doc":"Delegates to `#max_idle_pool_size`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#max_idle_pool_size:Int32-instance-method\">#max_idle_pool_size</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"max_idle_pool_size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.max_idle_pool_size"}},{"id":"max_idle_pool_size=(value)-class-method","html_id":"max_idle_pool_size=(value)-class-method","name":"max_idle_pool_size=","doc":"Delegates to `#max_idle_pool_size=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#max_idle_pool_size=(max_idle_pool_size)-instance-method\">#max_idle_pool_size=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"max_idle_pool_size=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.max_idle_pool_size = value"}},{"id":"max_pool_size-class-method","html_id":"max_pool_size-class-method","name":"max_pool_size","doc":"Delegates to `#max_pool_size`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#max_pool_size:Int32-instance-method\">#max_pool_size</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"max_pool_size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.max_pool_size"}},{"id":"max_pool_size=(value)-class-method","html_id":"max_pool_size=(value)-class-method","name":"max_pool_size=","doc":"Delegates to `#max_pool_size=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#max_pool_size=(max_pool_size)-instance-method\">#max_pool_size=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"max_pool_size=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.max_pool_size = value"}},{"id":"migration_failure_handler_method-class-method","html_id":"migration_failure_handler_method-class-method","name":"migration_failure_handler_method","doc":"Delegates to `#migration_failure_handler_method`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#migration_failure_handler_method:String-instance-method\">#migration_failure_handler_method</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"migration_failure_handler_method","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.migration_failure_handler_method"}},{"id":"migration_failure_handler_method=(value)-class-method","html_id":"migration_failure_handler_method=(value)-class-method","name":"migration_failure_handler_method=","doc":"Delegates to `#migration_failure_handler_method=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#migration_failure_handler_method=(migration_failure_handler_method)-instance-method\">#migration_failure_handler_method=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L243","def":{"name":"migration_failure_handler_method=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"parsed_value = value.to_s\nif ALLOWED_MIGRATION_FAILURE_HANDLER_METHODS.includes?(parsed_value)\nelse\n  raise(Jennifer::InvalidConfig.bad_migration_failure_handler(ALLOWED_MIGRATION_FAILURE_HANDLER_METHODS))\nend\n@@migration_failure_handler_method = parsed_value\n"}},{"id":"migration_files_path-class-method","html_id":"migration_files_path-class-method","name":"migration_files_path","doc":"Delegates to `#migration_files_path`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#migration_files_path:String-instance-method\">#migration_files_path</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"migration_files_path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.migration_files_path"}},{"id":"migration_files_path=(value)-class-method","html_id":"migration_files_path=(value)-class-method","name":"migration_files_path=","doc":"Delegates to `#migration_files_path=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#migration_files_path=(migration_files_path)-instance-method\">#migration_files_path=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"migration_files_path=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.migration_files_path = value"}},{"id":"model_files_path-class-method","html_id":"model_files_path-class-method","name":"model_files_path","doc":"Delegates to `#model_files_path`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#model_files_path:String-instance-method\">#model_files_path</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"model_files_path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.model_files_path"}},{"id":"model_files_path=(value)-class-method","html_id":"model_files_path=(value)-class-method","name":"model_files_path=","doc":"Delegates to `#model_files_path=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#model_files_path=(model_files_path)-instance-method\">#model_files_path=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"model_files_path=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.model_files_path = value"}},{"id":"password-class-method","html_id":"password-class-method","name":"password","doc":"Delegates to `#password`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#password:String-instance-method\">#password</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"password","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.password"}},{"id":"password=(value)-class-method","html_id":"password=(value)-class-method","name":"password=","doc":"Delegates to `#password=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#password=(password)-instance-method\">#password=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"password=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.password = value"}},{"id":"port-class-method","html_id":"port-class-method","name":"port","doc":"Delegates to `#port`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#port:Int32-instance-method\">#port</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"port","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.port"}},{"id":"port=(value)-class-method","html_id":"port=(value)-class-method","name":"port=","doc":"Delegates to `#port=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#port=(port)-instance-method\">#port=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"port=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.port = value"}},{"id":"read(*args,**opts,&block)-class-method","html_id":"read(*args,**opts,&amp;block)-class-method","name":"read","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **opts, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L197","def":{"name":"read","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"config.read(*args, **opts) do |document|\n  yield document\nend"}},{"id":"read(*args,**opts)-class-method","html_id":"read(*args,**opts)-class-method","name":"read","doc":"Delegates call to #read.","summary":"<p>Delegates call to #read.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L193","def":{"name":"read","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"config.read(*args, **opts)"}},{"id":"reset_config-class-method","html_id":"reset_config-class-method","name":"reset_config","doc":"Resets configurations to default ones.","summary":"<p>Resets configurations to default ones.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L226","def":{"name":"reset_config","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance = new"}},{"id":"retry_attempts-class-method","html_id":"retry_attempts-class-method","name":"retry_attempts","doc":"Delegates to `#retry_attempts`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#retry_attempts:Int32-instance-method\">#retry_attempts</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"retry_attempts","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.retry_attempts"}},{"id":"retry_attempts=(value)-class-method","html_id":"retry_attempts=(value)-class-method","name":"retry_attempts=","doc":"Delegates to `#retry_attempts=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#retry_attempts=(retry_attempts)-instance-method\">#retry_attempts=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"retry_attempts=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.retry_attempts = value"}},{"id":"retry_delay-class-method","html_id":"retry_delay-class-method","name":"retry_delay","doc":"Delegates to `#retry_delay`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#retry_delay:Float64-instance-method\">#retry_delay</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"retry_delay","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.retry_delay"}},{"id":"retry_delay=(value)-class-method","html_id":"retry_delay=(value)-class-method","name":"retry_delay=","doc":"Delegates to `#retry_delay=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#retry_delay=(retry_delay)-instance-method\">#retry_delay=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"retry_delay=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.retry_delay = value"}},{"id":"schema-class-method","html_id":"schema-class-method","name":"schema","doc":"Delegates to `#schema`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#schema:String-instance-method\">#schema</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.schema"}},{"id":"schema=(value)-class-method","html_id":"schema=(value)-class-method","name":"schema=","doc":"Delegates to `#schema=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#schema=(schema)-instance-method\">#schema=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"schema=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.schema = value"}},{"id":"skip_dumping_schema_sql-class-method","html_id":"skip_dumping_schema_sql-class-method","name":"skip_dumping_schema_sql","doc":"Delegates to `#skip_dumping_schema_sql`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#skip_dumping_schema_sql:Bool-instance-method\">#skip_dumping_schema_sql</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"skip_dumping_schema_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.skip_dumping_schema_sql"}},{"id":"skip_dumping_schema_sql=(value)-class-method","html_id":"skip_dumping_schema_sql=(value)-class-method","name":"skip_dumping_schema_sql=","doc":"Delegates to `#skip_dumping_schema_sql=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#skip_dumping_schema_sql=(skip_dumping_schema_sql)-instance-method\">#skip_dumping_schema_sql=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"skip_dumping_schema_sql=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.skip_dumping_schema_sql = value"}},{"id":"structure_folder-class-method","html_id":"structure_folder-class-method","name":"structure_folder","doc":"Delegates to `#structure_folder`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#structure_folder:String-instance-method\">#structure_folder</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"structure_folder","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.structure_folder"}},{"id":"structure_folder=(value)-class-method","html_id":"structure_folder=(value)-class-method","name":"structure_folder=","doc":"Delegates to `#structure_folder=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#structure_folder=(structure_folder)-instance-method\">#structure_folder=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"structure_folder=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.structure_folder = value"}},{"id":"structure_path-class-method","html_id":"structure_path-class-method","name":"structure_path","doc":"Delegates call to #structure_path.","summary":"<p>Delegates call to #structure_path.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L221","def":{"name":"structure_path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.structure_path"}},{"id":"user-class-method","html_id":"user-class-method","name":"user","doc":"Delegates to `#user`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#user:String-instance-method\">#user</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"user","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.user"}},{"id":"user=(value)-class-method","html_id":"user=(value)-class-method","name":"user=","doc":"Delegates to `#user=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#user=(user)-instance-method\">#user=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"user=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.user = value"}},{"id":"verbose_migrations-class-method","html_id":"verbose_migrations-class-method","name":"verbose_migrations","doc":"Delegates to `#verbose_migrations`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#verbose_migrations:Bool-instance-method\">#verbose_migrations</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"verbose_migrations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.verbose_migrations"}},{"id":"verbose_migrations=(value)-class-method","html_id":"verbose_migrations=(value)-class-method","name":"verbose_migrations=","doc":"Delegates to `#verbose_migrations=`.","summary":"<p>Delegates to <code><a href=\"../Jennifer/Config.html#verbose_migrations=(verbose_migrations)-instance-method\">#verbose_migrations=</a></code>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"def":{"name":"verbose_migrations=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance.verbose_migrations = value"}}],"constructors":[{"id":"config:self-class-method","html_id":"config:self-class-method","name":"config","doc":"Returns default configuration object.","summary":"<p>Returns default configuration object.</p>","abstract":false,"args":[],"args_string":" : <span class=\"k\">self</span>","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L177","def":{"name":"config","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"instance"}},{"id":"configure:self-class-method","html_id":"configure:self-class-method","name":"configure","doc":"Returns default configuration object.","summary":"<p>Returns default configuration object.</p>","abstract":false,"args":[],"args_string":" : <span class=\"k\">self</span>","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L172","def":{"name":"configure","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"instance"}},{"id":"instance:self-class-method","html_id":"instance:self-class-method","name":"instance","doc":"Default configuration object used by application.","summary":"<p>Default configuration object used by application.</p>","abstract":false,"args":[],"args_string":" : <span class=\"k\">self</span>","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L167","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"@@instance"}},{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L128","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"adapter:String-instance-method","html_id":"adapter:String-instance-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@adapter"}},{"id":"adapter=(adapter)-instance-method","html_id":"adapter=(adapter)-instance-method","name":"adapter=","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""}],"args_string":"(adapter)","source_link":null,"def":{"name":"adapter=","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@adapter = adapter"}},{"id":"allow_outdated_pending_migration:Bool-instance-method","html_id":"allow_outdated_pending_migration:Bool-instance-method","name":"allow_outdated_pending_migration","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"def":{"name":"allow_outdated_pending_migration","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@allow_outdated_pending_migration"}},{"id":"allow_outdated_pending_migration=(allow_outdated_pending_migration)-instance-method","html_id":"allow_outdated_pending_migration=(allow_outdated_pending_migration)-instance-method","name":"allow_outdated_pending_migration=","doc":null,"summary":null,"abstract":false,"args":[{"name":"allow_outdated_pending_migration","doc":null,"default_value":"","external_name":"allow_outdated_pending_migration","restriction":""}],"args_string":"(allow_outdated_pending_migration)","source_link":null,"def":{"name":"allow_outdated_pending_migration=","args":[{"name":"allow_outdated_pending_migration","doc":null,"default_value":"","external_name":"allow_outdated_pending_migration","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@allow_outdated_pending_migration = allow_outdated_pending_migration"}},{"id":"checkout_timeout:Float64-instance-method","html_id":"checkout_timeout:Float64-instance-method","name":"checkout_timeout","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":null,"def":{"name":"checkout_timeout","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@checkout_timeout"}},{"id":"checkout_timeout=(checkout_timeout)-instance-method","html_id":"checkout_timeout=(checkout_timeout)-instance-method","name":"checkout_timeout=","doc":null,"summary":null,"abstract":false,"args":[{"name":"checkout_timeout","doc":null,"default_value":"","external_name":"checkout_timeout","restriction":""}],"args_string":"(checkout_timeout)","source_link":null,"def":{"name":"checkout_timeout=","args":[{"name":"checkout_timeout","doc":null,"default_value":"","external_name":"checkout_timeout","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@checkout_timeout = checkout_timeout"}},{"id":"command_shell:String-instance-method","html_id":"command_shell:String-instance-method","name":"command_shell","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"command_shell","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@command_shell"}},{"id":"command_shell=(command_shell)-instance-method","html_id":"command_shell=(command_shell)-instance-method","name":"command_shell=","doc":null,"summary":null,"abstract":false,"args":[{"name":"command_shell","doc":null,"default_value":"","external_name":"command_shell","restriction":""}],"args_string":"(command_shell)","source_link":null,"def":{"name":"command_shell=","args":[{"name":"command_shell","doc":null,"default_value":"","external_name":"command_shell","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@command_shell = command_shell"}},{"id":"command_shell_sudo:Bool-instance-method","html_id":"command_shell_sudo:Bool-instance-method","name":"command_shell_sudo","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"def":{"name":"command_shell_sudo","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@command_shell_sudo"}},{"id":"command_shell_sudo=(command_shell_sudo)-instance-method","html_id":"command_shell_sudo=(command_shell_sudo)-instance-method","name":"command_shell_sudo=","doc":null,"summary":null,"abstract":false,"args":[{"name":"command_shell_sudo","doc":null,"default_value":"","external_name":"command_shell_sudo","restriction":""}],"args_string":"(command_shell_sudo)","source_link":null,"def":{"name":"command_shell_sudo=","args":[{"name":"command_shell_sudo","doc":null,"default_value":"","external_name":"command_shell_sudo","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@command_shell_sudo = command_shell_sudo"}},{"id":"db:String-instance-method","html_id":"db:String-instance-method","name":"db","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"db","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@db"}},{"id":"db=(db)-instance-method","html_id":"db=(db)-instance-method","name":"db=","doc":null,"summary":null,"abstract":false,"args":[{"name":"db","doc":null,"default_value":"","external_name":"db","restriction":""}],"args_string":"(db)","source_link":null,"def":{"name":"db=","args":[{"name":"db","doc":null,"default_value":"","external_name":"db","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@db = db"}},{"id":"docker_container:String-instance-method","html_id":"docker_container:String-instance-method","name":"docker_container","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"docker_container","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@docker_container"}},{"id":"docker_container=(docker_container)-instance-method","html_id":"docker_container=(docker_container)-instance-method","name":"docker_container=","doc":null,"summary":null,"abstract":false,"args":[{"name":"docker_container","doc":null,"default_value":"","external_name":"docker_container","restriction":""}],"args_string":"(docker_container)","source_link":null,"def":{"name":"docker_container=","args":[{"name":"docker_container","doc":null,"default_value":"","external_name":"docker_container","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@docker_container = docker_container"}},{"id":"docker_source_location:String-instance-method","html_id":"docker_source_location:String-instance-method","name":"docker_source_location","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"docker_source_location","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@docker_source_location"}},{"id":"docker_source_location=(docker_source_location)-instance-method","html_id":"docker_source_location=(docker_source_location)-instance-method","name":"docker_source_location=","doc":null,"summary":null,"abstract":false,"args":[{"name":"docker_source_location","doc":null,"default_value":"","external_name":"docker_source_location","restriction":""}],"args_string":"(docker_source_location)","source_link":null,"def":{"name":"docker_source_location=","args":[{"name":"docker_source_location","doc":null,"default_value":"","external_name":"docker_source_location","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@docker_source_location = docker_source_location"}},{"id":"from_uri(uri:URI)-instance-method","html_id":"from_uri(uri:URI)-instance-method","name":"from_uri","doc":"Reads configuration properties from the given *uri*.","summary":"<p>Reads configuration properties from the given <em>uri</em>.</p>","abstract":false,"args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":"URI"}],"args_string":"(uri : URI)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L309","def":{"name":"from_uri","args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":"URI"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if uri.scheme\n  @adapter = uri.scheme.to_s\nend\nif uri.host\n  @host = uri.host.to_s\nend\nif uri.port\n  @port = uri.port.not_nil!\nend\nif uri.path\n  @db = uri.path.to_s.lchop\nend\nif uri.user\n  @user = uri.user.to_s\nend\nif uri.password\n  @password = uri.password.to_s\nend\nif uri.query\n  params = HTTP::Params.parse(uri.query.to_s)\n  {% for field in CONNECTION_URI_PARAMS %}\n          {% method = if STRING_FIELDS.includes?(field)\n    \"to_s\"\n  else\n    if INT_FIELDS.includes?(field)\n      \"to_i\"\n    else\n      \"to_f\"\n    end\n  end %}\n          @{{ field.id }} = params[\"{{ field.id }}\"].{{ method.id }} if params[\"{{ field.id }}\"]?\n        {% end %}\n  if params[\"pool_size\"]?\n    self.pool_size = params[\"pool_size\"].to_i\n  end\nend\nvalidate_config\nself\n"}},{"id":"from_uri(uri:String)-instance-method","html_id":"from_uri(uri:String)-instance-method","name":"from_uri","doc":"Reads configuration properties from the given *uri* string.\n\n```\nJennifer::Config.from_uri(\"mysql://root:password@somehost:3306/some_database\")\n```","summary":"<p>Reads configuration properties from the given <em>uri</em> string.</p>","abstract":false,"args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":"String"}],"args_string":"(uri : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L302","def":{"name":"from_uri","args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  from_uri(URI.parse(uri))\nrescue e\n  logger.error(\"Error parsing database uri #{uri}\")\nend"}},{"id":"from_yaml(source)-instance-method","html_id":"from_yaml(source)-instance-method","name":"from_yaml","doc":"Reads configuration properties from the given YAML *source*.","summary":"<p>Reads configuration properties from the given YAML <em>source</em>.</p>","abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"args_string":"(source)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L276","def":{"name":"from_yaml","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% for field in STRING_FIELDS %}\n        @{{ field.id }} = string_from_yaml(source, \"{{ field.id }}\") if source[\"{{ field.id }}\"]?\n      {% end %}\n{% for field in INT_FIELDS %}\n        @{{ field.id }} = int_from_yaml(source, \"{{ field.id }}\") if source[\"{{ field.id }}\"]?\n      {% end %}\n{% for field in FLOAT_FIELDS %}\n        @{{ field.id }} = float_from_yaml(source, \"{{ field.id }}\") if source[\"{{ field.id }}\"]?\n      {% end %}\n{% for field in BOOL_FIELDS %}\n        @{{ field.id }} = bool_from_yaml(source, \"{{ field.id }}\") if source[\"{{ field.id }}\"]?\n      {% end %}\nif source[\"local_time_zone_name\"]?\n  self.local_time_zone_name = source[\"local_time_zone_name\"].as_s\nend\nif source[\"pool_size\"]?\n  self.pool_size = int_from_yaml(source, \"pool_size\")\nend\nvalidate_config\nself\n"}},{"id":"host:String-instance-method","html_id":"host:String-instance-method","name":"host","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"host","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@host"}},{"id":"host=(host)-instance-method","html_id":"host=(host)-instance-method","name":"host=","doc":null,"summary":null,"abstract":false,"args":[{"name":"host","doc":null,"default_value":"","external_name":"host","restriction":""}],"args_string":"(host)","source_link":null,"def":{"name":"host=","args":[{"name":"host","doc":null,"default_value":"","external_name":"host","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@host = host"}},{"id":"initial_pool_size:Int32-instance-method","html_id":"initial_pool_size:Int32-instance-method","name":"initial_pool_size","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":null,"def":{"name":"initial_pool_size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@initial_pool_size"}},{"id":"initial_pool_size=(initial_pool_size)-instance-method","html_id":"initial_pool_size=(initial_pool_size)-instance-method","name":"initial_pool_size=","doc":null,"summary":null,"abstract":false,"args":[{"name":"initial_pool_size","doc":null,"default_value":"","external_name":"initial_pool_size","restriction":""}],"args_string":"(initial_pool_size)","source_link":null,"def":{"name":"initial_pool_size=","args":[{"name":"initial_pool_size","doc":null,"default_value":"","external_name":"initial_pool_size","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@initial_pool_size = initial_pool_size"}},{"id":"local_time_zone:Time::Location-instance-method","html_id":"local_time_zone:Time::Location-instance-method","name":"local_time_zone","doc":"Returns local time zone.","summary":"<p>Returns local time zone.</p>","abstract":false,"args":[],"args_string":" : Time::Location","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L120","def":{"name":"local_time_zone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time::Location","visibility":"Public","body":"@local_time_zone"}},{"id":"local_time_zone_name:String-instance-method","html_id":"local_time_zone_name:String-instance-method","name":"local_time_zone_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"local_time_zone_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@local_time_zone_name"}},{"id":"local_time_zone_name=(value:String)-instance-method","html_id":"local_time_zone_name=(value:String)-instance-method","name":"local_time_zone_name=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L232","def":{"name":"local_time_zone_name=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@local_time_zone_name = value\n@local_time_zone = Time::Location.load(value)\nvalue\n"}},{"id":"local_time_zone_name=(local_time_zone_name)-instance-method","html_id":"local_time_zone_name=(local_time_zone_name)-instance-method","name":"local_time_zone_name=","doc":null,"summary":null,"abstract":false,"args":[{"name":"local_time_zone_name","doc":null,"default_value":"","external_name":"local_time_zone_name","restriction":""}],"args_string":"(local_time_zone_name)","source_link":null,"def":{"name":"local_time_zone_name=","args":[{"name":"local_time_zone_name","doc":null,"default_value":"","external_name":"local_time_zone_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@local_time_zone_name = local_time_zone_name"}},{"id":"logger:Logger-instance-method","html_id":"logger:Logger-instance-method","name":"logger","doc":"Returns logger instance.\n\nDefault is `Logger.new(STDOUT)`. Default logger level - `Logger::DEBUG`.","summary":"<p>Returns logger instance.</p>","abstract":false,"args":[],"args_string":" : Logger","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L125","def":{"name":"logger","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Logger","visibility":"Public","body":"@logger"}},{"id":"logger=(logger)-instance-method","html_id":"logger=(logger)-instance-method","name":"logger=","doc":null,"summary":null,"abstract":false,"args":[{"name":"logger","doc":null,"default_value":"","external_name":"logger","restriction":""}],"args_string":"(logger)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L124","def":{"name":"logger=","args":[{"name":"logger","doc":null,"default_value":"","external_name":"logger","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@logger = logger"}},{"id":"max_idle_pool_size:Int32-instance-method","html_id":"max_idle_pool_size:Int32-instance-method","name":"max_idle_pool_size","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":null,"def":{"name":"max_idle_pool_size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@max_idle_pool_size"}},{"id":"max_idle_pool_size=(max_idle_pool_size)-instance-method","html_id":"max_idle_pool_size=(max_idle_pool_size)-instance-method","name":"max_idle_pool_size=","doc":null,"summary":null,"abstract":false,"args":[{"name":"max_idle_pool_size","doc":null,"default_value":"","external_name":"max_idle_pool_size","restriction":""}],"args_string":"(max_idle_pool_size)","source_link":null,"def":{"name":"max_idle_pool_size=","args":[{"name":"max_idle_pool_size","doc":null,"default_value":"","external_name":"max_idle_pool_size","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@max_idle_pool_size = max_idle_pool_size"}},{"id":"max_pool_size:Int32-instance-method","html_id":"max_pool_size:Int32-instance-method","name":"max_pool_size","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":null,"def":{"name":"max_pool_size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@max_pool_size"}},{"id":"max_pool_size=(max_pool_size)-instance-method","html_id":"max_pool_size=(max_pool_size)-instance-method","name":"max_pool_size=","doc":null,"summary":null,"abstract":false,"args":[{"name":"max_pool_size","doc":null,"default_value":"","external_name":"max_pool_size","restriction":""}],"args_string":"(max_pool_size)","source_link":null,"def":{"name":"max_pool_size=","args":[{"name":"max_pool_size","doc":null,"default_value":"","external_name":"max_pool_size","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@max_pool_size = max_pool_size"}},{"id":"migration_failure_handler_method:String-instance-method","html_id":"migration_failure_handler_method:String-instance-method","name":"migration_failure_handler_method","doc":"Handler type for the failed migrations; default is `\"none\"`.\n\nAllowed types:\n\n* `\"reverse_direction\"` - will invoke an opposite method (`#down` for up-migration and vice versa)\n* `\"callback\"` - will invoke `#after_up_failure` or `#after_down_failure` method\n* `\"none\"` - do nothing","summary":"<p>Handler type for the failed migrations; default is <code>\"none\"</code>.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L112","def":{"name":"migration_failure_handler_method","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@migration_failure_handler_method"}},{"id":"migration_failure_handler_method=(migration_failure_handler_method)-instance-method","html_id":"migration_failure_handler_method=(migration_failure_handler_method)-instance-method","name":"migration_failure_handler_method=","doc":null,"summary":null,"abstract":false,"args":[{"name":"migration_failure_handler_method","doc":null,"default_value":"","external_name":"migration_failure_handler_method","restriction":""}],"args_string":"(migration_failure_handler_method)","source_link":null,"def":{"name":"migration_failure_handler_method=","args":[{"name":"migration_failure_handler_method","doc":null,"default_value":"","external_name":"migration_failure_handler_method","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@migration_failure_handler_method = migration_failure_handler_method"}},{"id":"migration_files_path:String-instance-method","html_id":"migration_files_path:String-instance-method","name":"migration_files_path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"migration_files_path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@migration_files_path"}},{"id":"migration_files_path=(migration_files_path)-instance-method","html_id":"migration_files_path=(migration_files_path)-instance-method","name":"migration_files_path=","doc":null,"summary":null,"abstract":false,"args":[{"name":"migration_files_path","doc":null,"default_value":"","external_name":"migration_files_path","restriction":""}],"args_string":"(migration_files_path)","source_link":null,"def":{"name":"migration_files_path=","args":[{"name":"migration_files_path","doc":null,"default_value":"","external_name":"migration_files_path","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@migration_files_path = migration_files_path"}},{"id":"model_files_path:String-instance-method","html_id":"model_files_path:String-instance-method","name":"model_files_path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"model_files_path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@model_files_path"}},{"id":"model_files_path=(model_files_path)-instance-method","html_id":"model_files_path=(model_files_path)-instance-method","name":"model_files_path=","doc":null,"summary":null,"abstract":false,"args":[{"name":"model_files_path","doc":null,"default_value":"","external_name":"model_files_path","restriction":""}],"args_string":"(model_files_path)","source_link":null,"def":{"name":"model_files_path=","args":[{"name":"model_files_path","doc":null,"default_value":"","external_name":"model_files_path","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@model_files_path = model_files_path"}},{"id":"password:String-instance-method","html_id":"password:String-instance-method","name":"password","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"password","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@password"}},{"id":"password=(password)-instance-method","html_id":"password=(password)-instance-method","name":"password=","doc":null,"summary":null,"abstract":false,"args":[{"name":"password","doc":null,"default_value":"","external_name":"password","restriction":""}],"args_string":"(password)","source_link":null,"def":{"name":"password=","args":[{"name":"password","doc":null,"default_value":"","external_name":"password","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@password = password"}},{"id":"pool_size-instance-method","html_id":"pool_size-instance-method","name":"pool_size","doc":"Returns maximum size of the pool.","summary":"<p>Returns maximum size of the pool.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L202","def":{"name":"pool_size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"max_pool_size"}},{"id":"pool_size=(value:Int32)-instance-method","html_id":"pool_size=(value:Int32)-instance-method","name":"pool_size=","doc":"Sets `max_pool_size`, `max_idle_pool_size` and `initial_pool_size` to the given *value*.","summary":"<p>Sets <code><a href=\"../Jennifer/Config.html#max_pool_size:Int32-instance-method\">#max_pool_size</a></code>, <code><a href=\"../Jennifer/Config.html#max_idle_pool_size:Int32-instance-method\">#max_idle_pool_size</a></code> and <code><a href=\"../Jennifer/Config.html#initial_pool_size:Int32-instance-method\">#initial_pool_size</a></code> to the given <em>value</em>.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int32"}],"args_string":"(value : Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L162","def":{"name":"pool_size=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.max_pool_size = self.max_idle_pool_size = self.initial_pool_size = value"}},{"id":"port:Int32-instance-method","html_id":"port:Int32-instance-method","name":"port","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":null,"def":{"name":"port","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@port"}},{"id":"port=(port)-instance-method","html_id":"port=(port)-instance-method","name":"port=","doc":null,"summary":null,"abstract":false,"args":[{"name":"port","doc":null,"default_value":"","external_name":"port","restriction":""}],"args_string":"(port)","source_link":null,"def":{"name":"port=","args":[{"name":"port","doc":null,"default_value":"","external_name":"port","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@port = port"}},{"id":"read(path:String,env:Symbol=:development)-instance-method","html_id":"read(path:String,env:Symbol=:development)-instance-method","name":"read","doc":"Reads configurations from the file with given *path* for given *env*.\n\nAll configuration properties will be read from the *env* key.\n\n```\nJennifer::Config.read(\"./db/database.yml\", :production)\n```","summary":"<p>Reads configurations from the file with given <em>path</em> for given <em>env</em>.</p>","abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"env","doc":null,"default_value":":development","external_name":"env","restriction":"Symbol"}],"args_string":"(path : String, env : Symbol = <span class=\"n\">:development</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L258","def":{"name":"read","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"env","doc":null,"default_value":":development","external_name":"env","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"read(path, env.to_s)"}},{"id":"read(path:String,&block)-instance-method","html_id":"read(path:String,&amp;block)-instance-method","name":"read","doc":"Reads configurations from the file with given *path*.\n\nIt is considered that all configuration properties are located at the root level.","summary":"<p>Reads configurations from the file with given <em>path</em>.</p>","abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"args_string":"(path : String, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L270","def":{"name":"read","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"source = yield YAML.parse(File.read(path))\nfrom_yaml(source)\n"}},{"id":"read(path:String,env:String)-instance-method","html_id":"read(path:String,env:String)-instance-method","name":"read","doc":"Reads configurations from the file with given *path* for given *env*.\n\nAll configuration properties will be read from the *env* key.\n\n```\nJennifer::Config.read(\"./db/database.yml\", :production)\n```","summary":"<p>Reads configurations from the file with given <em>path</em> for given <em>env</em>.</p>","abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"env","doc":null,"default_value":"","external_name":"env","restriction":"String"}],"args_string":"(path : String, env : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L263","def":{"name":"read","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"env","doc":null,"default_value":"","external_name":"env","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"read(path) do |document|\n  document[env]\nend"}},{"id":"retry_attempts:Int32-instance-method","html_id":"retry_attempts:Int32-instance-method","name":"retry_attempts","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":null,"def":{"name":"retry_attempts","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@retry_attempts"}},{"id":"retry_attempts=(retry_attempts)-instance-method","html_id":"retry_attempts=(retry_attempts)-instance-method","name":"retry_attempts=","doc":null,"summary":null,"abstract":false,"args":[{"name":"retry_attempts","doc":null,"default_value":"","external_name":"retry_attempts","restriction":""}],"args_string":"(retry_attempts)","source_link":null,"def":{"name":"retry_attempts=","args":[{"name":"retry_attempts","doc":null,"default_value":"","external_name":"retry_attempts","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@retry_attempts = retry_attempts"}},{"id":"retry_delay:Float64-instance-method","html_id":"retry_delay:Float64-instance-method","name":"retry_delay","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Float64","source_link":null,"def":{"name":"retry_delay","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@retry_delay"}},{"id":"retry_delay=(retry_delay)-instance-method","html_id":"retry_delay=(retry_delay)-instance-method","name":"retry_delay=","doc":null,"summary":null,"abstract":false,"args":[{"name":"retry_delay","doc":null,"default_value":"","external_name":"retry_delay","restriction":""}],"args_string":"(retry_delay)","source_link":null,"def":{"name":"retry_delay=","args":[{"name":"retry_delay","doc":null,"default_value":"","external_name":"retry_delay","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@retry_delay = retry_delay"}},{"id":"schema:String-instance-method","html_id":"schema:String-instance-method","name":"schema","doc":"Defines postgres database schema name (postgres specific configuration).","summary":"<p>Defines postgres database schema name (postgres specific configuration).</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L117","def":{"name":"schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@schema"}},{"id":"schema=(schema)-instance-method","html_id":"schema=(schema)-instance-method","name":"schema=","doc":null,"summary":null,"abstract":false,"args":[{"name":"schema","doc":null,"default_value":"","external_name":"schema","restriction":""}],"args_string":"(schema)","source_link":null,"def":{"name":"schema=","args":[{"name":"schema","doc":null,"default_value":"","external_name":"schema","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@schema = schema"}},{"id":"skip_dumping_schema_sql:Bool-instance-method","html_id":"skip_dumping_schema_sql:Bool-instance-method","name":"skip_dumping_schema_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"def":{"name":"skip_dumping_schema_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@skip_dumping_schema_sql"}},{"id":"skip_dumping_schema_sql=(skip_dumping_schema_sql)-instance-method","html_id":"skip_dumping_schema_sql=(skip_dumping_schema_sql)-instance-method","name":"skip_dumping_schema_sql=","doc":null,"summary":null,"abstract":false,"args":[{"name":"skip_dumping_schema_sql","doc":null,"default_value":"","external_name":"skip_dumping_schema_sql","restriction":""}],"args_string":"(skip_dumping_schema_sql)","source_link":null,"def":{"name":"skip_dumping_schema_sql=","args":[{"name":"skip_dumping_schema_sql","doc":null,"default_value":"","external_name":"skip_dumping_schema_sql","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@skip_dumping_schema_sql = skip_dumping_schema_sql"}},{"id":"structure_folder:String-instance-method","html_id":"structure_folder:String-instance-method","name":"structure_folder","doc":"Returns `schema.sql` folder name.","summary":"<p>Returns <code>schema.sql</code> folder name.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L207","def":{"name":"structure_folder","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"if @structure_folder.empty?\n  File.dirname(@migration_files_path)\nelse\n  @structure_folder\nend"}},{"id":"structure_folder=(structure_folder)-instance-method","html_id":"structure_folder=(structure_folder)-instance-method","name":"structure_folder=","doc":null,"summary":null,"abstract":false,"args":[{"name":"structure_folder","doc":null,"default_value":"","external_name":"structure_folder","restriction":""}],"args_string":"(structure_folder)","source_link":null,"def":{"name":"structure_folder=","args":[{"name":"structure_folder","doc":null,"default_value":"","external_name":"structure_folder","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@structure_folder = structure_folder"}},{"id":"structure_path:String-instance-method","html_id":"structure_path:String-instance-method","name":"structure_path","doc":"Return path to `structure.sql` file.","summary":"<p>Return path to <code>structure.sql</code> file.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L216","def":{"name":"structure_path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"File.join(structure_folder, \"structure.sql\")"}},{"id":"user:String-instance-method","html_id":"user:String-instance-method","name":"user","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"def":{"name":"user","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@user"}},{"id":"user=(user)-instance-method","html_id":"user=(user)-instance-method","name":"user=","doc":null,"summary":null,"abstract":false,"args":[{"name":"user","doc":null,"default_value":"","external_name":"user","restriction":""}],"args_string":"(user)","source_link":null,"def":{"name":"user=","args":[{"name":"user","doc":null,"default_value":"","external_name":"user","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@user = user"}},{"id":"verbose_migrations:Bool-instance-method","html_id":"verbose_migrations:Bool-instance-method","name":"verbose_migrations","doc":"Returns whether migrations should be performed in verbose mode.\n\nDefault is `true`.","summary":"<p>Returns whether migrations should be performed in verbose mode.</p>","abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/config.cr#L105","def":{"name":"verbose_migrations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@verbose_migrations"}},{"id":"verbose_migrations=(verbose_migrations)-instance-method","html_id":"verbose_migrations=(verbose_migrations)-instance-method","name":"verbose_migrations=","doc":null,"summary":null,"abstract":false,"args":[{"name":"verbose_migrations","doc":null,"default_value":"","external_name":"verbose_migrations","restriction":""}],"args_string":"(verbose_migrations)","source_link":null,"def":{"name":"verbose_migrations=","args":[{"name":"verbose_migrations","doc":null,"default_value":"","external_name":"verbose_migrations","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@verbose_migrations = verbose_migrations"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/DataTypeCasting","path":"Jennifer/DataTypeCasting.html","kind":"class","full_name":"Jennifer::DataTypeCasting","name":"DataTypeCasting","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":144,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"EXTRACT_WORDS_REG","name":"EXTRACT_WORDS_REG","value":"/cast from (.+) to (.+) failed/","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[{"id":"build(column,klass,exception)-class-method","html_id":"build(column,klass,exception)-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"args_string":"(column, klass, exception)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L156","def":{"name":"build","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"match?(exception) ? new(column, klass, exception) : exception"}},{"id":"match?(exception)-class-method","html_id":"match?(exception)-class-method","name":"match?","doc":null,"summary":null,"abstract":false,"args":[{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"args_string":"(exception)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L152","def":{"name":"match?","args":[{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exception.message =~ EXTRACT_WORDS_REG"}}],"constructors":[{"id":"new(column,klass,exception)-class-method","html_id":"new(column,klass,exception)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"args_string":"(column, klass, exception)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L147","def":{"name":"new","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(column, klass, exception)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/DataTypeMismatch","path":"Jennifer/DataTypeMismatch.html","kind":"class","full_name":"Jennifer::DataTypeMismatch","name":"DataTypeMismatch","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":125,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"EXTRACT_WORDS_REG","name":"EXTRACT_WORDS_REG","value":"/returned a (.+)\\. A (.+) was/","doc":null,"summary":null},{"id":"MATCH_REG","name":"MATCH_REG","value":"/#read returned a/","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[{"id":"build(column,klass,exception)-class-method","html_id":"build(column,klass,exception)-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"args_string":"(column, klass, exception)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L139","def":{"name":"build","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"match?(exception) ? new(column, klass, exception) : exception"}},{"id":"match?(exception)-class-method","html_id":"match?(exception)-class-method","name":"match?","doc":"TODO: think about monkey patching DB::ResultSet#read for raising custom exception rather than `Exception`","summary":"<p><span class=\"flag orange\">TODO</span>  think about monkey patching DB::ResultSet#read for raising custom exception rather than <code>Exception</code></p>","abstract":false,"args":[{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"args_string":"(exception)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L135","def":{"name":"match?","args":[{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exception.message =~ MATCH_REG"}}],"constructors":[{"id":"new(column,klass,exception)-class-method","html_id":"new(column,klass,exception)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"args_string":"(column, klass, exception)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L129","def":{"name":"new","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(column, klass, exception)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/DBAny","path":"Jennifer/DBAny.html","kind":"alias","full_name":"Jennifer::DBAny","name":"DBAny","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | Time::Span | UInt32 | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"All possible database types for any driver.","summary":"<p>All possible database types for any driver.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/InvalidConfig","path":"Jennifer/InvalidConfig.html","kind":"class","full_name":"Jennifer::InvalidConfig","name":"InvalidConfig","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":58,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"Presents Jennifer configuration invalidity.","summary":"<p>Presents Jennifer configuration invalidity.</p>","class_methods":[{"id":"bad_adapter-class-method","html_id":"bad_adapter-class-method","name":"bad_adapter","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L63","def":{"name":"bad_adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new(\"No adapter configured\")"}},{"id":"bad_database-class-method","html_id":"bad_database-class-method","name":"bad_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L67","def":{"name":"bad_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new(\"No database configured\")"}},{"id":"bad_migration_failure_handler(allowed)-class-method","html_id":"bad_migration_failure_handler(allowed)-class-method","name":"bad_migration_failure_handler","doc":null,"summary":null,"abstract":false,"args":[{"name":"allowed","doc":null,"default_value":"","external_name":"allowed","restriction":""}],"args_string":"(allowed)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L71","def":{"name":"bad_migration_failure_handler","args":[{"name":"allowed","doc":null,"default_value":"","external_name":"allowed","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"formatted = allowed.map do |e|\n  \"\\\"#{e}\\\"\"\nend.join(\" \")\nnew(\"migration_failure_handler_method config may be only #{formatted}\")\n"}}],"constructors":[{"id":"new(message)-class-method","html_id":"new(message)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"args_string":"(message)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L59","def":{"name":"new","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Macros","path":"Jennifer/Macros.html","kind":"module","full_name":"Jennifer::Macros","name":"Macros","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/macros.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/macros.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"Primary32","name":"Primary32","value":"{type: Int32, primary: true}","doc":"Mapping type for `Int32` primary key.","summary":"<p>Mapping type for <code>Int32</code> primary key.</p>"},{"id":"Primary64","name":"Primary64","value":"{type: Int64, primary: true}","doc":"Mapping type for `Int64` primary key.","summary":"<p>Mapping type for <code>Int64</code> primary key.</p>"}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource","kind":"class","full_name":"Jennifer::Model::Resource","name":"Resource"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"This module contains constants needed only during compilation process to avoid their recreating.","summary":"<p>This module contains constants needed only during compilation process to avoid their recreating.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration","path":"Jennifer/Migration.html","kind":"module","full_name":"Jennifer::Migration","name":"Migration","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/base.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr"},{"filename":"jennifer/migration/table_builder/base.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr"},{"filename":"jennifer/migration/table_builder/create_foreign_key.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr"},{"filename":"jennifer/migration/table_builder/drop_foreign_key.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_foreign_key.cr"},{"filename":"jennifer/migration/table_builder/change_table.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr"},{"filename":"jennifer/migration/table_builder/create_index.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr"},{"filename":"jennifer/migration/table_builder/create_table.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr"},{"filename":"jennifer/migration/table_builder/create_view.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_view.cr"},{"filename":"jennifer/migration/table_builder/drop_index.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_index.cr"},{"filename":"jennifer/migration/table_builder/drop_table.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_table.cr"},{"filename":"jennifer/migration/table_builder/drop_view.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_view.cr"},{"filename":"jennifer/migration/table_builder/raw.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/raw.cr"},{"filename":"jennifer/migration/runner.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/runner.cr"},{"filename":"jennifer/migration/version.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/version.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/Base","path":"Jennifer/Migration/Base.html","kind":"class","full_name":"Jennifer::Migration::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/base.cr","line_number":114,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/Base/AbstractClassMethods","kind":"module","full_name":"Jennifer::Migration::Base::AbstractClassMethods","name":"AbstractClassMethods"}],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration","kind":"module","full_name":"Jennifer::Migration","name":"Migration"},"doc":"Migrations can manage the evolution of a schema used by a physical databases. It's a solution\nto the common problem of adding a field to make a new feature work in your local\ndatabase, but being unsure of how to push that change to other developers and to the production\nserver. With migrations, you can describe the transformations in self-contained classes that can\nbe checked into version control systems and executed against another database that might be one,\ntwo, or five versions behind.\n\nExample of a simple migration:\n\n```\nclass AddMainFlagToContacts < Jennifer::Migration::Base\n  def up\n    create_table(::contacts) do |t|\n      t.string :name\n      t.string :number, { :null => false }\n    end\n  end\n\n  def down\n    drop_table(::contacts)\n  end\nend\n```\n\nThis migration will add a boolean flag to the contacts table and remove it if you're backing out\nof the migration. It shows how all migrations have two methods `#up` and `#down` that describes\nthe transformations required to implement or remove the migration. These methods can consist of both\nthe migration specific methods like `#create_table` and `#drop_table`, but may also contain regular\n`Crystal` code for generating data needed for the transformations.\n\nBy default each migration invocation (both `up` and `down`) are wrapped into a transaction but not all\nRDMS support transactional schema changes (like MySQL). To specify additional mechanism to rollback\nafter failed invocation you can chose 2 option: run reverse method (`down` for `up` and vise verse) or\ninvoke special callback.\n\nUsing reverse direction:\n\n```\nJennifer::Config.configure do |conf|\n  # ...\n  conf.migration_failure_handler_method = \"reverse_direction\"\nend\n\nclass AddMainFlagToContacts < Jennifer::Migration::Base\n  def up\n    change_table(::contacts) do |t|\n      t.add_column :main, :bool, default: true\n    end\n  end\n\n  def down\n    change_table(::contacts) do |t|\n      t.drop_column :main if column_exists?(:contacts, :main)\n    end\n  end\nend\n```\n\nUsing callbacks:\n\n```\nJennifer::Config.configure do |conf|\n  # ...\n  conf.migration_failure_handler_method = \"callback\"\nend\n\nclass AddMainFlagToContacts < Jennifer::Migration::Base\n  def up\n    change_table(::contacts) do |t|\n      t.add_column :main, :bool, default: true\n    end\n  end\n\n  def after_up_failure\n    change_table(::contacts) do |t|\n      t.drop_column :main if column_exists?(:contacts, :main)\n    end\n  end\n\n  def down\n    change_table(::contacts) do |t|\n      t.drop_column :main\n    end\n  end\n\n  def after_down_failure\n    change_table(::contacts) do |t|\n      t.add_column :main, :bool, default: true unless column_exists?(:contacts, :main)\n    end\n  end\nend\n```\n\nSuch sort of behavior is useful when you have complex migration with several separate\nchanges.\n\nAlso you can disable automatic transaction passing `false` to `.with_transaction` in a migration class body:\n\n```\nclass AddMainFlagToContacts < Jennifer::Migration::Base\n  with_transaction false\n\n  def up\n    # ...\n  end\n\n  def down\n    # ...\n  end\nend\n```","summary":"<p>Migrations can manage the evolution of a schema used by a physical databases.</p>","class_methods":[{"id":"migrations-class-method","html_id":"migrations-class-method","name":"migrations","doc":"Returns all available migration classes.","summary":"<p>Returns all available migration classes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L590","def":{"name":"migrations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n          {% if @type.all_subclasses.size > 0 %}\n            {\n              {% for model in @type.all_subclasses %}\n                {{ model.id }}.version => {{ model.id }},\n              {% end %}\n            }\n          {% else %}\n            {} of String => Jennifer::Migration::Base.class\n          {% end %}\n        {% end %}"}},{"id":"version-class-method","html_id":"version-class-method","name":"version","doc":"Returns migration timestamp.","summary":"<p>Returns migration timestamp.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L580","def":{"name":"version","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(self, :version))"}},{"id":"versions-class-method","html_id":"versions-class-method","name":"versions","doc":"Returns all existing migration timestamps based on available classes.","summary":"<p>Returns all existing migration timestamps based on available classes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L585","def":{"name":"versions","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"migrations.keys"}},{"id":"with_transaction(value:Bool)-class-method","html_id":"with_transaction(value:Bool)-class-method","name":"with_transaction","doc":"Specify whether `#up`, `#down`, `#after_up_failure` and `#after_up_failure`\nshould be wrapped into a transaction.\n\n`true` by default.","summary":"<p>Specify whether <code><a href=\"../../Jennifer/Migration/Base.html#up-instance-method\">#up</a></code>, <code><a href=\"../../Jennifer/Migration/Base.html#down-instance-method\">#down</a></code>, <code><a href=\"../../Jennifer/Migration/Base.html#after_up_failure-instance-method\">#after_up_failure</a></code> and <code><a href=\"../../Jennifer/Migration/Base.html#after_up_failure-instance-method\">#after_up_failure</a></code> should be wrapped into a transaction.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"args_string":"(value : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L192","def":{"name":"with_transaction","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@with_transaction = value"}},{"id":"with_transaction?-class-method","html_id":"with_transaction?-class-method","name":"with_transaction?","doc":"Returns whether `#up`, `#down`, `#after_up_failure` and `#after_up_failure`\nare wrapped into a transaction.","summary":"<p>Returns whether <code><a href=\"../../Jennifer/Migration/Base.html#up-instance-method\">#up</a></code>, <code><a href=\"../../Jennifer/Migration/Base.html#down-instance-method\">#down</a></code>, <code><a href=\"../../Jennifer/Migration/Base.html#after_up_failure-instance-method\">#after_up_failure</a></code> and <code><a href=\"../../Jennifer/Migration/Base.html#after_up_failure-instance-method\">#after_up_failure</a></code> are wrapped into a transaction.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L198","def":{"name":"with_transaction?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@with_transaction"}}],"constructors":[],"instance_methods":[{"id":"adapter(*args,**options)-instance-method","html_id":"adapter(*args,**options)-instance-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L133","def":{"name":"adapter","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter(*args, **options)"}},{"id":"adapter(*args,**options,&block)-instance-method","html_id":"adapter(*args,**options,&amp;block)-instance-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L133","def":{"name":"adapter","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"add_foreign_key(from_table:String|Symbol,to_table:String|Symbol,column:String|Symbol?=nil,primary_key:String|Symbol?=nil,name:String?=nil,on_update:Symbol=TableBuilder::Base::DEFAULT_ON_EVENT_ACTION,on_delete:Symbol=TableBuilder::Base::DEFAULT_ON_EVENT_ACTION)-instance-method","html_id":"add_foreign_key(from_table:String|Symbol,to_table:String|Symbol,column:String|Symbol?=nil,primary_key:String|Symbol?=nil,name:String?=nil,on_update:Symbol=TableBuilder::Base::DEFAULT_ON_EVENT_ACTION,on_delete:Symbol=TableBuilder::Base::DEFAULT_ON_EVENT_ACTION)-instance-method","name":"add_foreign_key","doc":"Adds a new foreign key.\n\n*from_table* is the table with the key column, *to_table* contains the referenced primary key.\n\nThe foreign key will be named after the following pattern: `fk_cr_<identifier>`. `identifier` is a 10\ncharacter long string which is deterministically generated from the `from_table` and `column`. A custom name\ncan be specified with the *name* argument.\n\n```\nadd_foreign_key(:comments, :posts)\n```\n\nCreating a foreign key with specific primary and foreign keys\n\n```\nadd_foreign_key(:comments, :posts, column: :article_id, primary: :uid)\n```\n\nCreating a foreign key with a specific name\n\n```\nadd_foreign_key(:comments, :posts, name: \"comments_posts_fk\")\n```\n\nSpecify `ON DELETE` or `ON UPDATE` action:\n\n```\nadd_foreign_key(:comments, :posts, on_delete: :cascade)\n```\n\nSupported values: `:no_action`, `:restrict` (default), `:cascade`, `:set_null`.","summary":"<p>Adds a new foreign key.</p>","abstract":false,"args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":"String | Symbol"},{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":"String | Symbol"},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":"String | Symbol | ::Nil"},{"name":"primary_key","doc":null,"default_value":"nil","external_name":"primary_key","restriction":"String | Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"on_update","doc":null,"default_value":"TableBuilder::Base::DEFAULT_ON_EVENT_ACTION","external_name":"on_update","restriction":"Symbol"},{"name":"on_delete","doc":null,"default_value":"TableBuilder::Base::DEFAULT_ON_EVENT_ACTION","external_name":"on_delete","restriction":"Symbol"}],"args_string":"(from_table : String | Symbol, to_table : String | Symbol, column : String | Symbol? = <span class=\"n\">nil</span>, primary_key : String | Symbol? = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>, on_update : Symbol = <span class=\"t\">TableBuilder</span><span class=\"t\">::</span><span class=\"t\">Base</span><span class=\"t\">::</span><span class=\"t\">DEFAULT_ON_EVENT_ACTION</span>, on_delete : Symbol = <span class=\"t\">TableBuilder</span><span class=\"t\">::</span><span class=\"t\">Base</span><span class=\"t\">::</span><span class=\"t\">DEFAULT_ON_EVENT_ACTION</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L501","def":{"name":"add_foreign_key","args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":"String | Symbol"},{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":"String | Symbol"},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":"String | Symbol | ::Nil"},{"name":"primary_key","doc":null,"default_value":"nil","external_name":"primary_key","restriction":"String | Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"on_update","doc":null,"default_value":"TableBuilder::Base::DEFAULT_ON_EVENT_ACTION","external_name":"on_update","restriction":"Symbol"},{"name":"on_delete","doc":null,"default_value":"TableBuilder::Base::DEFAULT_ON_EVENT_ACTION","external_name":"on_delete","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(TableBuilder::CreateForeignKey.new(adapter, from_table.to_s, to_table.to_s, column, primary_key, name, on_update, on_delete))"}},{"id":"add_index(table_name:String|Symbol,field:Symbol,type:Symbol?=nil,name:String?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","html_id":"add_index(table_name:String|Symbol,field:Symbol,type:Symbol?=nil,name:String?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","name":"add_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":"String | Symbol"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"args_string":"(table_name : String | Symbol, field : Symbol, type : Symbol? = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>, length : Int32? = <span class=\"n\">nil</span>, order : Symbol? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L434","def":{"name":"add_index","args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":"String | Symbol"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"add_index(table_name, [field], type, name, orders: (order ? {field => order.not_nil!} : {} of Symbol => Symbol), lengths: (length ? {field => length.not_nil!} : {} of Symbol => Int32))"}},{"id":"add_index(table_name:String|Symbol,fields:Array(Symbol),type:Symbol?=nil,name:String?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=>Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=>Symbol)-instance-method","html_id":"add_index(table_name:String|Symbol,fields:Array(Symbol),type:Symbol?=nil,name:String?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=&gt;Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=&gt;Symbol)-instance-method","name":"add_index","doc":"Adds a new index to the *table_name*.\n\nThe index will be named after the table and the column name(s), unless you  specify *name*.\n\nAllowed *type*:\n\n* `nil` (default)\n* `:unique`\n* `:fulltext` (MySQL only)\n* `:spatial` (MySQL only)\n\n```\nadd_index(:contacts, :email)\n# => CREATE INDEX contacts_email_idx on contacts(email)\n```\n\nCreating a unique index:\n\n```\nadd_index(:accounts, [:branch_id, :party_id], :unique)\n# => CREATE UNIQUE INDEX accounts_branch_id_party_id_idx ON accounts(branch_id, party_id)\n```\n\nCreating a named index:\n\n```\nadd_index(:accounts, [:branch_id, :party_id], :unique, name: \"by_branch_party\")\n# => CREATE UNIQUE INDEX by_branch_party ON accounts(branch_id, party_id)\n```\n\nCreates an index with specific key length\n\n```\nadd_index(:accounts, :name, name: \"by_name\", length: 10)\n# => CREATE INDEX by_name ON accounts(name(10))\n# for multiple fields\n\nadd_index(:accounts, &i(name surname), name: 'by_name_surname', lengths: { :name => 10, :surname => 15 })\n# => CREATE INDEX by_name_surname ON accounts(name(10), surname(15))\n```\n\nNOTE: SQLite doesn't support index length.\n\nCreating an index with a sort order:\n\n```\nadd_index(:accounts, %i(branch_id party_id surname), orders: { :branch_id => :desc, :party_id => :asc })\n# => CREATE INDEX by_branch_desc_party ON accounts(branch_id DESC, party_id ASC, surname)\n```\n\nNOTE: MySQL only supports index order from  onwards (earlier versions will raise an exception).","summary":"<p>Adds a new index to the <em>table_name</em>.</p>","abstract":false,"args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":"String | Symbol"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"args_string":"(table_name : String | Symbol, fields : Array(Symbol), type : Symbol? = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>, lengths : Hash(Symbol, Int32) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Int32</span>, orders : Hash(Symbol, Symbol) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Symbol</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L428","def":{"name":"add_index","args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":"String | Symbol"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(TableBuilder::CreateIndex.new(adapter, table_name.to_s, name, fields, type, lengths, orders))"}},{"id":"after_down_failure-instance-method","html_id":"after_down_failure-instance-method","name":"after_down_failure","doc":"`#down` failure handler if `migration_failure_handler_method` is set to `:callback`.\n\nBy default it is executed under a transaction.","summary":"<p><code><a href=\"../../Jennifer/Migration/Base.html#down-instance-method\">#down</a></code> failure handler if <code>migration_failure_handler_method</code> is set to <code>:callback</code>.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L571","def":{"name":"after_down_failure","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"after_up_failure-instance-method","html_id":"after_up_failure-instance-method","name":"after_up_failure","doc":"`#up` failure handler if `migration_failure_handler_method` is set to `:callback`.\n\nBy default it is executed under a transaction.","summary":"<p><code><a href=\"../../Jennifer/Migration/Base.html#up-instance-method\">#up</a></code> failure handler if <code>migration_failure_handler_method</code> is set to <code>:callback</code>.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L565","def":{"name":"after_up_failure","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"change_enum(name:String|Symbol,options:Hash(Symbol,Array(String)))-instance-method","html_id":"change_enum(name:String|Symbol,options:Hash(Symbol,Array(String)))-instance-method","name":"change_enum","doc":"Changes database enum *name* by given *options*.\n\n```\n# To add new values\nchange_enum(:gender_enum, { :add_values => [\"unknown\"] })\n\n# To rename value\nchange_enum(:gender_enum, { :rename_values => [\"unknown\", \"other\"] })\n\n# To remove values\nchange_enum(:gender_enum, { :remove_values => [\"other\"] })\n```\n\nAlso see `TableBuilder::CreateTable#enum`.\n\nIt is possible to rename only one enum value at a time.\n\nNOTE: not all adapters support this method.","summary":"<p>Changes database enum <em>name</em> by given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash(Symbol, Array(String))"}],"args_string":"(name : String | Symbol, options : Hash(Symbol, Array(String)))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L373","def":{"name":"change_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash(Symbol, Array(String))"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(schema_processor.build_change_enum(name, options))"}},{"id":"change_table(table:String|Symbol,&block)-instance-method","html_id":"change_table(table:String|Symbol,&amp;block)-instance-method","name":"change_table","doc":"Changes existing `table`.\n\n```\nchange_table(:users) do |t|\n  t.change_column :age, :integer, { :default => 0 }\n  t.add_column :description, :text\n  t.drop_column :details\nend\n```\n\nFor more details see `TableBuilder::ChangeTable`.","summary":"<p>Changes existing <code>table</code>.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"}],"args_string":"(table : String | Symbol, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L263","def":{"name":"change_table","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"tb = TableBuilder::ChangeTable.new(adapter, table)\nyield tb\nprocess_builder(tb)\n"}},{"id":"column_exists?(table,name)-instance-method","html_id":"column_exists?(table,name)-instance-method","name":"column_exists?","doc":"Returns whether column of *table* with *name* exists.\n\nDelegate to `Adapter::Base#column_exists?`.","summary":"<p>Returns whether column of <em>table</em> with <em>name</em> exists.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L153","def":{"name":"column_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.column_exists?(table, name)"}},{"id":"create_enum(name:String|Symbol,values:Array(String))-instance-method","html_id":"create_enum(name:String|Symbol,values:Array(String))-instance-method","name":"create_enum","doc":"Creates database enum\n\n```\ncreate_enum(:gender, %w(unspecified female male))\n```\n\nNOTE: not all adapters support this method.","summary":"<p>Creates database enum</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(String)"}],"args_string":"(name : String | Symbol, values : Array(String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L340","def":{"name":"create_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(schema_processor.build_create_enum(name, values))"}},{"id":"create_join_table(table1,table2,table_name:String?=nil)-instance-method","html_id":"create_join_table(table1,table2,table_name:String?=nil)-instance-method","name":"create_join_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":""},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":""},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"}],"args_string":"(table1, table2, table_name : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L248","def":{"name":"create_join_table","args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":""},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":""},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"create_join_table(table1, table2, table_name) do\nend"}},{"id":"create_join_table(table1:String|Symbol,table2:String|Symbol,table_name:String?=nil,&block)-instance-method","html_id":"create_join_table(table1:String|Symbol,table2:String|Symbol,table_name:String?=nil,&amp;block)-instance-method","name":"create_join_table","doc":"Creates a new join table with the name created using the lexical order of the first 2 arguments.\n\nCreated join table has no primary key, generated fields has no indexes.\n\n```\n# Creates a table called 'addresses_contacts'\ncreate_join_table(:contacts, :addresses)\n```","summary":"<p>Creates a new join table with the name created using the lexical order of the first 2 arguments.</p>","abstract":false,"args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":"String | Symbol"},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":"String | Symbol"},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"}],"args_string":"(table1 : String | Symbol, table2 : String | Symbol, table_name : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L240","def":{"name":"create_join_table","args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":"String | Symbol"},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":"String | Symbol"},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"create_table(table_name || (adapter.class.join_table_name(table1, table2)), false) do |tb|\n  tb.integer(Inflector.foreign_key(Inflector.singularize(table1.to_s)))\n  tb.integer(Inflector.foreign_key(Inflector.singularize(table2.to_s)))\n  yield tb\nend"}},{"id":"create_materialized_view(name:String|Symbol,source)-instance-method","html_id":"create_materialized_view(name:String|Symbol,source)-instance-method","name":"create_materialized_view","doc":"Creates a new materialized database view with the name *name*.\n\n```\ncreate_view(:youth_contacts, Jennifer::Query[\"contacts\"].where { and(_age >= sql(\"14\"), _age <= sql(\"24\")) })\n```\n\n# The source query can't have any arguments therefore all literals should be escaped manually and passed using\n`QueryBuilder::Expression#sql`.\n\nNOTE: not all adapters support this method.","summary":"<p>Creates a new materialized database view with the name <em>name</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"args_string":"(name : String | Symbol, source)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L320","def":{"name":"create_materialized_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(schema_processor.build_create_materialized_view(name, source))"}},{"id":"create_table(name:String|Symbol,id:Bool=true,&block)-instance-method","html_id":"create_table(name:String|Symbol,id:Bool=true,&amp;block)-instance-method","name":"create_table","doc":"Creates a new table with the name *name*.\n\n```\ncreate_table(:contacts) do |t|\n  t.field :name, :string, { :size => 30 }\nend\n# or with shorthand\ncreate_table(:contacts) do |t|\n  t.string :name, { :size => 30 }\nend\n```\n\nBy default, `#create_table` generates `id : Int32` primary key (`INTEGER` database type).\nTo prevent such behavior - set *id* argument to `false`.\n\n```\ncreate_table(:passport, false) do |t|\n  t.string :puid, { :size => 10, :primary => true }\n  t.string :name, { :size => 30 }\nend\n```\n\nFor more details about new  table definition see `TableBuilder::CreateTable`.","summary":"<p>Creates a new table with the name <em>name</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"id","doc":null,"default_value":"true","external_name":"id","restriction":"Bool"}],"args_string":"(name : String | Symbol, id : Bool = <span class=\"n\">true</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L225","def":{"name":"create_table","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"id","doc":null,"default_value":"true","external_name":"id","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"tb = TableBuilder::CreateTable.new(adapter, name)\nif id\n  tb.integer(:id, {:primary => true, :auto_increment => true})\nend\nyield tb\nprocess_builder(tb)\n"}},{"id":"create_view(name:String|Symbol,source)-instance-method","html_id":"create_view(name:String|Symbol,source)-instance-method","name":"create_view","doc":"Creates a new database view with the name *name*.\n\n```\ncreate_view(:youth_contacts, Jennifer::Query[\"contacts\"].where { and(_age >= sql(\"14\"), _age <= sql(\"24\")) })\n```\n\nThe source query can't have any arguments therefore all literals should be escaped manually and passed using\n`QueryBuilder::Expression#sql`.","summary":"<p>Creates a new database view with the name <em>name</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"args_string":"(name : String | Symbol, source)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L297","def":{"name":"create_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(TableBuilder::CreateView.new(adapter, name.to_s, source))"}},{"id":"down-instance-method","html_id":"down-instance-method","name":"down","doc":"Includes all transformations required to remove migration.\n\nBy default it is executed under a transaction.","summary":"<p>Includes all transformations required to remove migration.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L186","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"drop_enum(name:String|Symbol)-instance-method","html_id":"drop_enum(name:String|Symbol)-instance-method","name":"drop_enum","doc":"Drops a database enum by given *name*.\n\n```\ndrop_enum(:gender)\n```\n\nNOTE: not all adapters support this method.","summary":"<p>Drops a database enum by given <em>name</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L351","def":{"name":"drop_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(schema_processor.build_drop_enum(name))"}},{"id":"drop_foreign_key(from_table:String|Symbol,to_table:String|Symbol,column:String|Symbol?=nil,name:String?=nil)-instance-method","html_id":"drop_foreign_key(from_table:String|Symbol,to_table:String|Symbol,column:String|Symbol?=nil,name:String?=nil)-instance-method","name":"drop_foreign_key","doc":"Removes the given foreign key from *from_table* to *to_table*.\n\nArguments:\n- *column* - the foreign key column name on current_table; defaults to\n`Inflector.foreign_key(Inflector.singularize(to_table));\n- *primary_key* - the primary key column name on *to_table*. Defaults to `\"id\"`;\n- *name* - the constraint name. Defaults to `\"fc_cr_<identifier>\".\n\n```\ndrop_foreign_key(:accounts, :branches)\n```\n\nRemoves foreign key with specific column:\n\n```\ndrop_foreign_key(:accounts, :branches, :column_name)\n```\n\nRemoves foreign key with specific name:\n\n```\ndrop_foreign_key(:accounts, :branches, name: \"special_fk_name\")\n```","summary":"<p>Removes the given foreign key from <em>from_table</em> to <em>to_table</em>.</p>","abstract":false,"args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":"String | Symbol"},{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":"String | Symbol"},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":"String | Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(from_table : String | Symbol, to_table : String | Symbol, column : String | Symbol? = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L542","def":{"name":"drop_foreign_key","args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":"String | Symbol"},{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":"String | Symbol"},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":"String | Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(TableBuilder::DropForeignKey.new(adapter, from_table.to_s, to_table.to_s, column, name))"}},{"id":"drop_index(table:String|Symbol,field:Symbol?,name:String?=nil)-instance-method","html_id":"drop_index(table:String|Symbol,field:Symbol?,name:String?=nil)-instance-method","name":"drop_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(table : String | Symbol, field : Symbol?, name : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L466","def":{"name":"drop_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(TableBuilder::DropIndex.new(adapter, table, field ? [field] : [] of ::Symbol, name))"}},{"id":"drop_index(table:String|Symbol,fields:Array(Symbol)=[]ofSymbol,name:String?=nil)-instance-method","html_id":"drop_index(table:String|Symbol,fields:Array(Symbol)=[]ofSymbol,name:String?=nil)-instance-method","name":"drop_index","doc":"Removes the given index from the table.\n\n```\ndrop_index(:accounts, :branch_id)\n```\n\nDrop the index on multiple fields\n\n```\ndrop_index(:accounts, %i(branch_id party_id))\n```\nDrop index with specific name:\n\n```\ndrop_index(:accounts, name: \"by_branch_name\")\n```","summary":"<p>Removes the given index from the table.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"fields","doc":null,"default_value":"[] of Symbol","external_name":"fields","restriction":"Array(Symbol)"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(table : String | Symbol, fields : Array(Symbol) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Symbol</span>, name : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L462","def":{"name":"drop_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"fields","doc":null,"default_value":"[] of Symbol","external_name":"fields","restriction":"Array(Symbol)"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(TableBuilder::DropIndex.new(adapter, table, fields, name))"}},{"id":"drop_join_table(table1,table2)-instance-method","html_id":"drop_join_table(table1,table2)-instance-method","name":"drop_join_table","doc":"Drops the join table specified by the given arguments.\n\nSee `#create_join_table` for details.\n\n```\ndrop_join_table(:contacts, :addresses)\n```","summary":"<p>Drops the join table specified by the given arguments.</p>","abstract":false,"args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":""},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":""}],"args_string":"(table1, table2)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L285","def":{"name":"drop_join_table","args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":""},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"drop_table(adapter.class.join_table_name(table1, table2))"}},{"id":"drop_materialized_view(name:String|Symbol)-instance-method","html_id":"drop_materialized_view(name:String|Symbol)-instance-method","name":"drop_materialized_view","doc":"Drops a materialized view from the database.\n\n```\ndrop_materialized_view(:youth_contacts)\n```","summary":"<p>Drops a materialized view from the database.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L329","def":{"name":"drop_materialized_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(schema_processor.build_drop_materialized_view(name))"}},{"id":"drop_table(table:String|Symbol)-instance-method","html_id":"drop_table(table:String|Symbol)-instance-method","name":"drop_table","doc":"Drops a *table* from the database.\n\n```\ndrop_table(:users)\n```","summary":"<p>Drops a <em>table</em> from the database.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"}],"args_string":"(table : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L274","def":{"name":"drop_table","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(TableBuilder::DropTable.new(adapter, table))"}},{"id":"drop_view(name:String|Symbol)-instance-method","html_id":"drop_view(name:String|Symbol)-instance-method","name":"drop_view","doc":"Drops a view from the database.\n\n```\ndrop_view(:youth_contacts)\n```","summary":"<p>Drops a view from the database.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L306","def":{"name":"drop_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(TableBuilder::DropView.new(adapter, name.to_s))"}},{"id":"enum_exists?(name:String|Symbol)-instance-method","html_id":"enum_exists?(name:String|Symbol)-instance-method","name":"enum_exists?","doc":"Checks whether enum with given *name* exists.\n\nNOTE: PostreSQL only.","summary":"<p>Checks whether enum with given <em>name</em> exists.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L174","def":{"name":"enum_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"schema_processor.enum_exists?(name.to_s)"}},{"id":"exec(string:String)-instance-method","html_id":"exec(string:String)-instance-method","name":"exec","doc":"Executes given query.\n\n```\nexec <<-SQL\n  ALTER TABLE profiles\n    ADD CONSTRAINT type\n    CHECK (type IN('FacebookProfile', 'TwitterProfile'))\nSQL\n```","summary":"<p>Executes given query.</p>","abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":"String"}],"args_string":"(string : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L558","def":{"name":"exec","args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"process_builder(TableBuilder::Raw.new(adapter, string))"}},{"id":"foreign_key_exists?(from_table,to_table=nil,column=nil,name:String?=nil):Bool-instance-method","html_id":"foreign_key_exists?(from_table,to_table=nil,column=nil,name:String?=nil):Bool-instance-method","name":"foreign_key_exists?","doc":"Checks to see if a foreign key exists on a table for a given foreign key definition.\n\nDelegate to `Adapter::Base#foreign_key_exists?`.","summary":"<p>Checks to see if a foreign key exists on a table for a given foreign key definition.</p>","abstract":false,"args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"nil","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(from_table, to_table = <span class=\"n\">nil</span>, column = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L167","def":{"name":"foreign_key_exists?","args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"nil","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"adapter.foreign_key_exists?(from_table, to_table, column, name)"}},{"id":"index_exists?(*args,**opts)-instance-method","html_id":"index_exists?(*args,**opts)-instance-method","name":"index_exists?","doc":"Returns whether index for the *table` with *name* or *fields* exists.\n\nDelegate to `Adapter::Base#index_exists?`.","summary":"<p>Returns whether index for the *table` with <em>name</em> or <em>fields</em> exists.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L146","def":{"name":"index_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.index_exists?(*args, **opts)"}},{"id":"schema_processor(*args,**options,&block)-instance-method","html_id":"schema_processor(*args,**options,&amp;block)-instance-method","name":"schema_processor","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L134","def":{"name":"schema_processor","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.schema_processor(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"schema_processor(*args,**options)-instance-method","html_id":"schema_processor(*args,**options)-instance-method","name":"schema_processor","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L134","def":{"name":"schema_processor","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.schema_processor(*args, **options)"}},{"id":"table_exists?(table:String|Symbol)-instance-method","html_id":"table_exists?(table:String|Symbol)-instance-method","name":"table_exists?","doc":"Returns where table with given *table* name exists.\n\nDelegate to `Adapter::Base#table_exists?`.","summary":"<p>Returns where table with given <em>table</em> name exists.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"}],"args_string":"(table : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L139","def":{"name":"table_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.table_exists?(table)"}},{"id":"up-instance-method","html_id":"up-instance-method","name":"up","doc":"Includes all transformations required to implement migration.\n\nBy default it is executed under a transaction.","summary":"<p>Includes all transformations required to implement migration.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L181","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"view_exists?(name:String|Symbol):Bool-instance-method","html_id":"view_exists?(name:String|Symbol):Bool-instance-method","name":"view_exists?","doc":"Check whether view with given *name* exists.\n\nDelegate to `Adapter::Base#view_exists?`.","summary":"<p>Check whether view with given <em>name</em> exists.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L160","def":{"name":"view_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"adapter.view_exists?(name)"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/Base/AbstractClassMethods","path":"Jennifer/Migration/Base/AbstractClassMethods.html","kind":"module","full_name":"Jennifer::Migration::Base::AbstractClassMethods","name":"AbstractClassMethods","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/base.cr","line_number":115,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/Base","kind":"class","full_name":"Jennifer::Migration::Base","name":"Base"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"version-instance-method","html_id":"version-instance-method","name":"version","doc":"Returns migration version - timestamp part of a class file name.","summary":"<p>Returns migration version - timestamp part of a class file name.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/base.cr#L117","def":{"name":"version","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","path":"Jennifer/Migration/TableBuilder.html","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr"},{"filename":"jennifer/migration/table_builder/create_foreign_key.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr"},{"filename":"jennifer/migration/table_builder/drop_foreign_key.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_foreign_key.cr"},{"filename":"jennifer/migration/table_builder/change_table.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr"},{"filename":"jennifer/migration/table_builder/create_index.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr"},{"filename":"jennifer/migration/table_builder/create_table.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr"},{"filename":"jennifer/migration/table_builder/create_view.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_view.cr"},{"filename":"jennifer/migration/table_builder/drop_index.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_index.cr"},{"filename":"jennifer/migration/table_builder/drop_table.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_table.cr"},{"filename":"jennifer/migration/table_builder/drop_view.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_view.cr"},{"filename":"jennifer/migration/table_builder/raw.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/raw.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration","kind":"module","full_name":"Jennifer::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","path":"Jennifer/Migration/TableBuilder/Base.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"DEFAULT_ON_EVENT_ACTION","name":"DEFAULT_ON_EVENT_ACTION","value":":restrict","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/ChangeTable","kind":"class","full_name":"Jennifer::Migration::TableBuilder::ChangeTable","name":"ChangeTable"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateForeignKey","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateForeignKey","name":"CreateForeignKey"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateIndex","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateIndex","name":"CreateIndex"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateTable","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateTable","name":"CreateTable"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateView","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateView","name":"CreateView"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropForeignKey","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropForeignKey","name":"DropForeignKey"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropIndex","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropIndex","name":"DropIndex"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropTable","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropTable","name":"DropTable"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropView","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropView","name":"DropView"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Raw","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Raw","name":"Raw"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/DropEnum","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::DropEnum","name":"DropEnum"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/DropMaterializedView","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::DropMaterializedView","name":"DropMaterializedView"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,name:String|Symbol)-class-method","html_id":"new(adapter,name:String|Symbol)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(adapter, name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L20","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"adapter:Adapter::Base-instance-method","html_id":"adapter:Adapter::Base-instance-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Adapter::Base","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L20","def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Adapter::Base","visibility":"Public","body":"@adapter"}},{"id":"column_exists?(*args,**options)-instance-method","html_id":"column_exists?(*args,**options)-instance-method","name":"column_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L16","def":{"name":"column_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.column_exists?(*args, **options)"}},{"id":"column_exists?(*args,**options,&block)-instance-method","html_id":"column_exists?(*args,**options,&amp;block)-instance-method","name":"column_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L16","def":{"name":"column_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.column_exists?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L29","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"index_exists?(*args,**options)-instance-method","html_id":"index_exists?(*args,**options)-instance-method","name":"index_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L16","def":{"name":"index_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.index_exists?(*args, **options)"}},{"id":"index_exists?(*args,**options,&block)-instance-method","html_id":"index_exists?(*args,**options,&amp;block)-instance-method","name":"index_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L16","def":{"name":"index_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.index_exists?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L20","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@name"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L26","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"process_commands-instance-method","html_id":"process_commands-instance-method","name":"process_commands","doc":"Invokes underlying commands.","summary":"<p>Invokes underlying commands.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L32","def":{"name":"process_commands","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commands.each(&.process)"}},{"id":"schema_processor(*args,**options)-instance-method","html_id":"schema_processor(*args,**options)-instance-method","name":"schema_processor","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L16","def":{"name":"schema_processor","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.schema_processor(*args, **options)"}},{"id":"schema_processor(*args,**options,&block)-instance-method","html_id":"schema_processor(*args,**options,&amp;block)-instance-method","name":"schema_processor","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L16","def":{"name":"schema_processor","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.schema_processor(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"table_exists?(*args,**options)-instance-method","html_id":"table_exists?(*args,**options)-instance-method","name":"table_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L16","def":{"name":"table_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.table_exists?(*args, **options)"}},{"id":"table_exists?(*args,**options,&block)-instance-method","html_id":"table_exists?(*args,**options,&amp;block)-instance-method","name":"table_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr#L16","def":{"name":"table_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.table_exists?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/AAllowedTypes","path":"Jennifer/Migration/TableBuilder/Base/AAllowedTypes.html","kind":"alias","full_name":"Jennifer::Migration::TableBuilder::Base::AAllowedTypes","name":"AAllowedTypes","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":10,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Array(Bool | Float32 | Float64 | Int32 | Int64 | JSON::Any | String | Symbol | Nil) | Bool | Float32 | Float64 | Int32 | Int64 | JSON::Any | String | Symbol | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"doc":"Allowed types for migration DSL including array","summary":"<p>Allowed types for migration DSL including array</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/AllowedTypes","path":"Jennifer/Migration/TableBuilder/Base/AllowedTypes.html","kind":"alias","full_name":"Jennifer::Migration::TableBuilder::Base::AllowedTypes","name":"AllowedTypes","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Bool | Float32 | Float64 | Int32 | Int64 | JSON::Any | String | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"doc":"Base allowed types for migration DSL option values","summary":"<p>Base allowed types for migration DSL option values</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/DB_OPTIONS","path":"Jennifer/Migration/TableBuilder/Base/DB_OPTIONS.html","kind":"alias","full_name":"Jennifer::Migration::TableBuilder::Base::DB_OPTIONS","name":"DB_OPTIONS","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":12,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"Hash(Symbol, Array(Bool | Float32 | Float64 | Int32 | Int64 | JSON::Any | String | Symbol | Nil) | Bool | Float32 | Float64 | Int32 | Int64 | JSON::Any | String | Symbol | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"doc":"Hash type for options argument","summary":"<p>Hash type for options argument</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/EAllowedTypes","path":"Jennifer/Migration/TableBuilder/Base/EAllowedTypes.html","kind":"alias","full_name":"Jennifer::Migration::TableBuilder::Base::EAllowedTypes","name":"EAllowedTypes","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":8,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Bool | Float32 | Float64 | Int32 | Int64 | JSON::Any | String | Symbol | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"doc":"Allowed types for migration DSL + Symbol","summary":"<p>Allowed types for migration DSL + Symbol</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/ChangeTable","path":"Jennifer/Migration/TableBuilder/ChangeTable.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::ChangeTable","name":"ChangeTable","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/change_table.cr","line_number":16,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":"Component responsible for altering existing table based on specified columns and properties.\n\n```\nchange_table(:contacts) do |t|\n  t.rename_table :users\n  t.add_column :name, :string, {:size => 30}\n  t.drop_column :age\nend\n```","summary":"<p>Component responsible for altering existing table based on specified columns and properties.</p>","class_methods":[],"constructors":[{"id":"new(adapter,name)-class-method","html_id":"new(adapter,name)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(adapter, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L19","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"add_column(name:String|Symbol,type:Symbol?=nil,options:Hash(Symbol,AAllowedTypes)=DB_OPTIONS.new)-instance-method","html_id":"add_column(name:String|Symbol,type:Symbol?=nil,options:Hash(Symbol,AAllowedTypes)=DB_OPTIONS.new)-instance-method","name":"add_column","doc":"Defines new column *name* of *type* with given *options*.\n\nThe *type* argument should be one of the following supported data types: `integer`, `short`, `bigint`,\n`float`, `double`, `decimal`, `bool`, `string`, `char`, `text`, `varchar`, `timestamp`,\n`date_time`, `blob`, `json`; PostgreSQL specific: `oid`, `numeric`, `char`, `blchar`, `uuid`, `timestamptz`,\n`bytea`, `jsonb`, `xml`, `point`, `lseg`, `path`, `box`, `polygon`, `line`, `circle`; MySQL specific: `emum`,\n`tinyint`.\n\nYou may use any type not in this list as long as it is supported by your database by living *type* blank\nand passing `sql_type` option.\n\nAvailable options are (none of these exists by default):\n- `:array` - creates and array of given type;\n- `:serial` - makes column `SERIAL`;\n- `:sql_type` - allow to specify custom SQL data type;\n- `:size` - requests a maximum column length; e.g. this is a number of characters in `string` column and\nnumber of bytes for `text` or `integer`;\n- `:null` - allows or disallows `NULL` values;\n- `:primary` - adds primary key constraint to the column; ATM only one field may be a primary key;\n- `:default` - the column's default value;\n- `:auto_increment` - add autoincrement to the column.\n\n```\nadd_column :picture, :blob\n\nadd_column :status, :string, { :size => 20, :default => \"draft\", :null => false }\n\nadd_column :skills, :text, { :array => true }\n```","summary":"<p>Defines new column <em>name</em> of <em>type</em> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":"Hash(Symbol, AAllowedTypes)"}],"args_string":"(name : String | Symbol, type : Symbol? = <span class=\"n\">nil</span>, options : Hash(Symbol, AAllowedTypes) = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L90","def":{"name":"add_column","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":"Hash(Symbol, AAllowedTypes)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@new_columns[name.to_s] = build_column_options(type, options)\nself\n"}},{"id":"add_foreign_key(to_table:String|Symbol,column=nil,primary_key=nil,name=nil,*,on_update:Symbol=DEFAULT_ON_EVENT_ACTION,on_delete:Symbol=DEFAULT_ON_EVENT_ACTION)-instance-method","html_id":"add_foreign_key(to_table:String|Symbol,column=nil,primary_key=nil,name=nil,*,on_update:Symbol=DEFAULT_ON_EVENT_ACTION,on_delete:Symbol=DEFAULT_ON_EVENT_ACTION)-instance-method","name":"add_foreign_key","doc":"Creates a foreign key constraint to `to_table` table.\n\nFor more details see `Migration::Base#add_foreign_key`.","summary":"<p>Creates a foreign key constraint to <code>to_table</code> table.</p>","abstract":false,"args":[{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":"String | Symbol"},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"primary_key","doc":null,"default_value":"nil","external_name":"primary_key","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"on_update","doc":null,"default_value":"DEFAULT_ON_EVENT_ACTION","external_name":"on_update","restriction":"Symbol"},{"name":"on_delete","doc":null,"default_value":"DEFAULT_ON_EVENT_ACTION","external_name":"on_delete","restriction":"Symbol"}],"args_string":"(to_table : String | Symbol, column = <span class=\"n\">nil</span>, primary_key = <span class=\"n\">nil</span>, name = <span class=\"n\">nil</span>, *, on_update : Symbol = <span class=\"t\">DEFAULT_ON_EVENT_ACTION</span>, on_delete : Symbol = <span class=\"t\">DEFAULT_ON_EVENT_ACTION</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L133","def":{"name":"add_foreign_key","args":[{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":"String | Symbol"},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"primary_key","doc":null,"default_value":"nil","external_name":"primary_key","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"on_update","doc":null,"default_value":"DEFAULT_ON_EVENT_ACTION","external_name":"on_update","restriction":"Symbol"},{"name":"on_delete","doc":null,"default_value":"DEFAULT_ON_EVENT_ACTION","external_name":"on_delete","restriction":"Symbol"}],"double_splat":null,"splat_index":4,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commands << (CreateForeignKey.new(@adapter, @name, to_table.to_s, column, primary_key, name, on_update, on_delete))\nself\n"}},{"id":"add_index(fields:Array(Symbol),type:Symbol?=nil,name:String?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=>Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=>Symbol)-instance-method","html_id":"add_index(fields:Array(Symbol),type:Symbol?=nil,name:String?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=&gt;Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=&gt;Symbol)-instance-method","name":"add_index","doc":"Adds new index.\n\nFor more details see `Migration::Base#add_index`","summary":"<p>Adds new index.</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"args_string":"(fields : Array(Symbol), type : Symbol? = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>, lengths : Hash(Symbol, Int32) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Int32</span>, orders : Hash(Symbol, Symbol) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Symbol</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L104","def":{"name":"add_index","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commands << (CreateIndex.new(@adapter, @name, name, fields, type, lengths, orders))\nself\n"}},{"id":"add_index(field:Symbol,type:Symbol?=nil,name:String?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","html_id":"add_index(field:Symbol,type:Symbol?=nil,name:String?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","name":"add_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"args_string":"(field : Symbol, type : Symbol? = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>, length : Int32? = <span class=\"n\">nil</span>, order : Symbol? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L111","def":{"name":"add_index","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"add_index([field], type, name, orders: (order ? {field => order.not_nil!} : {} of Symbol => Symbol), lengths: (length ? {field => length.not_nil!} : {} of Symbol => Int32))"}},{"id":"change_column(name:String|Symbol,type:Symbol?=nil,options:Hash(Symbol,AAllowedTypes)=DB_OPTIONS.new)-instance-method","html_id":"change_column(name:String|Symbol,type:Symbol?=nil,options:Hash(Symbol,AAllowedTypes)=DB_OPTIONS.new)-instance-method","name":"change_column","doc":"Changes the column's definition according to the new options.\n\nSee `#add_column` for details of the options you can use.\n\nAdditional available options:\n\n* `:new_name` - specifies a new name for the column;\n* `:default` - `:none` value drops any default value specified before.\n\n```\nchange_column :description, { :new_name => \"information\" }\n\nchange_column :price, { :default => :none }\n```","summary":"<p>Changes the column's definition according to the new options.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":"Hash(Symbol, AAllowedTypes)"}],"args_string":"(name : String | Symbol, type : Symbol? = <span class=\"n\">nil</span>, options : Hash(Symbol, AAllowedTypes) = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L55","def":{"name":"change_column","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":"Hash(Symbol, AAllowedTypes)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@changed_columns[name.to_s] = build_column_options(type, options)\n__temp_50 = @changed_columns[name.to_s]\n__temp_50[:new_name]? || (__temp_50[:new_name] = name)\nself\n"}},{"id":"changed_columns:Hash(String,Hash(Symbol,Array(Bool|Float32|Float64|Int32|Int64|JSON::Any|String|Symbol|Nil)|Bool|Float32|Float64|Int32|Int64|JSON::Any|String|Symbol|Nil))-instance-method","html_id":"changed_columns:Hash(String,Hash(Symbol,Array(Bool|Float32|Float64|Int32|Int64|JSON::Any|String|Symbol|Nil)|Bool|Float32|Float64|Int32|Int64|JSON::Any|String|Symbol|Nil))-instance-method","name":"changed_columns","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Hash(Symbol, Array(Bool | Float32 | Float64 | Int32 | Int64 | JSON::Any | String | Symbol | Nil) | Bool | Float32 | Float64 | Int32 | Int64 | JSON::Any | String | Symbol | Nil))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L17","def":{"name":"changed_columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@changed_columns"}},{"id":"drop_column(name:String|Symbol)-instance-method","html_id":"drop_column(name:String|Symbol)-instance-method","name":"drop_column","doc":"Drops column with given *name*.","summary":"<p>Drops column with given <em>name</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L96","def":{"name":"drop_column","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@drop_columns << name.to_s\nself\n"}},{"id":"drop_columns:Array(String)-instance-method","html_id":"drop_columns:Array(String)-instance-method","name":"drop_columns","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L17","def":{"name":"drop_columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@drop_columns"}},{"id":"drop_foreign_key(to_table:String|Symbol,column=nil,name=nil)-instance-method","html_id":"drop_foreign_key(to_table:String|Symbol,column=nil,name=nil)-instance-method","name":"drop_foreign_key","doc":"Drops foreign key of *to_table*.\n\nFor more details see `Migration::Base#drop_foreign_key`.","summary":"<p>Drops foreign key of <em>to_table</em>.</p>","abstract":false,"args":[{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":"String | Symbol"},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""}],"args_string":"(to_table : String | Symbol, column = <span class=\"n\">nil</span>, name = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L151","def":{"name":"drop_foreign_key","args":[{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":"String | Symbol"},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commands << (DropForeignKey.new(@adapter, @name, to_table.to_s, column, name))\nself\n"}},{"id":"drop_index(fields:Array(Symbol)=[]ofSymbol,name:String?=nil)-instance-method","html_id":"drop_index(fields:Array(Symbol)=[]ofSymbol,name:String?=nil)-instance-method","name":"drop_index","doc":"Drops the index from the table.\n\nFor more details see `Migration::Base#drop_index`.","summary":"<p>Drops the index from the table.</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"[] of Symbol","external_name":"fields","restriction":"Array(Symbol)"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(fields : Array(Symbol) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Symbol</span>, name : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L125","def":{"name":"drop_index","args":[{"name":"fields","doc":null,"default_value":"[] of Symbol","external_name":"fields","restriction":"Array(Symbol)"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commands << (DropIndex.new(@adapter, @name, fields, name))\nself\n"}},{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L27","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"change_table :#{@name}\""}},{"id":"new_table_name:String-instance-method","html_id":"new_table_name:String-instance-method","name":"new_table_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L17","def":{"name":"new_table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@new_table_name"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L156","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@drop_columns.each do |c|\n  schema_processor.drop_column(@name, c)\nend\n@new_columns.each do |n, opts|\n  schema_processor.add_column(@name, n, opts)\nend\n@changed_columns.each do |n, opts|\n  schema_processor.change_column(@name, n, opts[:new_name].as(String | Symbol), opts)\nend\nprocess_commands\nif @new_table_name.empty?\nelse\n  schema_processor.rename_table(@name, @new_table_name)\nend\n"}},{"id":"rename_table(new_name:String|Symbol)-instance-method","html_id":"rename_table(new_name:String|Symbol)-instance-method","name":"rename_table","doc":"Renames table to the given *new_name*.\n\n```\nrename_table :users\n```","summary":"<p>Renames table to the given <em>new_name</em>.</p>","abstract":false,"args":[{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String | Symbol"}],"args_string":"(new_name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/change_table.cr#L36","def":{"name":"rename_table","args":[{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@new_table_name = new_name.to_s\nself\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateForeignKey","path":"Jennifer/Migration/TableBuilder/CreateForeignKey.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateForeignKey","name":"CreateForeignKey","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/create_foreign_key.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,from_table,to_table,column,primary_key,name,on_update,on_delete)-class-method","html_id":"new(adapter,from_table,to_table,column,primary_key,name,on_update,on_delete)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"on_update","doc":null,"default_value":"","external_name":"on_update","restriction":""},{"name":"on_delete","doc":null,"default_value":"","external_name":"on_delete","restriction":""}],"args_string":"(adapter, from_table, to_table, column, primary_key, name, on_update, on_delete)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr#L9","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"on_update","doc":null,"default_value":"","external_name":"on_update","restriction":""},{"name":"on_delete","doc":null,"default_value":"","external_name":"on_delete","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, from_table, to_table, column, primary_key, name, on_update, on_delete)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"column:String-instance-method","html_id":"column:String-instance-method","name":"column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr#L9","def":{"name":"column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@column"}},{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr#L19","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"add_foreign_key :#{@from_table}, :#{@to_table}, :#{@column}, :#{@primary_key}, \\\"#{@name}\\\"\""}},{"id":"from_table:String-instance-method","html_id":"from_table:String-instance-method","name":"from_table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr#L9","def":{"name":"from_table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@from_table"}},{"id":"on_delete:Symbol-instance-method","html_id":"on_delete:Symbol-instance-method","name":"on_delete","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbol","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr#L9","def":{"name":"on_delete","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol","visibility":"Public","body":"@on_delete"}},{"id":"on_update:Symbol-instance-method","html_id":"on_update:Symbol-instance-method","name":"on_update","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbol","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr#L9","def":{"name":"on_update","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol","visibility":"Public","body":"@on_update"}},{"id":"primary_key:String-instance-method","html_id":"primary_key:String-instance-method","name":"primary_key","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr#L9","def":{"name":"primary_key","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@primary_key"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr#L15","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"schema_processor.add_foreign_key(from_table, to_table, column, primary_key, name, on_update, on_delete)"}},{"id":"to_table:String-instance-method","html_id":"to_table:String-instance-method","name":"to_table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_foreign_key.cr#L9","def":{"name":"to_table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@to_table"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateIndex","path":"Jennifer/Migration/TableBuilder/CreateIndex.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateIndex","name":"CreateIndex","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/create_index.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,table_name:String,index_name,fields:Array,type:Symbol?,lengths,orders)-class-method","html_id":"new(adapter,table_name:String,index_name,fields:Array,type:Symbol?,lengths,orders)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":"String"},{"name":"index_name","doc":null,"default_value":"","external_name":"index_name","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"lengths","doc":null,"default_value":"","external_name":"lengths","restriction":""},{"name":"orders","doc":null,"default_value":"","external_name":"orders","restriction":""}],"args_string":"(adapter, table_name : String, index_name, fields : Array, type : Symbol?, lengths, orders)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr#L8","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":"String"},{"name":"index_name","doc":null,"default_value":"","external_name":"index_name","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"lengths","doc":null,"default_value":"","external_name":"lengths","restriction":""},{"name":"orders","doc":null,"default_value":"","external_name":"orders","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, table_name, index_name, fields, type, lengths, orders)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr#L17","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |io|\n  (((((((((((io << \"add_index :\") << name) << \", \") << fields.inspect) << \", \") << type.inspect) << \", \") << index_name.inspect) << \", \") << lengths.inspect) << \", \") << orders.inspect\nend"}},{"id":"fields:Array(Symbol)-instance-method","html_id":"fields:Array(Symbol)-instance-method","name":"fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr#L7","def":{"name":"fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Symbol)","visibility":"Public","body":"@fields"}},{"id":"index_name:String-instance-method","html_id":"index_name:String-instance-method","name":"index_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr#L7","def":{"name":"index_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@index_name"}},{"id":"lengths:Hash(Symbol,Int32)-instance-method","html_id":"lengths:Hash(Symbol,Int32)-instance-method","name":"lengths","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(Symbol, Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr#L8","def":{"name":"lengths","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(Symbol, Int32)","visibility":"Public","body":"@lengths"}},{"id":"orders:Hash(Symbol,Symbol)-instance-method","html_id":"orders:Hash(Symbol,Symbol)-instance-method","name":"orders","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(Symbol, Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr#L8","def":{"name":"orders","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(Symbol, Symbol)","visibility":"Public","body":"@orders"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr#L13","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"schema_processor.add_index(name, index_name, fields, type, orders, lengths)"}},{"id":"type:Symbol?-instance-method","html_id":"type:Symbol?-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbol?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_index.cr#L7","def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol | ::Nil","visibility":"Public","body":"@type"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateTable","path":"Jennifer/Migration/TableBuilder/CreateTable.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateTable","name":"CreateTable","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/create_table.cr","line_number":18,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":"Component responsible for creating a new table based on specified columns and properties.\n\n```\ncreate_table(:contacts) do |t|\n  t.string :name, {:size => 30}\n  t.integer :age\n  t.integer :tags, {:array => true}\n  t.decimal :ballance\n  t.field :gender, :gender_enum\n  t.timestamps true\nend\n```","summary":"<p>Component responsible for creating a new table based on specified columns and properties.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"bigint(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"bigint(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"bigint","doc":"Defines new column *name* of type `:bigint` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:bigint</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"bigint","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:bigint, options)\nself\n"}},{"id":"blchar(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"blchar(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"blchar","doc":"Defines new column *name* of type `:blchar` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:blchar</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"blchar","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:blchar, options)\nself\n"}},{"id":"blob(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"blob(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"blob","doc":"Defines new column *name* of type `:blob` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:blob</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"blob","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:blob, options)\nself\n"}},{"id":"bool(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"bool(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"bool","doc":"Defines new column *name* of type `:bool` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:bool</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"bool","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:bool, options)\nself\n"}},{"id":"box(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"box(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"box","doc":"Defines new column *name* of type `:box` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:box</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"box","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:box, options)\nself\n"}},{"id":"bytea(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"bytea(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"bytea","doc":"Defines new column *name* of type `:bytea` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:bytea</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"bytea","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:bytea, options)\nself\n"}},{"id":"char(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"char(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"char","doc":"Defines new column *name* of type `:char` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:char</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"char","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:char, options)\nself\n"}},{"id":"circle(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"circle(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"circle","doc":"Defines new column *name* of type `:circle` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:circle</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"circle","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:circle, options)\nself\n"}},{"id":"column(name,type,options=DB_OPTIONS.new)-instance-method","html_id":"column(name,type,options=DB_OPTIONS.new)-instance-method","name":"column","doc":"Alias for `#field`.","summary":"<p>Alias for <code><a href=\"../../../Jennifer/Migration/TableBuilder/CreateTable.html#field(name:String%7CSymbol,type:Symbol%7CString,options:Hash(Symbol,AAllowedTypes)=DB_OPTIONS.new)-instance-method\">#field</a></code>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, type, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L71","def":{"name":"column","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"field(name, type, options)"}},{"id":"date(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"date(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"date","doc":"Defines new column *name* of type `:date` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:date</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"date","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:date, options)\nself\n"}},{"id":"date_time(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"date_time(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"date_time","doc":"Defines new column *name* of type `:date_time` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:date_time</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"date_time","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:date_time, options)\nself\n"}},{"id":"decimal(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"decimal(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"decimal","doc":"Defines new column *name* of type `:decimal` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:decimal</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"decimal","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:decimal, options)\nself\n"}},{"id":"double(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"double(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"double","doc":"Defines new column *name* of type `:double` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:double</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"double","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:double, options)\nself\n"}},{"id":"enum(name:String|Symbol,values:Array(String),options:Hash(Symbol,AAllowedTypes)=DB_OPTIONS.new)-instance-method","html_id":"enum(name:String|Symbol,values:Array(String),options:Hash(Symbol,AAllowedTypes)=DB_OPTIONS.new)-instance-method","name":"enum","doc":"Defines new enum column *name* with given *options*.\n\n*values* argument specified allowed enum values.\n\nFor more details see `ChangeTable#add_column`","summary":"<p>Defines new enum column <em>name</em> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(String)"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":"Hash(Symbol, AAllowedTypes)"}],"args_string":"(name : String | Symbol, values : Array(String), options : Hash(Symbol, AAllowedTypes) = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L45","def":{"name":"enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(String)"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":"Hash(Symbol, AAllowedTypes)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"options = (Ifrit.sym_hash_cast(options, AAllowedTypes)).merge!({:values => Ifrit.typed_array_cast(values, EAllowedTypes)})\n@fields[name.to_s] = build_column_options(:enum, options)\nself\n"}},{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L26","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"create_table :#{@name}\""}},{"id":"field(name:String|Symbol,type:Symbol|String,options:Hash(Symbol,AAllowedTypes)=DB_OPTIONS.new)-instance-method","html_id":"field(name:String|Symbol,type:Symbol|String,options:Hash(Symbol,AAllowedTypes)=DB_OPTIONS.new)-instance-method","name":"field","doc":"Defines field *name* of type *type* with with given *options*.\n\nFor more details see `ChangeTable#add_column`. The only difference is that *type* argument\nis treated as SQL datatype - it works same way as specifying `:sql_type` parameter.\n\n```\ncreate_enum :gender_enum, %w(unspecified female male)\n\ncreate_table :users do |t|\n  t.field :gender, :gender_enum\nend\n```\n\nMigration above will create PostreSQL enum and a table with column of that type.","summary":"<p>Defines field <em>name</em> of type <em>type</em> with with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol | String"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":"Hash(Symbol, AAllowedTypes)"}],"args_string":"(name : String | Symbol, type : Symbol | String, options : Hash(Symbol, AAllowedTypes) = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L65","def":{"name":"field","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol | String"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":"Hash(Symbol, AAllowedTypes)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = ({:sql_type => type} of Symbol => AAllowedTypes).merge(options)\nself\n"}},{"id":"fields:Hash(String,Hash(Symbol,Array(Bool|Float32|Float64|Int32|Int64|JSON::Any|String|Symbol|Nil)|Bool|Float32|Float64|Int32|Int64|JSON::Any|String|Symbol|Nil))-instance-method","html_id":"fields:Hash(String,Hash(Symbol,Array(Bool|Float32|Float64|Int32|Int64|JSON::Any|String|Symbol|Nil)|Bool|Float32|Float64|Int32|Int64|JSON::Any|String|Symbol|Nil))-instance-method","name":"fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Hash(Symbol, Array(Bool | Float32 | Float64 | Int32 | Int64 | JSON::Any | String | Symbol | Nil) | Bool | Float32 | Float64 | Int32 | Int64 | JSON::Any | String | Symbol | Nil))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L21","def":{"name":"fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields"}},{"id":"float(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"float(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"float","doc":"Defines new column *name* of type `:float` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:float</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"float","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:float, options)\nself\n"}},{"id":"foreign_key(to_table:String|Symbol,column=nil,primary_key=nil,name=nil,*,on_update:Symbol=DEFAULT_ON_EVENT_ACTION,on_delete:Symbol=DEFAULT_ON_EVENT_ACTION)-instance-method","html_id":"foreign_key(to_table:String|Symbol,column=nil,primary_key=nil,name=nil,*,on_update:Symbol=DEFAULT_ON_EVENT_ACTION,on_delete:Symbol=DEFAULT_ON_EVENT_ACTION)-instance-method","name":"foreign_key","doc":"Creates a foreign key constraint to `to_table` table.\n\nFor more details see `Migration::Base#add_foreign_key`.","summary":"<p>Creates a foreign key constraint to <code>to_table</code> table.</p>","abstract":false,"args":[{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":"String | Symbol"},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"primary_key","doc":null,"default_value":"nil","external_name":"primary_key","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"on_update","doc":null,"default_value":"DEFAULT_ON_EVENT_ACTION","external_name":"on_update","restriction":"Symbol"},{"name":"on_delete","doc":null,"default_value":"DEFAULT_ON_EVENT_ACTION","external_name":"on_delete","restriction":"Symbol"}],"args_string":"(to_table : String | Symbol, column = <span class=\"n\">nil</span>, primary_key = <span class=\"n\">nil</span>, name = <span class=\"n\">nil</span>, *, on_update : Symbol = <span class=\"t\">DEFAULT_ON_EVENT_ACTION</span>, on_delete : Symbol = <span class=\"t\">DEFAULT_ON_EVENT_ACTION</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L158","def":{"name":"foreign_key","args":[{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":"String | Symbol"},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"primary_key","doc":null,"default_value":"nil","external_name":"primary_key","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"on_update","doc":null,"default_value":"DEFAULT_ON_EVENT_ACTION","external_name":"on_update","restriction":"Symbol"},{"name":"on_delete","doc":null,"default_value":"DEFAULT_ON_EVENT_ACTION","external_name":"on_delete","restriction":"Symbol"}],"double_splat":null,"splat_index":4,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commands << (CreateForeignKey.new(@adapter, @name, to_table.to_s, column, primary_key, name, on_update, on_delete))\nself\n"}},{"id":"index(field:Symbol,type:Symbol?=nil,name:String?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","html_id":"index(field:Symbol,type:Symbol?=nil,name:String?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","name":"index","doc":"Adds index.\n\nFor more details see `Migration::Base#add_index`.","summary":"<p>Adds index.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"args_string":"(field : Symbol, type : Symbol? = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>, length : Int32? = <span class=\"n\">nil</span>, order : Symbol? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L149","def":{"name":"index","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"orders = order ? {field => order.not_nil!} : {} of Symbol => Symbol\nlengths = length ? {field => length.not_nil!} : {} of Symbol => Int32\nindex([field], type, name, lengths, orders)\n"}},{"id":"index(fields:Array(Symbol),type:Symbol?=nil,name:String?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=>Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=>Symbol)-instance-method","html_id":"index(fields:Array(Symbol),type:Symbol?=nil,name:String?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=&gt;Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=&gt;Symbol)-instance-method","name":"index","doc":"Adds index.\n\nFor more details see `Migration::Base#add_index`.","summary":"<p>Adds index.</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"args_string":"(fields : Array(Symbol), type : Symbol? = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>, lengths : Hash(Symbol, Int32) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Int32</span>, orders : Hash(Symbol, Symbol) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Symbol</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L139","def":{"name":"index","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@commands << (CreateIndex.new(@adapter, @name, name, fields, type, lengths, orders))\nself\n"}},{"id":"index(name:String,field:Symbol,type:Symbol?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","html_id":"index(name:String,field:Symbol,type:Symbol?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","name":"index","doc":"Adds index.\n\nThis is deprecated signature - please use one with the filed name at the beginning and optional index name.\n\nFor more details see `Migration::Base#add_index`.","summary":"<p>Adds index.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"args_string":"(name : String, field : Symbol, type : Symbol? = <span class=\"n\">nil</span>, length : Int32? = <span class=\"n\">nil</span>, order : Symbol? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L132","def":{"name":"index","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"index(field, type, name, length, order)"}},{"id":"index(name:String,fields:Array(Symbol),type:Symbol?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=>Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=>Symbol)-instance-method","html_id":"index(name:String,fields:Array(Symbol),type:Symbol?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=&gt;Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=&gt;Symbol)-instance-method","name":"index","doc":"Adds index.\n\nThis is deprecated signature - please use one with the filed name at the beginning and optional index name.\n\nFor more details see `Migration::Base#add_index`.","summary":"<p>Adds index.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"args_string":"(name : String, fields : Array(Symbol), type : Symbol? = <span class=\"n\">nil</span>, lengths : Hash(Symbol, Int32) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Int32</span>, orders : Hash(Symbol, Symbol) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Symbol</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L125","def":{"name":"index","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"index(fields, type, name, lengths, orders)"}},{"id":"integer(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"integer(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"integer","doc":"Defines new column *name* of type `:integer` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:integer</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"integer","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:integer, options)\nself\n"}},{"id":"json(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"json(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"json","doc":"Defines new column *name* of type `:json` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:json</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"json","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:json, options)\nself\n"}},{"id":"jsonb(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"jsonb(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"jsonb","doc":"Defines new column *name* of type `:jsonb` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:jsonb</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"jsonb","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:jsonb, options)\nself\n"}},{"id":"line(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"line(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"line","doc":"Defines new column *name* of type `:line` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:line</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"line","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:line, options)\nself\n"}},{"id":"lseg(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"lseg(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"lseg","doc":"Defines new column *name* of type `:lseg` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:lseg</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"lseg","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:lseg, options)\nself\n"}},{"id":"numeric(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"numeric(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"numeric","doc":"Defines new column *name* of type `:numeric` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:numeric</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"numeric","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:numeric, options)\nself\n"}},{"id":"oid(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"oid(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"oid","doc":"Defines new column *name* of type `:oid` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:oid</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"oid","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:oid, options)\nself\n"}},{"id":"path(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"path(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"path","doc":"Defines new column *name* of type `:path` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:path</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"path","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:path, options)\nself\n"}},{"id":"point(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"point(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"point","doc":"Defines new column *name* of type `:point` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:point</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"point","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:point, options)\nself\n"}},{"id":"polygon(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"polygon(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"polygon","doc":"Defines new column *name* of type `:polygon` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:polygon</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"polygon","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:polygon, options)\nself\n"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L21","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"schema_processor.create_table(self)\nprocess_commands\n"}},{"id":"reference(name,type:Symbol=:integer,options:Hash(Symbol,AAllowedTypes)=DB_OPTIONS.new)-instance-method","html_id":"reference(name,type:Symbol=:integer,options:Hash(Symbol,AAllowedTypes)=DB_OPTIONS.new)-instance-method","name":"reference","doc":"Adds a reference.\n\nThe reference column is an `integer` by default, the *type` argument can be used to specify a different type.\n\nIf *polymorphic* option is `true` - additional string field `\"#{name}_type\"` is created and foreign key is\nnot added.\n\n`:to_table`, `:column`, `:primary_key` and `:key_name` options are used to create a foreign key constraint.\nSee `Migration::Base#add_foreign_key` for details.\n\n```\nreference :user\n\nreference :order, :bigint\n\nreference :taggable, { :polymorphic => true }\n```","summary":"<p>Adds a reference.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":":integer","external_name":"type","restriction":"Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":"Hash(Symbol, AAllowedTypes)"}],"args_string":"(name, type : Symbol = <span class=\"n\">:integer</span>, options : Hash(Symbol, AAllowedTypes) = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L92","def":{"name":"reference","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":":integer","external_name":"type","restriction":"Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":"Hash(Symbol, AAllowedTypes)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"column = Inflector.foreign_key(name)\nis_null = options.has_key?(:null) ? options[:null] : true\ninteger(column, {:type => type, :null => is_null})\nif options[:polymorphic]?\n  string(\"#{name}_type\", {:null => is_null})\nelse\n  foreign_key((options[:to_table]? || (Inflector.pluralize(name))).as(String | Symbol), options[:column]?.as(String | Symbol | ::Nil), options[:primary_key]?.as(String | Symbol | ::Nil), options[:key_name]?.as(String | ::Nil), on_update: (options[:on_update]?.as(Symbol | ::Nil)) || DEFAULT_ON_EVENT_ACTION, on_delete: (options[:on_delete]?.as(Symbol | ::Nil)) || DEFAULT_ON_EVENT_ACTION)\nend\nself\n"}},{"id":"short(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"short(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"short","doc":"Defines new column *name* of type `:short` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:short</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"short","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:short, options)\nself\n"}},{"id":"string(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"string(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"string","doc":"Defines new column *name* of type `:string` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:string</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"string","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:string, options)\nself\n"}},{"id":"text(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"text(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"text","doc":"Defines new column *name* of type `:text` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:text</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"text","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:text, options)\nself\n"}},{"id":"timestamp(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"timestamp(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"timestamp","doc":"Defines new column *name* of type `:timestamp` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:timestamp</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"timestamp","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:timestamp, options)\nself\n"}},{"id":"timestamps(null=false)-instance-method","html_id":"timestamps(null=false)-instance-method","name":"timestamps","doc":"Defines `created_at` and `updated_at` timestamp fields.\n\nArgument *null* sets `:null` option for both fields.","summary":"<p>Defines <code>created_at</code> and <code>updated_at</code> timestamp fields.</p>","abstract":false,"args":[{"name":"null","doc":null,"default_value":"false","external_name":"null","restriction":""}],"args_string":"(null = <span class=\"n\">false</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L115","def":{"name":"timestamps","args":[{"name":"null","doc":null,"default_value":"false","external_name":"null","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"timestamp(:created_at, {:null => null})\ntimestamp(:updated_at, {:null => null})\n"}},{"id":"timestamptz(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"timestamptz(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"timestamptz","doc":"Defines new column *name* of type `:timestamptz` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:timestamptz</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"timestamptz","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:timestamptz, options)\nself\n"}},{"id":"tinyint(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"tinyint(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"tinyint","doc":"Defines new column *name* of type `:tinyint` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:tinyint</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"tinyint","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:tinyint, options)\nself\n"}},{"id":"uuid(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"uuid(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"uuid","doc":"Defines new column *name* of type `:uuid` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:uuid</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"uuid","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:uuid, options)\nself\n"}},{"id":"varchar(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"varchar(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"varchar","doc":"Defines new column *name* of type `:varchar` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:varchar</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"varchar","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:varchar, options)\nself\n"}},{"id":"xml(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"xml(name:String|Symbol,options=DB_OPTIONS.new)-instance-method","name":"xml","doc":"Defines new column *name* of type `:xml` with given *options*.\n\nFor more details see `ChangeTable#add_column`.","summary":"<p>Defines new column <em>name</em> of type <code>:xml</code> with given <em>options</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_table.cr#L30","def":{"name":"xml","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = build_column_options(:xml, options)\nself\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateView","path":"Jennifer/Migration/TableBuilder/CreateView.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateView","name":"CreateView","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/create_view.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,name,query)-class-method","html_id":"new(adapter,name,query)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(adapter, name, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_view.cr#L7","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, name, query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_view.cr#L15","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"create_view :#{@name}, \\\"#{@query.as_sql}\\\"\""}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/create_view.cr#L11","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"schema_processor.create_view(@name, @query)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropForeignKey","path":"Jennifer/Migration/TableBuilder/DropForeignKey.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropForeignKey","name":"DropForeignKey","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/drop_foreign_key.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_foreign_key.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,from_table,to_table,column,name)-class-method","html_id":"new(adapter,from_table,to_table,column,name)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(adapter, from_table, to_table, column, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_foreign_key.cr#L7","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, from_table, to_table, column, name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"column:String-instance-method","html_id":"column:String-instance-method","name":"column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_foreign_key.cr#L7","def":{"name":"column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@column"}},{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_foreign_key.cr#L16","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"drop_foreign_key :#{@from_table}, :#{@to_table}, :#{@column}, \\\"#{@name}\\\"\""}},{"id":"from_table:String-instance-method","html_id":"from_table:String-instance-method","name":"from_table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_foreign_key.cr#L7","def":{"name":"from_table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@from_table"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_foreign_key.cr#L12","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"schema_processor.drop_foreign_key(from_table, name)"}},{"id":"to_table:String-instance-method","html_id":"to_table:String-instance-method","name":"to_table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_foreign_key.cr#L7","def":{"name":"to_table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@to_table"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropIndex","path":"Jennifer/Migration/TableBuilder/DropIndex.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropIndex","name":"DropIndex","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/drop_index.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_index.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,name,fields,index_name:String?)-class-method","html_id":"new(adapter,name,fields,index_name:String?)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},{"name":"index_name","doc":null,"default_value":"","external_name":"index_name","restriction":"String | ::Nil"}],"args_string":"(adapter, name, fields, index_name : String?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_index.cr#L10","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},{"name":"index_name","doc":null,"default_value":"","external_name":"index_name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, name, fields, index_name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_index.cr#L21","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"fields = [@name, @fields, @name].map(&.inspect).join(\", \")\n\"drop_index #{fields}\"\n"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_index.cr#L17","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"schema_processor.drop_index(@name, @index_name)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropTable","path":"Jennifer/Migration/TableBuilder/DropTable.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropTable","name":"DropTable","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/drop_table.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_table.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_table.cr#L9","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"drop_table :#{@name}\""}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_table.cr#L5","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"schema_processor.drop_table(self)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropView","path":"Jennifer/Migration/TableBuilder/DropView.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropView","name":"DropView","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/drop_view.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_view.cr#L9","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"drop_view :#{@name}\""}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/drop_view.cr#L5","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"schema_processor.drop_view(@name)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Raw","path":"Jennifer/Migration/TableBuilder/Raw.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Raw","name":"Raw","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/raw.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/raw.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,query:String)-class-method","html_id":"new(adapter,query:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"}],"args_string":"(adapter, query : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/raw.cr#L7","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/raw.cr#L16","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"exec \\\"#{@raw_sql}\\\"\""}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/raw.cr#L12","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(@raw_sql)"}},{"id":"raw_sql:String-instance-method","html_id":"raw_sql:String-instance-method","name":"raw_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/migration/table_builder/raw.cr#L5","def":{"name":"raw_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@raw_sql"}}],"macros":[],"types":[]}]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","path":"Jennifer/Model.html","kind":"module","full_name":"Jennifer::Model","name":"Model","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/errors.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr"},{"filename":"jennifer/model/scoping.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/scoping.cr"},{"filename":"jennifer/model/translation.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr"},{"filename":"jennifer/model/relation_definition.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/relation_definition.cr"},{"filename":"jennifer/model/resource.cr","line_number":7,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr"},{"filename":"jennifer/model/field_declaration.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/field_declaration.cr"},{"filename":"jennifer/model/common_mapping.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/common_mapping.cr"},{"filename":"jennifer/model/mapping.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/mapping.cr"},{"filename":"jennifer/model/sti_mapping.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/sti_mapping.cr"},{"filename":"jennifer/model/validation.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/validation.cr"},{"filename":"jennifer/model/callback.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr"},{"filename":"jennifer/model/converters.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/converters.cr"},{"filename":"jennifer/model/base.cr","line_number":13,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr"},{"filename":"jennifer/adapter/postgres/converters.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/converters.cr"},{"filename":"jennifer/model/authentication.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/authentication.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Authentication","path":"Jennifer/Model/Authentication.html","kind":"module","full_name":"Jennifer::Model::Authentication","name":"Authentication","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/authentication.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/authentication.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"Password","name":"Password","value":"{type: ::Union(String, ::Nil), virtual: true, setter: false}","doc":"Password virtual attribute type definition.","summary":"<p>Password virtual attribute type definition.</p>"},{"id":"PASSWORD_RANGE","name":"PASSWORD_RANGE","value":"Crypto::Bcrypt::PASSWORD_RANGE.min...Crypto::Bcrypt::PASSWORD_RANGE.max","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"with_authentication(password=&quot;password&quot;,password_hash=&quot;password_digest&quot;,skip_validation=false)-macro","html_id":"with_authentication(password=&amp;quot;password&amp;quot;,password_hash=&amp;quot;password_digest&amp;quot;,skip_validation=false)-macro","name":"with_authentication","doc":"Adds methods to set and authenticate against a Crypto::Bcrypt password.\n- `password` - password field name (default is `\"password\"`);\n- `password_hash` - password digest attribute name (default is `\"password_digest\"`);\n- `skip_validation` - whether validations shouldn't be generated (default is `false`).","summary":"<p>Adds methods to set and authenticate against a Crypto::Bcrypt password.</p>","abstract":false,"args":[{"name":"password","doc":null,"default_value":"\"password\"","external_name":"password","restriction":""},{"name":"password_hash","doc":null,"default_value":"\"password_digest\"","external_name":"password_hash","restriction":""},{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":""}],"args_string":"(password = <span class=\"s\">&quot;password&quot;</span>, password_hash = <span class=\"s\">&quot;password_digest&quot;</span>, skip_validation = <span class=\"n\">false</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/authentication.cr#L21","def":{"name":"with_authentication","args":[{"name":"password","doc":null,"default_value":"\"password\"","external_name":"password","restriction":""},{"name":"password_hash","doc":null,"default_value":"\"password_digest\"","external_name":"password_hash","restriction":""},{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% if !skip_validation %}\n          validates_length :{{ password.id }}, in: PASSWORD_RANGE, allow_blank: true\n          validates_confirmation :{{ password.id }}\n          validates_with_method :validate_{{ password.id }}_presence\n        {% end %}\n\n\n        def authenticate(given_password)\n          self if Crypto::Bcrypt::Password.new(\n{{ password_hash.id }}\n).verify given_password\n        \nend\n\n        def \n{{ password.id }}\n=(unencrypted_password : String)\n          @\n{{ password.id }}\n = unencrypted_password\n          if unencrypted_password.empty? || !PASSWORD_RANGE.includes?(unencrypted_password.size)\n            self.\n{{ password.id }}\n = nil\n          \nelse\n            self.\n{{ password_hash.id }}\n = Crypto::Bcrypt::Password.create(\n              unencrypted_password,\n              cost: self.class.\n{{ password_hash.id }}\n_cost\n            ).to_s\n          \nend\n        \nend\n\n        def \n{{ password.id }}\n=(unencrypted_password : Nil)\n          self.\n{{ password_hash.id }}\n = \"\"\n        \nend\n\n        def self.\n{{ password_hash.id }}\n_cost\n          Crypto::Bcrypt::DEFAULT_COST\n        \nend\n\n        private def validate_\n{{ password.id }}\n_presence\n          \nerrors.add(:\n{{ password.id }}\n, :blank) if \n{{ password_hash.id }}\n.blank?\n        \nend\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","path":"Jennifer/Model/Base.html","kind":"class","full_name":"Jennifer::Model::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource","kind":"class","full_name":"Jennifer::Model::Resource","name":"Resource"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Callback","kind":"module","full_name":"Jennifer::Model::Callback","name":"Callback"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Validation","kind":"module","full_name":"Jennifer::Model::Validation","name":"Validation"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Macros","kind":"module","full_name":"Jennifer::Validations::Macros","name":"Macros"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/STIMapping","kind":"module","full_name":"Jennifer::Model::STIMapping","name":"STIMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping","kind":"module","full_name":"Jennifer::Model::Mapping","name":"Mapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/CommonMapping","kind":"module","full_name":"Jennifer::Model::CommonMapping","name":"CommonMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/FieldDeclaration","kind":"module","full_name":"Jennifer::Model::FieldDeclaration","name":"FieldDeclaration"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource","kind":"class","full_name":"Jennifer::Model::Resource","name":"Resource"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Macros","kind":"module","full_name":"Jennifer::Macros","name":"Macros"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationDefinition","kind":"module","full_name":"Jennifer::Model::RelationDefinition","name":"RelationDefinition"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Translation","kind":"module","full_name":"Jennifer::Model::Translation","name":"Translation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/model/base.cr","line_number":14,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Callback","kind":"module","full_name":"Jennifer::Model::Callback","name":"Callback"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping","kind":"module","full_name":"Jennifer::Model::Mapping","name":"Mapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/STIMapping","kind":"module","full_name":"Jennifer::Model::STIMapping","name":"STIMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Validation","kind":"module","full_name":"Jennifer::Model::Validation","name":"Validation"}],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base/AbstractClassMethods","kind":"module","full_name":"Jennifer::Model::Base::AbstractClassMethods","name":"AbstractClassMethods"}],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[{"id":"actual_table_field_count-class-method","html_id":"actual_table_field_count-class-method","name":"actual_table_field_count","doc":"Returns actual model table column amount (is grepped from db).\n\nIf somewhy you define model with custom table name after the place where adapter is used the first time -\nmanually invoke this method anywhere after table name definition.","summary":"<p>Returns actual model table column amount (is grepped from db).</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L66","def":{"name":"actual_table_field_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@actual_table_field_count || (@@actual_table_field_count = adapter.table_column_count(table_name))"}},{"id":"build(values:Hash|NamedTuple,new_record:Bool)-class-method","html_id":"build(values:Hash|NamedTuple,new_record:Bool)-class-method","name":"build","doc":"Initializes new object based on given arguments.\n\n`after_initialize` callbacks are invoked. If model mapping allows creating an object\nwithout passing any argument - relevant `#build` method will be generated for such model.","summary":"<p>Initializes new object based on given arguments.</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":"Bool"}],"args_string":"(values : Hash | NamedTuple, new_record : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L96","def":{"name":"build","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new(values, new_record)"}},{"id":"build(pull:DB::ResultSet)-class-method","html_id":"build(pull:DB::ResultSet)-class-method","name":"build","doc":"Alias for `.new`.","summary":"<p>Alias for <code>.new</code>.</p>","abstract":false,"args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"DB::ResultSet"}],"args_string":"(pull : DB::ResultSet)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L217","def":{"name":"build","args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"DB::ResultSet"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new(pull)"}},{"id":"create(values:Hash|NamedTuple)-class-method","html_id":"create(values:Hash|NamedTuple)-class-method","name":"create","doc":"Creates an object based on given `values` and saves it to the database, if validation pass.\n\nThe resulting object is return whether it was saved to the database or not.\n\n```\nContact.create({ :name => \"Jennifer\" })\nContact.create({ name: \"Jennifer\" })\n```","summary":"<p>Creates an object based on given <code>values</code> and saves it to the database, if validation pass.</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"args_string":"(values : Hash | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L124","def":{"name":"create","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = build(values)\no.save\no\n"}},{"id":"create(**values)-class-method","html_id":"create(**values)-class-method","name":"create","doc":"Creates an object based on `values` and saves it to the database, if validation pass.\n\nThe resulting object is return whether it was saved to the database or not.\n\n```\nContact.create(name: \"Jennifer\")\n```","summary":"<p>Creates an object based on <code>values</code> and saves it to the database, if validation pass.</p>","abstract":false,"args":[],"args_string":"(**values)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L150","def":{"name":"create","args":[],"double_splat":{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = build(**values)\no.save\no\n"}},{"id":"create!(**values)-class-method","html_id":"create!(**values)-class-method","name":"create!","doc":"Creates an object based on `values` and saves it to the database, if validation pass.\n\nRaises an `RecordInvalid` error if validation fail, unlike `.create`.\n\n```\nContact.create!(name: \"Jennifer\")\n```","summary":"<p>Creates an object based on <code>values</code> and saves it to the database, if validation pass.</p>","abstract":false,"args":[],"args_string":"(**values)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L190","def":{"name":"create!","args":[],"double_splat":{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = build(**values)\no.save!\no\n"}},{"id":"create!(values:Hash|NamedTuple)-class-method","html_id":"create!(values:Hash|NamedTuple)-class-method","name":"create!","doc":"Creates an object based on `values` and saves it to the database, if validation pass.\n\nRaises an `RecordInvalid` error if validation fail, unlike `.create`.\n\n```\nContact.create!({ :name => \"Jennifer\" })\nContact.create!({ name: \"Jennifer\" })\n```","summary":"<p>Creates an object based on <code>values</code> and saves it to the database, if validation pass.</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"args_string":"(values : Hash | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L164","def":{"name":"create!","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = build(values)\no.save!\no\n"}},{"id":"delete(*ids)-class-method","html_id":"delete(*ids)-class-method","name":"delete","doc":"Deletes records by given ids.","summary":"<p>Deletes records by given ids.</p>","abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":""}],"args_string":"(*ids)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L527","def":{"name":"delete","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"delete(ids.to_a)"}},{"id":"delete(ids:Array)-class-method","html_id":"delete(ids:Array)-class-method","name":"delete","doc":"Deletes records by given ids.","summary":"<p>Deletes records by given ids.</p>","abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"args_string":"(ids : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L532","def":{"name":"delete","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ids = ids\nall.where do\n  if _ids.size == 1\n    (c(primary_field_name)) == _ids[0]\n  else\n    (c(primary_field_name)).in(_ids)\n  end\nend.delete\n"}},{"id":"destroy(*ids)-class-method","html_id":"destroy(*ids)-class-method","name":"destroy","doc":"Destroys records by given ids.\n\nAll `destroy` callbacks will be invoked for each record. All records are loaded in batches.\n\n```\nContact.destroy(1, 2, 3)\nContact.destroy([1, 2, 3])\n```","summary":"<p>Destroys records by given ids.</p>","abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":""}],"args_string":"(*ids)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L510","def":{"name":"destroy","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"destroy(ids.to_a)"}},{"id":"destroy(ids:Array)-class-method","html_id":"destroy(ids:Array)-class-method","name":"destroy","doc":"Destroys records by given ids.\n\nAll `destroy` callbacks will be invoked for each record. All records are loaded in batches.\n\n```\nContact.destroy(1, 2, 3)\nContact.destroy([1, 2, 3])\n```","summary":"<p>Destroys records by given ids.</p>","abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"args_string":"(ids : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L515","def":{"name":"destroy","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ids = ids\nall.where do\n  if _ids.size == 1\n    (c(primary_field_name)) == _ids[0]\n  else\n    (c(primary_field_name)).in(_ids)\n  end\nend.destroy\n"}},{"id":"find(id)-class-method","html_id":"find(id)-class-method","name":"find","doc":"Returns record by given primary field or `nil` otherwise.\n\n```\nContact.find(-1) # => nil\n```","summary":"<p>Returns record by given primary field or <code>nil</code> otherwise.</p>","abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L485","def":{"name":"find","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_id = id\nthis = self\nall.where do\n  this.primary == _id\nend.first\n"}},{"id":"find!(id)-class-method","html_id":"find!(id)-class-method","name":"find!","doc":"Returns record by given primary field or raises `Jennifer::RecordNotFound` exception otherwise.\n\n```\nContact.find!(-1) # Jennifer::RecordNotFound\n```","summary":"<p>Returns record by given primary field or raises <code><a href=\"../../Jennifer/RecordNotFound.html\">Jennifer::RecordNotFound</a></code> exception otherwise.</p>","abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L496","def":{"name":"find!","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_id = id\nthis = self\nall.where do\n  this.primary == _id\nend.first!\n"}},{"id":"foreign_key_name(value:String|Symbol)-class-method","html_id":"foreign_key_name(value:String|Symbol)-class-method","name":"foreign_key_name","doc":"Sets custom model foreign key name.\n\n```\nclass User < Jennifer::Model::Base\n  foreign_key_name :client_id\nend\n```","summary":"<p>Sets custom model foreign key name.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String | Symbol"}],"args_string":"(value : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L82","def":{"name":"foreign_key_name","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@foreign_key_name = value.to_s\n@@foreign_key_name = nil\n"}},{"id":"foreign_key_name-class-method","html_id":"foreign_key_name-class-method","name":"foreign_key_name","doc":"Returns model foreign key name.","summary":"<p>Returns model foreign key name.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L88","def":{"name":"foreign_key_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@foreign_key_name || (@@foreign_key_name = (Inflector.singularize(table_name)) + \"_id\")"}},{"id":"has_table?-class-method","html_id":"has_table?-class-method","name":"has_table?","doc":"Returns whether model has a table.\n\nNOTE: shouldn't be used outside of tests.","summary":"<p>Returns whether model has a table.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L57","def":{"name":"has_table?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @@has_table.nil?\n  @@has_table = (adapter.table_exists?(table_name)).as(Bool)\nend\n@@has_table\n"}},{"id":"import(collection:Array(self))-class-method","html_id":"import(collection:Array(self))-class-method","name":"import","doc":"Performs bulk import of given collection.\n\nAny callback is ignored.\n\n```\nUser.import([\n  User.new({ name: \"John\" }),\n  User.new({ name: \"Fahad\" })\n])\n```","summary":"<p>Performs bulk import of given collection.</p>","abstract":false,"args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":"Array(self)"}],"args_string":"(collection : Array(<span class=\"k\">self</span>))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L553","def":{"name":"import","args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":"Array(self)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.bulk_insert(collection)"}},{"id":"models-class-method","html_id":"models-class-method","name":"models","doc":"Returns array of all non-abstract subclasses of *Jennifer::Model::Base*.\n\n```\nJennifer::Model::Base.models # => [Contact, Address, User]\n```","summary":"<p>Returns array of all non-abstract subclasses of <em>Jennifer::Model::Base</em>.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L201","def":{"name":"models","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n          {% models = @type.all_subclasses.select do |m|\n  !m.abstract?\nend %}\n          {% if !models.empty? %}\n            [\n              {% for model in models %}\n                {{ model.id }},\n              {% end %}\n            ]\n          {% else %}\n            [] of ::Jennifer::Model::Base.class\n          {% end %}\n        {% end %}"}},{"id":"with_table_lock(type:String|Symbol,&block)-class-method","html_id":"with_table_lock(type:String|Symbol,&amp;block)-class-method","name":"with_table_lock","doc":"Performs table lock for current model's table.","summary":"<p>Performs table lock for current model's table.</p>","abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String | Symbol"}],"args_string":"(type : String | Symbol, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L476","def":{"name":"with_table_lock","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.with_table_lock(table_name, type.to_s) do |t|\n  yield t\nend"}}],"constructors":[],"instance_methods":[{"id":"arguments_to_insert-instance-method","html_id":"arguments_to_insert-instance-method","name":"arguments_to_insert","doc":"Returns named tuple of all model fields to insert.\n\nNOTE: internal method","summary":"<p>Returns named tuple of all model fields to insert.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L270","def":{"name":"arguments_to_insert","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"arguments_to_save-instance-method","html_id":"arguments_to_save-instance-method","name":"arguments_to_save","doc":"Returns named tuple of all fields should be saved (because they are changed).\n\nNOTE: internal method","summary":"<p>Returns named tuple of all fields should be saved (because they are changed).</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L265","def":{"name":"arguments_to_save","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"changed?:Bool-instance-method","html_id":"changed?:Bool-instance-method","name":"changed?","doc":"Returns whether any field was changed. If field again got first value - `true` anyway\nwill be returned.\n\n```\nuser.name # => John\nuser.name = \"Bill\"\nuser.changed? # => true\nuser.name = \"John\"\nuser.changed? # => true\n```","summary":"<p>Returns whether any field was changed.</p>","abstract":true,"args":[],"args_string":" : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L251","def":{"name":"changed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":""}},{"id":"delete-instance-method","html_id":"delete-instance-method","name":"delete","doc":"Deletes object from the database.\n\nAny callback is invoked. Doesn't start any transaction.","summary":"<p>Deletes object from the database.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L416","def":{"name":"delete","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if new_record? || errors.any?\n  return\nend\nthis = self\nself.class.all.where do\n  this.class.primary == this.primary\nend.delete\n"}},{"id":"destroy:Bool-instance-method","html_id":"destroy:Bool-instance-method","name":"destroy","doc":"Deletes object from db and calls all related callbacks.\n\nIt returns `true` if the object was successfully deleted.\n\n```\nContact.first!.destroy # => true\n```","summary":"<p>Deletes object from db and calls all related callbacks.</p>","abstract":true,"args":[],"args_string":" : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L260","def":{"name":"destroy","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":""}},{"id":"destroy_without_transaction-instance-method","html_id":"destroy_without_transaction-instance-method","name":"destroy_without_transaction","doc":"Perform destroy without starting a database transaction.","summary":"<p>Perform destroy without starting a database transaction.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L404","def":{"name":"destroy_without_transaction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if new_record? || (!__before_destroy_callback)\n  return false\nend\nif delete\n  @destroyed = true\n  __after_destroy_callback\nend\n@destroyed\n"}},{"id":"destroyed?:Bool?-instance-method","html_id":"destroyed?:Bool?-instance-method","name":"destroyed?","doc":"Returns whether record isn't destroyed.","summary":"<p>Returns whether record isn't destroyed.</p>","abstract":false,"args":[],"args_string":" : Bool?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L106","def":{"name":"destroyed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@destroyed"}},{"id":"lock!(type:String|Bool=true)-instance-method","html_id":"lock!(type:String|Bool=true)-instance-method","name":"lock!","doc":"Lock current object in the database.","summary":"<p>Lock current object in the database.</p>","abstract":false,"args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"args_string":"(type : String | Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L423","def":{"name":"lock!","args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\n(self.class.all.where do\n  this.class.primary == this.primary\nend.lock(type)).to_a\n"}},{"id":"new_record?:Bool?-instance-method","html_id":"new_record?:Bool?-instance-method","name":"new_record?","doc":"Returns whether record isn't persisted.","summary":"<p>Returns whether record isn't persisted.</p>","abstract":false,"args":[],"args_string":" : Bool?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L101","def":{"name":"new_record?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@new_record"}},{"id":"persisted?-instance-method","html_id":"persisted?-instance-method","name":"persisted?","doc":"Returns `true` if the record is persisted, i.e. its not a new record and\nit wasn't destroyed, otherwise returns `false`.","summary":"<p>Returns <code>true</code> if the record is persisted, i.e.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L112","def":{"name":"persisted?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"!(new_record? || destroyed?)"}},{"id":"reload-instance-method","html_id":"reload-instance-method","name":"reload","doc":"Reloads the record from the database.\n\nThis method finds record by its primary key and modifies the receiver in-place. All relations are\nrefreshed.\n\n```\nuser = User.first!\nuser.name = \"John\"\nuser.reload # => #<User id: 1, name: \"Will\">\n```","summary":"<p>Reloads the record from the database.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L464","def":{"name":"reload","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if new_record?\n  raise(::Jennifer::RecordNotFound.new(\"It is not persisted yet\"))\nend\nthis = self\n(self.class.all.where do\n  this.class.primary == this.primary\nend.limit(1)).each_result_set do |rs|\n  init_attributes(rs)\nend\n__refresh_changes\n__refresh_relation_retrieves\nself\n"}},{"id":"save(skip_validation:Bool=false):Bool-instance-method","html_id":"save(skip_validation:Bool=false):Bool-instance-method","name":"save","doc":"Saves the object.\n\nIf the object is a new record it is created in the database, otherwise the existing record get updated.\n\nBy default, `#save` triggers validations but they can be skipped passing `true` as the second argument.\nIf any of them fails `#save` returns `false`.\n\nThere is a series of callbacks associated with `#save`. If any of the `before_*` callbacks return `false` the action\nis cancelled and `false` is returned. See `Jennifer::Model::Callback` for further details.\n\n```\nuser.name = \"Will\"\nuser.save # => true\n```","summary":"<p>Saves the object.</p>","abstract":false,"args":[{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":"Bool"}],"args_string":"(skip_validation : Bool = <span class=\"n\">false</span>) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L384","def":{"name":"save","args":[{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"if self.class.adapter.under_transaction?\n  save_record_under_transaction(skip_validation)\nelse\n  self.class.transaction do\n    save_record_under_transaction(skip_validation)\n  end || false\nend"}},{"id":"save!-instance-method","html_id":"save!-instance-method","name":"save!","doc":"Saves the object.\n\nIf the object is a new record it is created in the database, otherwise the existing record get updated.\n\n`#save!` always triggers validations. If any of them fails `Jennifer::RecordInvalid` gets raised.\n\nThere is a series of callbacks associated with `#save!`. If any of the `before_*` callbacks return `false` the action\nis cancelled and exception is raised. See `Jennifer::Model::Callback` for further details.\n\n```\nuser.name = \"Will\"\nuser.save! # => true\n```","summary":"<p>Saves the object.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L365","def":{"name":"save!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if save(false)\nelse\n  raise(Jennifer::RecordInvalid.new(errors.to_a))\nend\ntrue\n"}},{"id":"save_without_transaction(skip_validation:Bool=false):Bool-instance-method","html_id":"save_without_transaction(skip_validation:Bool=false):Bool-instance-method","name":"save_without_transaction","doc":"Saves all changes to the database without starting a transaction; if any validation fails - returns `false`.","summary":"<p>Saves all changes to the database without starting a transaction; if any validation fails - returns <code>false</code>.</p>","abstract":false,"args":[{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":"Bool"}],"args_string":"(skip_validation : Bool = <span class=\"n\">false</span>) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L395","def":{"name":"save_without_transaction","args":[{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"if skip_validation || validate!\nelse\n  return false\nend\nif __before_save_callback\nelse\n  return false\nend\nresponse = new_record? ? store_record : update_record\n__after_save_callback\nresponse\n"}},{"id":"set_attribute(name,value)-instance-method","html_id":"set_attribute(name,value)-instance-method","name":"set_attribute","doc":"Sets *name* field with *value*\n\n```\ncontact.set_attribute(:name, \"Ivan\")\n```","summary":"<p>Sets <em>name</em> field with <em>value</em></p>","abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(name, value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L226","def":{"name":"set_attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"set_attributes(values:Hash|NamedTuple)-instance-method","html_id":"set_attributes(values:Hash|NamedTuple)-instance-method","name":"set_attributes","doc":"Sets attributes based on `values` where keys are attribute names.\n\n```\npost.set_attributes({ :title => \"New Title\", :created_at => Time.local })\npost.set_attributes({ title: \"New Title\", created_at: Time.local })\npost.set_attributes(title: \"New Title\", created_at: Time.local)\n```","summary":"<p>Sets attributes based on <code>values</code> where keys are attribute names.</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"args_string":"(values : Hash | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L335","def":{"name":"set_attributes","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"values.each do |k, v|\n  set_attribute(k, v)\nend"}},{"id":"set_attributes(**values)-instance-method","html_id":"set_attributes(**values)-instance-method","name":"set_attributes","doc":"Sets attributes based on `values` where keys are attribute names.\n\n```\npost.set_attributes({ :title => \"New Title\", :created_at => Time.local })\npost.set_attributes({ title: \"New Title\", created_at: Time.local })\npost.set_attributes(title: \"New Title\", created_at: Time.local)\n```","summary":"<p>Sets attributes based on <code>values</code> where keys are attribute names.</p>","abstract":false,"args":[],"args_string":"(**values)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L340","def":{"name":"set_attributes","args":[],"double_splat":{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"set_attributes(values)"}},{"id":"update(**values)-instance-method","html_id":"update(**values)-instance-method","name":"update","doc":"Sets attributes based on given *values* using `#set_attribute`\nand saves it to the database, if validation pass.\n\nReturns whether object is successfully saved.\n\n```\ncontact.update(name: \"Jennifer\")\n```","summary":"<p>Sets attributes based on given <em>values</em> using <code><a href=\"../../Jennifer/Model/Base.html#set_attribute(name,value)-instance-method\">#set_attribute</a></code> and saves it to the database, if validation pass.</p>","abstract":false,"args":[],"args_string":"(**values)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L300","def":{"name":"update","args":[],"double_splat":{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"update(values)"}},{"id":"update(values:Hash|NamedTuple):Bool-instance-method","html_id":"update(values:Hash|NamedTuple):Bool-instance-method","name":"update","doc":"Sets attributes based on given *values* using `#set_attribute`\nand saves it to the database, if validation pass.\n\nReturns whether object is successfully saved.\n\n```\ncontact.update({ :name => \"Jennifer\" })\ncontact.update({ name: \"Jennifer\" })\n```","summary":"<p>Sets attributes based on given <em>values</em> using <code><a href=\"../../Jennifer/Model/Base.html#set_attribute(name,value)-instance-method\">#set_attribute</a></code> and saves it to the database, if validation pass.</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"args_string":"(values : Hash | NamedTuple) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L287","def":{"name":"update","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"set_attributes(values)\nsave\n"}},{"id":"update!(values:Hash|NamedTuple):Bool-instance-method","html_id":"update!(values:Hash|NamedTuple):Bool-instance-method","name":"update!","doc":"Sets attributes based on given *values* and saves it to the database, if validation pass.\n\nRaises an `RecordInvalid` error if validation fail, unlike `#update`.\n\n```\ncontact.update!({ :name => \"Jennifer\" })\ncontact.update!({ name: \"Jennifer\" })\n```","summary":"<p>Sets attributes based on given <em>values</em> and saves it to the database, if validation pass.</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"args_string":"(values : Hash | NamedTuple) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L312","def":{"name":"update!","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"set_attributes(values)\nsave!\n"}},{"id":"update!(**values):Bool-instance-method","html_id":"update!(**values):Bool-instance-method","name":"update!","doc":"Sets attributes based on given *values* and saves it to the database, if validation pass.\n\nRaises an `RecordInvalid` error if validation fail, unlike `#update`.\n\n```\ncontact.update!(name: \"Jennifer\")\n```","summary":"<p>Sets attributes based on given <em>values</em> and saves it to the database, if validation pass.</p>","abstract":false,"args":[],"args_string":"(**values) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L324","def":{"name":"update!","args":[],"double_splat":{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"update!(values)"}},{"id":"update_column(name:String|Symbol,value:Jennifer::DBAny)-instance-method","html_id":"update_column(name:String|Symbol,value:Jennifer::DBAny)-instance-method","name":"update_column","doc":"Sets *value* to field with name *name* and stores them directly to the database without\nany validation or callback.\n\nIs a shorthand for `#update_columns({ name => value })`.","summary":"<p>Sets <em>value</em> to field with name <em>name</em> and stores them directly to the database without any validation or callback.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Jennifer::DBAny"}],"args_string":"(name : String | Symbol, value : Jennifer::DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L348","def":{"name":"update_column","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Jennifer::DBAny"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"update_columns({name => value})"}},{"id":"update_columns(values)-instance-method","html_id":"update_columns(values)-instance-method","name":"update_columns","doc":"Sets *value* to field with name *name* and stores them directly to the database without\nany validation or callback.\n\nAlso *updated_at* is not updated.\n\nIf at least one attribute get value of wrong type or attribute is missing or is virtual -\n`BaseException` is raised.\n\n```\nuser.update_columns({ :name => \"Jennifer\" })\n```","summary":"<p>Sets <em>value</em> to field with name <em>name</em> and stores them directly to the database without any validation or callback.</p>","abstract":true,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""}],"args_string":"(values)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L239","def":{"name":"update_columns","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"with_lock(type:String|Bool=true,&block)-instance-method","html_id":"with_lock(type:String|Bool=true,&amp;block)-instance-method","name":"with_lock","doc":"Starts a transaction and locks current object.","summary":"<p>Starts a transaction and locks current object.</p>","abstract":false,"args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"args_string":"(type : String | Bool = <span class=\"n\">true</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L429","def":{"name":"with_lock","args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"self.class.transaction do |t|\n  self.lock!(type)\n  yield t\nend"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base/AbstractClassMethods","path":"Jennifer/Model/Base/AbstractClassMethods.html","kind":"module","full_name":"Jennifer::Model::Base::AbstractClassMethods","name":"AbstractClassMethods","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/base.cr","line_number":16,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"},"doc":"`Base` class abstract methods.","summary":"<p><code><a href=\"../../../Jennifer/Model/Base.html\">Base</a></code> class abstract methods.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"columns_tuple-instance-method","html_id":"columns_tuple-instance-method","name":"columns_tuple","doc":"Returns model's column metadata.\n\nThe metadata is a result of processing attributes passed to `.mapping` macro.","summary":"<p>Returns model's column metadata.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L43","def":{"name":"columns_tuple","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"field_count:Int32-instance-method","html_id":"field_count:Int32-instance-method","name":"field_count","doc":"Returns number of model's fields.","summary":"<p>Returns number of model's fields.</p>","abstract":true,"args":[],"args_string":" : Int32","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L35","def":{"name":"field_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32","visibility":"Public","body":""}},{"id":"field_names:Array(String)-instance-method","html_id":"field_names:Array(String)-instance-method","name":"field_names","doc":"Returns array of field names.","summary":"<p>Returns array of field names.</p>","abstract":true,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L38","def":{"name":"field_names","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":""}},{"id":"new(values:Hash|NamedTuple)-instance-method","html_id":"new(values:Hash|NamedTuple)-instance-method","name":"new","doc":"Instantiate new object base on given *values*.\n\n`after_initialize` callbacks are called after an object is initialized.\n\n```\nContact.new({ \"name\" => \"Jennifer\" })\nContact.new({ :name => \"Jennifer\" })\nContact.new({ name: \"Jennifer\" })\nContact.new(:name: \"Jennifer\"})\n# only in a case when all Contact's fields are nillable or with default values\nContact.new\n```","summary":"<p>Instantiate new object base on given <em>values</em>.</p>","abstract":true,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"args_string":"(values : Hash | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L32","def":{"name":"new","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"primary_auto_incrementable?-instance-method","html_id":"primary_auto_incrementable?-instance-method","name":"primary_auto_incrementable?","doc":"Returns whether primary field is autoincrementable.","summary":"<p>Returns whether primary field is autoincrementable.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/base.cr#L18","def":{"name":"primary_auto_incrementable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Callback","path":"Jennifer/Model/Callback.html","kind":"module","full_name":"Jennifer::Model::Callback","name":"Callback","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/callback.cr","line_number":24,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":"Callbacks are hooks into the life cycle of a model object that allow you to trigger logic before\nor after an alteration of the object state.\n\n```\nclass User < Jennifer::Model::Base\n  mapping(\n    # ...\n  )\n\n  before_save :notify\n  after_create :send_email, if: admin?\n\n  def notify\n    # ...\n  end\n\n  def admin?\n    role == \"admin\"\n  end\nend\n```","summary":"<p>Callbacks are hooks into the life cycle of a model object that allow you to trigger logic before or after an alteration of the object state.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"after_commit(*names,on)-macro","html_id":"after_commit(*names,on)-macro","name":"after_commit","doc":"Defines callbacks which are called after a record has been created, updated, or destroyed.\n\nYou can specify that the callback should only be fired by a certain action with the :on option:\n\n```\nafter_commit :var, on: :save\nafter_commit :foo, on: :create\nafter_commit :bar, on: :update\nafter_commit :baz, on: :destroy\n```","summary":"<p>Defines callbacks which are called after a record has been created, updated, or destroyed.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":""}],"args_string":"(*names, on)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L235","def":{"name":"after_commit","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% if ([:create, :save, :destroy, :update] of ::Symbol).includes?(on)\nelse\n  raise(\"#{on} is invalid action for 'after_commit' callback.\")\nend %}\n\n        \n{% names.reduce(CALLBACKS[on][:commit]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"after_create(*names)-macro","html_id":"after_create(*names)-macro","name":"after_create","doc":"Defines callbacks which are called after `Base.save` on new objects that havent been saved yet\n(no record exists).\n\nNote that these callbacks is still wrapped in the transaction around save.","summary":"<p>Defines callbacks which are called after <code><a href=\"../../Jennifer/Model/Base.html#save(skip_validation:Bool=false):Bool-instance-method\">Base.save</a></code> on new objects that havent been saved yet (no record exists).</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L142","def":{"name":"after_create","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% names.reduce(CALLBACKS[:create][:after]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"after_destroy(*names)-macro","html_id":"after_destroy(*names)-macro","name":"after_destroy","doc":"Defines callbacks which are called after `Base.destroy`.","summary":"<p>Defines callbacks which are called after <code><a href=\"../../Jennifer/Model/Base.html#destroy(*ids)-class-method\">Base.destroy</a></code>.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L196","def":{"name":"after_destroy","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% names.reduce(CALLBACKS[:destroy][:after]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"after_initialize(*names)-macro","html_id":"after_initialize(*names)-macro","name":"after_initialize","doc":"Defines callbacks which are called after `Base.build` call.","summary":"<p>Defines callbacks which are called after <code><a href=\"../../Jennifer/Model/Base.html#build(values:Hash%7CNamedTuple,new_record:Bool)-class-method\">Base.build</a></code> call.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L176","def":{"name":"after_initialize","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% names.reduce(CALLBACKS[:initialize][:after]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"after_rollback(*names,on)-macro","html_id":"after_rollback(*names,on)-macro","name":"after_rollback","doc":"Defines callbacks which are called after a create, update, or destroy are rolled back.\n\nPlease check the documentation of `after_commit` macro for options.","summary":"<p>Defines callbacks which are called after a create, update, or destroy are rolled back.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":""}],"args_string":"(*names, on)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L252","def":{"name":"after_rollback","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% if ([:create, :save, :destroy, :update] of ::Symbol).includes?(on)\nelse\n  raise(\"#{on} is invalid action for 'after_rollback' callback.\")\nend %}\n\n        \n{% names.reduce(CALLBACKS[on][:rollback]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"after_save(*names)-macro","html_id":"after_save(*names)-macro","name":"after_save","doc":"Defines callbacks which are called after `Base.save` (regardless of whether it's a `create` or `update` save).\n\nNote that these callbacks are still wrapped in the transaction around save.","summary":"<p>Defines callbacks which are called after <code><a href=\"../../Jennifer/Model/Base.html#save(skip_validation:Bool=false):Bool-instance-method\">Base.save</a></code> (regardless of whether it's a <code>create</code> or <code>update</code> save).</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L116","def":{"name":"after_save","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% names.reduce(CALLBACKS[:save][:after]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"after_update(*names)-macro","html_id":"after_update(*names)-macro","name":"after_update","doc":"Defines callbacks which are called after `Base.save` on existing objects that have a record.\n\nNote that these callbacks are still wrapped in the transaction around save.","summary":"<p>Defines callbacks which are called after <code><a href=\"../../Jennifer/Model/Base.html#save(skip_validation:Bool=false):Bool-instance-method\">Base.save</a></code> on existing objects that have a record.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L166","def":{"name":"after_update","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% names.reduce(CALLBACKS[:update][:after]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"after_validation(*names)-macro","html_id":"after_validation(*names)-macro","name":"after_validation","doc":"Defines callbacks which are called after `Base.validate!` (which is part of the `Base.save` call).","summary":"<p>Defines callbacks which are called after <code>Base.validate!</code> (which is part of the <code><a href=\"../../Jennifer/Model/Base.html#save(skip_validation:Bool=false):Bool-instance-method\">Base.save</a></code> call).</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L216","def":{"name":"after_validation","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% names.reduce(CALLBACKS[:validation][:after]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"before_create(*names)-macro","html_id":"before_create(*names)-macro","name":"before_create","doc":"Defines callbacks which are called before `Base.save` on new objects that havent been saved yet\n(no record exists).\n\nNote that these callbacks are already wrapped in the transaction around save.","summary":"<p>Defines callbacks which are called before <code><a href=\"../../Jennifer/Model/Base.html#save(skip_validation:Bool=false):Bool-instance-method\">Base.save</a></code> on new objects that havent been saved yet (no record exists).</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L129","def":{"name":"before_create","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% names.reduce(CALLBACKS[:create][:before]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"before_destroy(*names)-macro","html_id":"before_destroy(*names)-macro","name":"before_destroy","doc":"Defines callbacks which are called before `Base.destroy`","summary":"<p>Defines callbacks which are called before <code><a href=\"../../Jennifer/Model/Base.html#destroy(*ids)-class-method\">Base.destroy</a></code></p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L186","def":{"name":"before_destroy","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% names.reduce(CALLBACKS[:destroy][:before]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"before_save(*names)-macro","html_id":"before_save(*names)-macro","name":"before_save","doc":"Defines callbacks which are called before `Base.save` (regardless of whether it's a `create` or `update` save).\n\nNote that these callbacks are already wrapped in the transaction around save.","summary":"<p>Defines callbacks which are called before <code><a href=\"../../Jennifer/Model/Base.html#save(skip_validation:Bool=false):Bool-instance-method\">Base.save</a></code> (regardless of whether it's a <code>create</code> or <code>update</code> save).</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L104","def":{"name":"before_save","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% names.reduce(CALLBACKS[:save][:before]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"before_update(*names)-macro","html_id":"before_update(*names)-macro","name":"before_update","doc":"Defines callbacks which are called before `Base.save` on existing objects that have a record.\n\nNote that these callbacks are already wrapped in the transaction around save.","summary":"<p>Defines callbacks which are called before <code><a href=\"../../Jennifer/Model/Base.html#save(skip_validation:Bool=false):Bool-instance-method\">Base.save</a></code> on existing objects that have a record.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L154","def":{"name":"before_update","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% names.reduce(CALLBACKS[:update][:before]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}},{"id":"before_validation(*names)-macro","html_id":"before_validation(*names)-macro","name":"before_validation","doc":"Defines callbacks which are called before `Base.validate!` (which is part of the `Base.save` call).","summary":"<p>Defines callbacks which are called before <code>Base.validate!</code> (which is part of the <code><a href=\"../../Jennifer/Model/Base.html#save(skip_validation:Bool=false):Bool-instance-method\">Base.save</a></code> call).</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/callback.cr#L206","def":{"name":"before_validation","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% names.reduce(CALLBACKS[:validation][:before]) do |array, name|\n  array << name.id.stringify\n  array\nend %}\n\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/EnumConverter","path":"Jennifer/Model/EnumConverter.html","kind":"class","full_name":"Jennifer::Model::EnumConverter","name":"EnumConverter","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/converters.cr","line_number":54,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/converters.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":"Type converter for Postgre ENUM field.\n\nPostgre custom data types (to which ENUM belongs) may have different OID on different databases.\nTherefore PG driver treats value of ENUM type as `Bytes`. To bring dynamic convert to string value and back\nuse this converter\n\n```\nclass Order < Jennifer::Model::Base\n  mapping(\n    id: Primary32,\n    title: String,\n    status: { type: String?, default: \"draft\", converter: Jennifer::Model::EnumConverter }\n  )\nend\n```","summary":"<p>Type converter for Postgre ENUM field.</p>","class_methods":[{"id":"from_db(pull,nillable)-class-method","html_id":"from_db(pull,nillable)-class-method","name":"from_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":""},{"name":"nillable","doc":null,"default_value":"","external_name":"nillable","restriction":""}],"args_string":"(pull, nillable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/converters.cr#L55","def":{"name":"from_db","args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":""},{"name":"nillable","doc":null,"default_value":"","external_name":"nillable","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if nillable\n  value = pull.read(::Union(Bytes, ::Nil))\n  value && (String.new(value))\nelse\n  String.new(pull.read(Bytes))\nend"}},{"id":"from_hash(hash:Hash,column)-class-method","html_id":"from_hash(hash:Hash,column)-class-method","name":"from_hash","doc":null,"summary":null,"abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Hash"},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""}],"args_string":"(hash : Hash, column)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/converters.cr#L72","def":{"name":"from_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Hash"},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value = hash[column]\ncase value\nwhen Bytes\n  String.new(value)\nelse\n  value\nend\n"}},{"id":"to_db(value:String)-class-method","html_id":"to_db(value:String)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/converters.cr#L64","def":{"name":"to_db","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value.to_slice"}},{"id":"to_db(value:Nil)-class-method","html_id":"to_db(value:Nil)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"args_string":"(value : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/converters.cr#L68","def":{"name":"to_db","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Errors","path":"Jennifer/Model/Errors.html","kind":"class","full_name":"Jennifer::Model::Errors","name":"Errors","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/model/errors.cr","line_number":30,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":"Container that you can include in your object for handling error messages.\n\nAn example of a minimal implementation could be:\n\n```\nclass Post\n  include Jennifer::Model::Translation\n\n  property title : String?\n  getter errors\n\n  def initialize\n    @errors = Jennifer::Model::Errors.new(self)\n  end\n\n  def validate\n    errors.add(:title, :blank) if title.nil?\n  end\n\n  # The following method is needed to be minimally implemented\n\n  def self.superclass; end\nend\n```\n\nThe last method in the described class is required to be implemented to allow Jennifer::Model::Errors to\ncorrectly work with class translation lookup. `nil` return value presents that class has no lookup.","summary":"<p>Container that you can include in your object for handling error messages.</p>","class_methods":[],"constructors":[{"id":"new(base)-class-method","html_id":"new(base)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"base","doc":null,"default_value":"","external_name":"base","restriction":""}],"args_string":"(base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L36","def":{"name":"new","args":[{"name":"base","doc":null,"default_value":"","external_name":"base","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(base)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](attribute:Symbol)-instance-method","html_id":"[](attribute:Symbol)-instance-method","name":"[]","doc":"When passed a symbol or a name of a method, returns an array of errors\nfor the method.","summary":"<p>When passed a symbol or a name of a method, returns an array of errors for the method.</p>","abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"}],"args_string":"(attribute : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L64","def":{"name":"[]","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"messages[attribute]"}},{"id":"[]?(attribute:Symbol)-instance-method","html_id":"[]?(attribute:Symbol)-instance-method","name":"[]?","doc":null,"summary":null,"abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"}],"args_string":"(attribute : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L68","def":{"name":"[]?","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"messages[attribute]?"}},{"id":"add(attribute:Symbol,message:String|Symbol=:invalid,options:Hash={}ofString=>String)-instance-method","html_id":"add(attribute:Symbol,message:String|Symbol=:invalid,options:Hash={}ofString=&gt;String)-instance-method","name":"add","doc":null,"summary":null,"abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"},{"name":"message","doc":null,"default_value":":invalid","external_name":"message","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"{} of String => String","external_name":"options","restriction":"Hash"}],"args_string":"(attribute : Symbol, message : String | Symbol = <span class=\"n\">:invalid</span>, options : Hash = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">String</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L127","def":{"name":"add","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"},{"name":"message","doc":null,"default_value":":invalid","external_name":"message","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"{} of String => String","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"add(attribute, message, nil, options)"}},{"id":"add(attribute:Symbol,message:String|Symbol=:invalid,count:Int?=nil,options:Hash={}ofString=>String)-instance-method","html_id":"add(attribute:Symbol,message:String|Symbol=:invalid,count:Int?=nil,options:Hash={}ofString=&gt;String)-instance-method","name":"add","doc":"Adds `message` to the error messages and used validator type to `details` on `attribute`.\n\nMore than one error can be added to the same `attribute`.\nIf no `message` is supplied, `:invalid` is assumed.","summary":"<p>Adds <code>message</code> to the error messages and used validator type to <code>details</code> on <code>attribute</code>.</p>","abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"},{"name":"message","doc":null,"default_value":":invalid","external_name":"message","restriction":"String | Symbol"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"Int | ::Nil"},{"name":"options","doc":null,"default_value":"{} of String => String","external_name":"options","restriction":"Hash"}],"args_string":"(attribute : Symbol, message : String | Symbol = <span class=\"n\">:invalid</span>, count : Int? = <span class=\"n\">nil</span>, options : Hash = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">String</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L123","def":{"name":"add","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"},{"name":"message","doc":null,"default_value":":invalid","external_name":"message","restriction":"String | Symbol"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"Int | ::Nil"},{"name":"options","doc":null,"default_value":"{} of String => String","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"messages[attribute] << (generate_message(attribute, message, count, options))"}},{"id":"any?-instance-method","html_id":"any?-instance-method","name":"any?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L111","def":{"name":"any?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"!empty?"}},{"id":"blank?-instance-method","html_id":"blank?-instance-method","name":"blank?","doc":"Returns if object is *blank* one - empty (or whitespaced) string, empty array, empty hash, `nil` or `false`.","summary":"<p>Returns if object is <em>blank</em> one - empty (or whitespaced) string, empty array, empty hash, <code>nil</code> or <code>false</code>.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L115","def":{"name":"blank?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"empty?"}},{"id":"clear-instance-method","html_id":"clear-instance-method","name":"clear","doc":"Clear the error messages.","summary":"<p>Clear the error messages.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L53","def":{"name":"clear","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@messages.clear"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L40","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"delete(key:Symbol)-instance-method","html_id":"delete(key:Symbol)-instance-method","name":"delete","doc":"Delete messages for `key`. Returns the deleted messages.","summary":"<p>Delete messages for <code>key</code>.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"}],"args_string":"(key : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L58","def":{"name":"delete","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"messages.delete(key)"}},{"id":"each(&block)-instance-method","html_id":"each(&amp;block)-instance-method","name":"each","doc":"Iterates through each error key, value pair in the error messages hash.\n\nYields the attribute and the error for that attribute. If the attribute\nhas more than one error message, yields once for each error message.","summary":"<p>Iterates through each error key, value pair in the error messages hash.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L76","def":{"name":"each","args":[],"double_splat":null,"splat_index":null,"yields":2,"block_arg":null,"return_type":"","visibility":"Public","body":"messages.each_key do |attribute|\n  messages[attribute].each do |error|\n    yield attribute, error\n  end\nend"}},{"id":"empty?-instance-method","html_id":"empty?-instance-method","name":"empty?","doc":"Returns `true` if no errors are found, `false` otherwise.\nIf the error message is a string it can be empty.","summary":"<p>Returns <code>true</code> if no errors are found, <code>false</code> otherwise.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L107","def":{"name":"empty?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"size == 0"}},{"id":"full_message(attribute:Symbol,message:String)-instance-method","html_id":"full_message(attribute:Symbol,message:String)-instance-method","name":"full_message","doc":"Returns a full message for a given attribute.","summary":"<p>Returns a full message for a given attribute.</p>","abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"},{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"args_string":"(attribute : Symbol, message : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L148","def":{"name":"full_message","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"},{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if attribute == (:base)\n  return message\nend\nattr_name = @base.class.human_attribute_name(attribute)\nI18n.translate(\"#{Translation::GLOBAL_SCOPE}.errors.format\", default: \"#{attribute} #{message}\", options: {\"attribute\" => attr_name, \"message\" => message})\n"}},{"id":"full_messages-instance-method","html_id":"full_messages-instance-method","name":"full_messages","doc":"Returns all the full error messages in an array.","summary":"<p>Returns all the full error messages in an array.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L132","def":{"name":"full_messages","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"errors = [] of String\neach do |attribute, message|\n  errors << (full_message(attribute, message))\nend\nerrors\n"}},{"id":"full_messages_for(attribute:Symbol)-instance-method","html_id":"full_messages_for(attribute:Symbol)-instance-method","name":"full_messages_for","doc":"Returns all the full error messages for a given attribute in an array.","summary":"<p>Returns all the full error messages for a given attribute in an array.</p>","abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"}],"args_string":"(attribute : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L143","def":{"name":"full_messages_for","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"messages[attribute].map do |message|\n  full_message(attribute, message)\nend"}},{"id":"generate_message(attribute:Symbol,message:Symbol,count,options:Hash)-instance-method","html_id":"generate_message(attribute:Symbol,message:Symbol,count,options:Hash)-instance-method","name":"generate_message","doc":"Translates an error message in its default scope","summary":"<p>Translates an error message in its default scope</p>","abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"},{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"Symbol"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(attribute : Symbol, message : Symbol, count, options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L155","def":{"name":"generate_message","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"},{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"Symbol"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"prefix = \"#{Translation::GLOBAL_SCOPE}.errors.\"\nopts = {count: count, options: options}\n@base.class.lookup_ancestors do |ancestor|\n  path = \"#{prefix}#{ancestor.i18n_key}.attributes.#{attribute}.#{message}\"\n  if I18n.exists?(path, count: count)\n    return I18n.translate(path, **opts)\n  end\n  path = \"#{prefix}#{ancestor.i18n_key}.#{message}\"\n  if I18n.exists?(path, count: count)\n    return I18n.translate(path, **opts)\n  end\nend\npath = \"#{prefix}#{attribute}.#{message}\"\nif I18n.exists?(path, count: count)\n  return I18n.translate(path, **opts)\nend\npath = \"#{prefix}messages.#{message}\"\nif I18n.exists?(path, count: count)\n  return I18n.translate(path, **opts)\nend\n(Inflector.humanize(message)).downcase\n"}},{"id":"generate_message(attribute:Symbol,message:String,count,options:Hash)-instance-method","html_id":"generate_message(attribute:Symbol,message:String,count,options:Hash)-instance-method","name":"generate_message","doc":null,"summary":null,"abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"},{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(attribute : Symbol, message : String, count, options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L174","def":{"name":"generate_message","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"},{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"message"}},{"id":"include?(attribute:Symbol)-instance-method","html_id":"include?(attribute:Symbol)-instance-method","name":"include?","doc":"Returns whether error messages include an error for the given key `attribute`.","summary":"<p>Returns whether error messages include an error for the given key <code>attribute</code>.</p>","abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"}],"args_string":"(attribute : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L48","def":{"name":"include?","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(messages.has_key?(attribute)) && messages[attribute].present?"}},{"id":"inspect(io):Nil-instance-method","html_id":"inspect(io):Nil-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io) : Nil","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L178","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"((io << \"#<\") << ({{ @type.name.id.stringify }})) << \":0x\"\nobject_id.to_s(16, io)\nio << \" @messages=\"\n@messages.inspect(io)\nio << '>'\nnil\n"}},{"id":"keys-instance-method","html_id":"keys-instance-method","name":"keys","doc":"Returns all message keys.","summary":"<p>Returns all message keys.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L97","def":{"name":"keys","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"attrs = [] of Symbol\nmessages.each do |key, value|\n  if value.empty?\n  else\n    attrs << key\n  end\nend\nattrs\n"}},{"id":"size-instance-method","html_id":"size-instance-method","name":"size","doc":"Returns the number of error messages.","summary":"<p>Returns the number of error messages.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L83","def":{"name":"size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"values.flatten.size"}},{"id":"to_a-instance-method","html_id":"to_a-instance-method","name":"to_a","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L138","def":{"name":"to_a","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"full_messages"}},{"id":"values-instance-method","html_id":"values-instance-method","name":"values","doc":"Returns all message values.","summary":"<p>Returns all message values.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/errors.cr#L88","def":{"name":"values","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"errors = [] of String\nmessages.each do |_, array|\n  if array.empty?\n  else\n    errors = errors + array\n  end\nend\nerrors\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/JSONConverter","path":"Jennifer/Model/JSONConverter.html","kind":"class","full_name":"Jennifer::Model::JSONConverter","name":"JSONConverter","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/model/converters.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/converters.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":"Default converter for `JSON::Any` fields.\n\nConverts json string to `JSON::Any` and back.","summary":"<p>Default converter for <code>JSON::Any</code> fields.</p>","class_methods":[{"id":"from_db(pull,nillable)-class-method","html_id":"from_db(pull,nillable)-class-method","name":"from_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":""},{"name":"nillable","doc":null,"default_value":"","external_name":"nillable","restriction":""}],"args_string":"(pull, nillable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/converters.cr#L7","def":{"name":"from_db","args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":""},{"name":"nillable","doc":null,"default_value":"","external_name":"nillable","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"nillable ? pull.read(::Union(JSON::Any, ::Nil)) : pull.read(JSON::Any)"}},{"id":"from_hash(hash:Hash,column)-class-method","html_id":"from_hash(hash:Hash,column)-class-method","name":"from_hash","doc":null,"summary":null,"abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Hash"},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""}],"args_string":"(hash : Hash, column)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/converters.cr#L19","def":{"name":"from_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Hash"},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value = hash[column]\ncase value\nwhen String\n  JSON.parse(value)\nelse\n  value\nend\n"}},{"id":"to_db(value:JSON::Any)-class-method","html_id":"to_db(value:JSON::Any)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"JSON::Any"}],"args_string":"(value : JSON::Any)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/converters.cr#L11","def":{"name":"to_db","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"JSON::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value.to_json"}},{"id":"to_db(value:Nil)-class-method","html_id":"to_db(value:Nil)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"args_string":"(value : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/converters.cr#L15","def":{"name":"to_db","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping","path":"Jennifer/Model/Mapping.html","kind":"module","full_name":"Jennifer::Model::Mapping","name":"Mapping","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/CommonMapping","kind":"module","full_name":"Jennifer::Model::CommonMapping","name":"CommonMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/FieldDeclaration","kind":"module","full_name":"Jennifer::Model::FieldDeclaration","name":"FieldDeclaration"}],"locations":[{"filename":"jennifer/model/mapping.cr","line_number":129,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/mapping.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/CommonMapping","kind":"module","full_name":"Jennifer::Model::CommonMapping","name":"CommonMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/FieldDeclaration","kind":"module","full_name":"Jennifer::Model::FieldDeclaration","name":"FieldDeclaration"}],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Mapping","kind":"module","full_name":"Jennifer::View::Mapping","name":"Mapping"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":"Contains macros to define model mapping.\n\nTo define model mapping use `.mapping` macro. It accepts hash, tuple and splatted tuple,\nwhere keys are model attributes (they reflects column names but this can be overided) and values -\nmapping properties. Mapping value can be `Class`, `HashLiteral`, `NamedTupleLiteral` or constant\nthat can be resolved as `HashLiteral` or `NamedTupleLiteral`.\n\nAvailable mapping properties:\n\n* `:type` - data type class (e.g. `Int32`);\n* `:primary` - whether field is primary - at least one file of a model must be primary;\n* `:null` - whether field is nillable; another way to define this is specify `type` as union with\nthe second `Nil` (e.g. `Int32?`);\n* `:default` - attribute default value that is assigned when new object is created and no value\nis specified;\n* `:column` - database column name associated with this attribute (default is attribute name);\n* `:getter` - whether attribute reader should be generated (`true` by default);\n* `:setter` - whether attribute writer should be generated (`true` by default);\n* `:virtual` - whether attribute is virtual (will not be stored to / retrieved from database);\n* `:converter` - class to be used to serialize/deserialize data.\n* `:auto` - mark primary key as autoincrementable - it's value will be assigned by database automatically\n(`true` for `Int32` & `Int64`)\n\n```\nclass Contact < Jennifer::Model::Base\n  with_timestamps\n  mapping(\n    id: Primary32, # same as { type: Int32, primary: true }\n    name: String,\n    gender: { type: String? },\n    age: { type: Int32, default: 10 },\n    description: String?,\n    created_at: Time?,\n    updated_at: Time | Nil\n  )\nend\n```\n\n### Mapping type\n\nConstants used as a `:type` value and presents subset of mapping properties are called **mapping type**.\nTo use them you should firstly register it\n\n```\nclass ApplicationRecord < Jennifer::Model::Base\n  EmptyString = {\n    type: String,\n    default: \"\"\n  }\n\n  {% TYPES << \"EmptyString\" %}\n  # or if this is outside of model or view scope\n  {% ::Jennifer::Macros::TYPES << \"EmptyString\" %}\nend\n```\n\nFor more details about exiting mapping types see `Macros` and `Authentication`.\n\n### Inheritance\n\nMapping also can be specified in abstract super class to be shared with all subclass models\n\n```\nclass ApplicationRecord < Jennifer::Model::Base\n  mapping(\n    id: Primary32\n  )\nend\n\nclass User < ApplicationRecord\n  mapping(\n    name: String\n  )\nend\n```\n\nOr inside of a module\n\n```\nmodule SharedMapping\n  include Jennifer::Model::Mapping\n\n  mapping(\n    id: Primary32\n  )\nend\n\nclass User < Jennifer::Model::Base\n  include SharedMapping\n\n  mapping(\n    email: String\n  )\nend\n```\n\n`.mapping` can be used only once per module/class definition. If class has no field to be added after\ninheritance or module inclusion - place `.mapping` without any argument.\n\n### STI\n\nFor single table inheritance just define define parent non-abstract class with all common fields and\n`type: String` extra field and inherit from it. Any class inherited from non-abstract model automatically\nbehaves in scope of \"single table inheritance\".\n\n```\nclass Profile < Jennifer::Model::Base\n  mapping(\n    id: Primary32,\n    login: String,\n    contact_id: Int32?,\n    type: String,\n    virtual_parent_field: {type: String?, virtual: true}\n  )\nend\n\nclass FacebookProfile < Profile\n  mapping(\n    uid: String?, # for testing purposes\n    virtual_child_field: {type: Int32?, virtual: true}\n  )\nend\n```","summary":"<p>Contains macros to define model mapping.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"mapping(properties,strict=true)-macro","html_id":"mapping(properties,strict=true)-macro","name":"mapping","doc":"Defines model mapping.\n\nAcceptable keys:\n- type\n- getter\n- setter\n- null\n- primary\n- virtual\n- default\n- converter\n- column\n\nFor more details see `Mapping` module documentation.","summary":"<p>Defines model mapping.</p>","abstract":false,"args":[{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},{"name":"strict","doc":null,"default_value":"true","external_name":"strict","restriction":""}],"args_string":"(properties, strict = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/mapping.cr#L539","def":{"name":"mapping","args":[{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},{"name":"strict","doc":null,"default_value":"true","external_name":"strict","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% if properties.size > 0 %}\n          build_properties({{ properties }})\n        {% end %}\n\n        draw_mapping(\n{{ strict }}\n)\n      \n"}},{"id":"mapping(**properties)-macro","html_id":"mapping(**properties)-macro","name":"mapping","doc":"ditto","summary":"<p>ditto</p>","abstract":false,"args":[],"args_string":"(**properties)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/mapping.cr#L547","def":{"name":"mapping","args":[],"double_splat":{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% if properties.size > 0 %}\n          mapping({{ properties }})\n        {% else %}\n          draw_mapping(true)\n        {% end %}\n\n      \n"}},{"id":"with_timestamps(created_at=true,updated_at=true)-macro","html_id":"with_timestamps(created_at=true,updated_at=true)-macro","name":"with_timestamps","doc":"Adds callbacks for `created_at` and `updated_at` fields.\n\n```\nclass MyModel < Jennifer::Model::Base\n  with_timestamps\n\n  mapping(\n    id: { type: Int32, primary: true },\n    created_at: { type: Time, null: true },\n    updated_at: { type: Time, null: true }\n  )\nend\n```","summary":"<p>Adds callbacks for <code>created_at</code> and <code>updated_at</code> fields.</p>","abstract":false,"args":[{"name":"created_at","doc":null,"default_value":"true","external_name":"created_at","restriction":""},{"name":"updated_at","doc":null,"default_value":"true","external_name":"updated_at","restriction":""}],"args_string":"(created_at = <span class=\"n\">true</span>, updated_at = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/mapping.cr#L194","def":{"name":"with_timestamps","args":[{"name":"created_at","doc":null,"default_value":"true","external_name":"created_at","restriction":""},{"name":"updated_at","doc":null,"default_value":"true","external_name":"updated_at","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% if created_at %}\n          before_save :__update_updated_at\n\n          # :nodoc:\n          def __update_created_at\n            @created_at = Time.local(Jennifer::Config.local_time_zone)\n          end\n        {% end %}\n\n\n        \n{% if updated_at %}\n          before_create :__update_created_at\n\n          # :nodoc:\n          def __update_updated_at\n            @updated_at = Time.local(Jennifer::Config.local_time_zone)\n          end\n        {% end %}\n\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/NumericToFloat64Converter","path":"Jennifer/Model/NumericToFloat64Converter.html","kind":"class","full_name":"Jennifer::Model::NumericToFloat64Converter","name":"NumericToFloat64Converter","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/converters.cr","line_number":15,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/converters.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":"Type converter for Postgre numeric field.\n\nConverts `PG::Numeric` to `Float64` and back.\n\n```\nclass Order < Jennifer::Model::Base\n  mapping(\n    id: Primary32,\n    total: { type: Float64?, converter: Jennifer::Model::NumericToFloat64Converter }\n  )\nend\n```","summary":"<p>Type converter for Postgre numeric field.</p>","class_methods":[{"id":"from_db(pull,nillable)-class-method","html_id":"from_db(pull,nillable)-class-method","name":"from_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":""},{"name":"nillable","doc":null,"default_value":"","external_name":"nillable","restriction":""}],"args_string":"(pull, nillable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/converters.cr#L16","def":{"name":"from_db","args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":""},{"name":"nillable","doc":null,"default_value":"","external_name":"nillable","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if nillable\n  (pull.read(::Union(PG::Numeric, ::Nil))).try(&.to_f64)\nelse\n  (pull.read(PG::Numeric)).to_f64\nend"}},{"id":"from_hash(hash:Hash,column)-class-method","html_id":"from_hash(hash:Hash,column)-class-method","name":"from_hash","doc":null,"summary":null,"abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Hash"},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""}],"args_string":"(hash : Hash, column)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/converters.cr#L28","def":{"name":"from_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Hash"},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value = hash[column]\ncase value\nwhen PG::Numeric\n  value.to_f64\nelse\n  value\nend\n"}},{"id":"to_db(value:Float?)-class-method","html_id":"to_db(value:Float?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Float | ::Nil"}],"args_string":"(value : Float?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/converters.cr#L24","def":{"name":"to_db","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Float | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationDefinition","path":"Jennifer/Model/RelationDefinition.html","kind":"module","full_name":"Jennifer::Model::RelationDefinition","name":"RelationDefinition","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/relation_definition.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/relation_definition.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource","kind":"class","full_name":"Jennifer::Model::Resource","name":"Resource"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"append_relation(name:String,hash)-instance-method","html_id":"append_relation(name:String,hash)-instance-method","name":"append_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"args_string":"(name : String, hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/relation_definition.cr#L7","def":{"name":"append_relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(Jennifer::UnknownRelation.new(self.class, name))"}},{"id":"get_relation(name:String)-instance-method","html_id":"get_relation(name:String)-instance-method","name":"get_relation","doc":null,"summary":null,"abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/relation_definition.cr#L16","def":{"name":"get_relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"relation_retrieved(name:String)-instance-method","html_id":"relation_retrieved(name:String)-instance-method","name":"relation_retrieved","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/relation_definition.cr#L11","def":{"name":"relation_retrieved","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(Jennifer::UnknownRelation.new(self.class, name))"}},{"id":"set_inverse_of(name:String,object)-instance-method","html_id":"set_inverse_of(name:String,object)-instance-method","name":"set_inverse_of","doc":null,"summary":null,"abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""}],"args_string":"(name : String, object)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/relation_definition.cr#L15","def":{"name":"set_inverse_of","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[{"id":"belongs_to(name,klass,request=nil,foreign=nil,primary=nil,dependent=:none,polymorphic=false,foreign_type=nil)-macro","html_id":"belongs_to(name,klass,request=nil,foreign=nil,primary=nil,dependent=:none,polymorphic=false,foreign_type=nil)-macro","name":"belongs_to","doc":"Specifies a one-to-one association with another class.\n\nThis macro should only be used if this class contains the foreign key.\nIf the other class contains the foreign key, then you should use has_one instead.\n\nOptions:\n\n- *name* - relation name\n- *klass* - specify the class name of the association; in case of polymorphic relation use `Union(Class1 | Class2)` syntax\n- *request* - extra request scope to retrieve a specific set of records when access the associated collection\n(ATM only `WHERE` conditions are respected)\n- *foreign* - specify the foreign key used for the association\n- *primary* - specify the name of the column to use as the primary key for the relation\n- *dependent* - specify the destroy strategy of the associated objects when their owner is destroyed;\navailable options are: `destroy`, `delete`, `nullify` (exception is polymorphic relation), `restrict_with_exception`\n- *polymorphic* - specifies that this relation is a polymorphic\n- *foreign_type* - specify the column used to store  the associated object's type,\nif this is a polymorphic relation\n\nMethods will be added for retrieval and query for a single associated object, for which this object holds an id:\n\n`association` is a placeholder for the symbol passed as the `name` argument.\n\n- `.association_relation`\n- `#association`\n- `#association!`\n- `#append_association(rel)`\n- `#add_association(rel)`\n- `#remove_association`\n- `#association_query`\n- `#association_reload`\n\nPolymorphic relation also generates next methods\n\n- `#association_class_name` - returns casted related object to `ClassName`\n- `#association_class_name?` - returns whether related object is a `ClassName`","summary":"<p>Specifies a one-to-one association with another class.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"dependent","doc":null,"default_value":":none","external_name":"dependent","restriction":""},{"name":"polymorphic","doc":null,"default_value":"false","external_name":"polymorphic","restriction":""},{"name":"foreign_type","doc":null,"default_value":"nil","external_name":"foreign_type","restriction":""}],"args_string":"(name, klass, request = <span class=\"n\">nil</span>, foreign = <span class=\"n\">nil</span>, primary = <span class=\"n\">nil</span>, dependent = <span class=\"n\">:none</span>, polymorphic = <span class=\"n\">false</span>, foreign_type = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/relation_definition.cr#L423","def":{"name":"belongs_to","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"dependent","doc":null,"default_value":":none","external_name":"dependent","restriction":""},{"name":"polymorphic","doc":null,"default_value":"false","external_name":"polymorphic","restriction":""},{"name":"foreign_type","doc":null,"default_value":"nil","external_name":"foreign_type","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{{ \"{% RELATION_NAMES << #{name.id.stringify} %}\".id }}\n\n        ::Jennifer::Model::RelationDefinition.declare_dependent(\n{{ name }}\n, \n{{ dependent }}\n, :belongs_to, \n{{ polymorphic }}\n)\n\n        @[JSON::Field(ignore: true)]\n        @\n{{ name.id }}\n : \n{{ klass }}\n?\n        @[JSON::Field(ignore: true)]\n        @__\n{{ name.id }}\n_retrieved = false\n\n        def \n{{ name.id }}\n\n          if !@__\n{{ name.id }}\n_retrieved && @\n{{ name.id }}\n.nil? && !new_record?\n            @__\n{{ name.id }}\n_retrieved = true\n            @\n{{ name.id }}\n = \n{{ name.id }}\n_reload\n          \nend\n          @\n{{ name.id }}\n\n        \nend\n\n        \n# :nodoc:\n\n        def \n{{ name.id }}\n!\n          \n{{ name.id }}\n.not_nil!\n        \nend\n\n        \n# :nodoc:\n\n        def append_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = rel\n        \nend\n\n        \n# :nodoc:\n\n        def append_\n{{ name.id }}\n(rel : Jennifer::Model::Resource)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = rel.as(\n{{ klass }}\n)\n        \nend\n\n        \n# :nodoc:\n\n        def add_\n{{ name.id }}\n(rel : Hash)\n          @\n{{ name.id }}\n = \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n\n        \n# :nodoc:\n\n        def add_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @\n{{ name.id }}\n = \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n\n        \n# :nodoc:\n\n        def remove_\n{{ name.id }}\n\n          \n{{ @type }}\n.\n{{ name.id }}\n_relation.remove(self)\n          @\n{{ name.id }}\n = nil\n        \nend\n\n        \n{% if polymorphic %}\n          polymorphic_belongs_to({{ name }}, {{ klass }}, {{ request }}, {{ foreign }}, {{ foreign_type }}, {{ primary }},  {{ dependent }})\n        {% else %}\n          {% relation_class = \"::Jennifer::Relation::BelongsTo(#{klass}, #{@type})\".id %}\n\n          RELATIONS[\"{{ name.id }}\"] =\n            {{ relation_class }}.new(\"{{ name.id }}\", {{ foreign }}, {{ primary }}, {{ klass }}.all{% if request %}.exec {{ request }} {% end %})\n\n          # :nodoc:\n          def self.{{ name.id }}_relation\n            RELATIONS[\"{{ name.id }}\"].as({{ relation_class }})\n          end\n\n          # :nodoc:\n          def {{ name.id }}_query\n            foreign_field = {{ (foreign ? foreign : \"attribute(#{klass}.foreign_key_name)\").id }}\n            self.class.{{ name.id }}_relation.query(foreign_field).as(::Jennifer::QueryBuilder::ModelQuery({{ klass }}))\n          end\n\n          # :nodoc:\n          def {{ name.id }}_reload\n            @{{ name.id }} = {{ name.id }}_query.first.as({{ klass }}?)\n          end\n\n          # :nodoc:\n          def append_{{ name.id }}(rel : Hash)\n            @__{{ name.id }}_retrieved = true\n            @{{ name.id }} = {{ klass }}.new(rel, false)\n          end\n        {% end %}\n\n      \n"}},{"id":"has_and_belongs_to_many(name,klass,request=nil,foreign=nil,primary=nil,join_table=nil,association_foreign=nil)-macro","html_id":"has_and_belongs_to_many(name,klass,request=nil,foreign=nil,primary=nil,join_table=nil,association_foreign=nil)-macro","name":"has_and_belongs_to_many","doc":"Specifies a many-to-many relationship with another class.\n\nThis associates two classes via an intermediate join table. Unless the join table is explicitly specified as an option,\nit is guessed using the lexical order of the class names.\nSo a join between Developer and Project will give the default join table name of \"developers_projects\" because \"D\" precedes \"P\" alphabetically.\nNote that this precedence is calculated using the < operator for String. This means that if the strings are of different lengths, and\nthe strings are equal when compared up to the shortest length, then the longer string is considered of higher lexical precedence than the shorter one.\n\nOptions:\n\n- *name* - relation name\n- *klass* - specify the class name of the association\n- *request* - extra request scope to retrieve a specific set of records when access the associated collection\n(ATM only `WHERE` conditions are respected)\n- *foreign* - specify the foreign key used for the association\n- *primary* - specify the name of the column to use as the primary key for the relation\n- *join_table* - specifies the name of the join table if the default based on lexical order isn't what you want\n- *association_foreign* - specifies the foreign key used for the association on the receiving side of the association\n\nThe following methods for retrieval and query of a single associated object will be added:\n\n`association` is a placeholder for the symbol passed as the name argument.\n\n- `.association_relation`\n- `#association`\n- `#append_association(rel)`\n- `#add_association(rel)`\n- `#remove_association(rel)`\n- `#association_query`\n- `#association_reload`","summary":"<p>Specifies a many-to-many relationship with another class.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"association_foreign","doc":null,"default_value":"nil","external_name":"association_foreign","restriction":""}],"args_string":"(name, klass, request = <span class=\"n\">nil</span>, foreign = <span class=\"n\">nil</span>, primary = <span class=\"n\">nil</span>, join_table = <span class=\"n\">nil</span>, association_foreign = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/relation_definition.cr#L245","def":{"name":"has_and_belongs_to_many","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"association_foreign","doc":null,"default_value":"nil","external_name":"association_foreign","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{{ \"{% RELATION_NAMES << #{name.id.stringify} %}\".id }}\n\n        RELATIONS[\"\n{{ name.id }}\n\"] =\n          ::Jennifer::Relation::ManyToMany(\n{{ klass }}\n, \n{{ @type }}\n).new(\"\n{{ name.id }}\n\", \n{{ foreign }}\n, \n{{ primary }}\n,\n            \n{{ klass }}\n.all\n{% if request %}.exec {{ request }} {% end %}\n, \n{{ join_table }}\n, \n{{ association_foreign }}\n)\n\n        before_destroy :__\n{{ name.id }}\n_clean\n\n        \n# :nodoc:\n\n        def __\n{{ name.id }}\n_clean\n          relation = self.class.\n{{ name.id }}\n_relation\n          this = self\n          self.class.adapter.delete(::Jennifer::QueryBuilder::Query.new(relation.join_table!).where do\n            c(relation.foreign_field) == this.attribute(relation.primary_field)\n          \nend)\n        \nend\n\n        @[JSON::Field(ignore: true)]\n        @\n{{ name.id }}\n = [] of \n{{ klass }}\n\n        @[JSON::Field(ignore: true)]\n        @__\n{{ name.id }}\n_retrieved = false\n\n        private def set_\n{{ name.id }}\n_relation(object : Array)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = object\n        \nend\n\n        private def set_\n{{ name.id }}\n_relation(object)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n << object\n        \nend\n\n        \n# :nodoc:\n\n        def self.\n{{ name.id }}\n_relation\n          RELATIONS[\"\n{{ name.id }}\n\"].as(::Jennifer::Relation::ManyToMany(\n{{ klass }}\n, \n{{ @type }}\n))\n        \nend\n\n        \n# :nodoc:\n\n        def \n{{ name.id }}\n_query\n          primary_field = \n{% if primary %} {{ primary.id }} {% else %} primary {% end %}\n\n          RELATIONS[\"\n{{ name.id }}\n\"].query(primary_field).as(::Jennifer::QueryBuilder::ModelQuery(\n{{ klass }}\n))\n        \nend\n\n        def \n{{ name.id }}\n\n          if !@__\n{{ name.id }}\n_retrieved && @\n{{ name.id }}\n.empty? && !new_record?\n            set_\n{{ name.id }}\n_relation(\n{{ name.id }}\n_query.to_a.as(Array(\n{{ klass }}\n)))\n          \nend\n          @\n{{ name.id }}\n\n        \nend\n\n        \n# :nodoc:\n\n        def append_\n{{ name.id }}\n(rel : Hash)\n          obj = \n{{ klass }}\n.new(rel, false)\n          set_\n{{ name.id }}\n_relation(obj)\n          obj\n        \nend\n\n        \n# :nodoc:\n\n        def append_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          set_\n{{ name.id }}\n_relation(rel)\n          rel\n        \nend\n\n        \n# :nodoc:\n\n        def append_\n{{ name.id }}\n(rel : Jennifer::Model::Resource)\n          set_\n{{ name.id }}\n_relation(rel.as(\n{{ klass }}\n))\n          rel\n        \nend\n\n        \n# :nodoc:\n\n        def remove_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          index = @\n{{ name.id }}\n.index \n{ |e| \ne.primary == rel.primary }\n          if index\n            \n{{ @type }}\n.\n{{ name.id }}\n_relation.remove(self, rel)\n            @\n{{ name.id }}\n.delete_at(index)\n          \nend\n          rel\n        \nend\n\n        \n# :nodoc:\n\n        def add_\n{{ name.id }}\n(rel : Hash)\n          @\n{{ name.id }}\n << \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n\n        \n# :nodoc:\n\n        def add_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @\n{{ name.id }}\n << \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n\n        \n# :nodoc:\n\n        def \n{{ name.id }}\n_reload\n          @\n{{ name.id }}\n = \n{{ name.id }}\n_query.to_a.as(Array(\n{{ klass }}\n))\n        \nend\n      \n"}},{"id":"has_many(name,klass,request=nil,foreign=nil,foreign_type=nil,primary=nil,dependent=:nullify,inverse_of=nil,polymorphic=false)-macro","html_id":"has_many(name,klass,request=nil,foreign=nil,foreign_type=nil,primary=nil,dependent=:nullify,inverse_of=nil,polymorphic=false)-macro","name":"has_many","doc":"Specifies a one-to-many association.\n\nOptions:\n\n- *name* - relation name\n- *klass* - specify the class name of the association\n- *request* - extra request scope to retrieve a specific set of records when access the associated collection\n(ATM only `WHERE` conditions are respected)\n- *foreign* - specify the foreign key used for the association\n- *foreign_type* - specify the column used to store  the associated object's type,\nif this is a polymorphic relation\n- *primary* - specify the name of the column to use as the primary key for the relation\n- *dependent* - specify the destroy strategy of the associated objects when their owner is destroyed;\navailable options are: `destroy`, `delete`, `nullify`, `restrict_with_exception`\n- *inverse_of* - specifies the name of the `belongs_to` relation on the associated object that is the inverse of this relation;\nrequired for polymorphic relation\n- *polymorphic* - specifies that this relation is a polymorphic\n\nThe following methods for retrieval and query of a single associated object will be added:\n\n`association` is a placeholder for the symbol passed as the name argument.\n\n- `.association_relation` - returns `association` relation\n- `#association` - returns array of related objects\n- `#append_association(rel)` - builds related object from hash (or use given instance) and adds to relation\n- `#add_association(rel)` - insert given object to db and relation; doesn't support `inverse_of` option\n- `#remove_association(rel)` - removes given object from relation array\n- `#association_query` - returns `association` relation query for the object\n- `#association_reload` - reloads related objects from the DB.","summary":"<p>Specifies a one-to-many association.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"foreign_type","doc":null,"default_value":"nil","external_name":"foreign_type","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"dependent","doc":null,"default_value":":nullify","external_name":"dependent","restriction":""},{"name":"inverse_of","doc":null,"default_value":"nil","external_name":"inverse_of","restriction":""},{"name":"polymorphic","doc":null,"default_value":"false","external_name":"polymorphic","restriction":""}],"args_string":"(name, klass, request = <span class=\"n\">nil</span>, foreign = <span class=\"n\">nil</span>, foreign_type = <span class=\"n\">nil</span>, primary = <span class=\"n\">nil</span>, dependent = <span class=\"n\">:nullify</span>, inverse_of = <span class=\"n\">nil</span>, polymorphic = <span class=\"n\">false</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/relation_definition.cr#L118","def":{"name":"has_many","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"foreign_type","doc":null,"default_value":"nil","external_name":"foreign_type","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"dependent","doc":null,"default_value":":nullify","external_name":"dependent","restriction":""},{"name":"inverse_of","doc":null,"default_value":"nil","external_name":"inverse_of","restriction":""},{"name":"polymorphic","doc":null,"default_value":"false","external_name":"polymorphic","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{{ \"{% RELATION_NAMES << #{name.id.stringify} %}\".id }}\n\n        ::Jennifer::Model::RelationDefinition.declare_dependent(\n{{ name }}\n, \n{{ dependent }}\n, :has_many, \n{{ polymorphic }}\n)\n\n        RELATIONS[\"\n{{ name.id }}\n\"] =\n          \n{% if polymorphic %}\n            {% relation_class = \"::Jennifer::Relation::PolymorphicHasMany(#{klass}, #{@type})\".id %}\n            {% if inverse_of.nil? %} {% raise(\"`inverse_of` is required for a polymorphic has_many relation.\") %} {% end %}\n            {{ relation_class }}.new(\"{{ name.id }}\", {{ foreign }}, {{ primary }},\n              {{ klass }}.all{% if request %}.exec {{ request }} {% end %}, foreign_type: {{ foreign_type }}, inverse_of: {{ inverse_of }})\n          {% else %}\n            {% relation_class = \"::Jennifer::Relation::HasMany(#{klass}, #{@type})\".id %}\n            {{ relation_class }}.new(\"{{ name.id }}\", {{ foreign }}, {{ primary }},\n            {{ klass }}.all{% if request %}.exec {{ request }} {% end %})\n          {% end %}\n\n        @[JSON::Field(ignore: true)]\n        @\n{{ name.id }}\n = [] of \n{{ klass }}\n\n        @[JSON::Field(ignore: true)]\n        @__\n{{ name.id }}\n_retrieved = false\n\n        private def set_\n{{ name.id }}\n_relation(collection : Array)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = collection\n          \n{% if inverse_of %} collection.each(&.append_{{ inverse_of.id }}(self)) {% end %}\n\n        \nend\n\n        private def set_\n{{ name.id }}\n_relation(object)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n << object\n          \n{% if inverse_of %} object.append_{{ inverse_of.id }}(self) {% end %}\n\n        \nend\n\n        \n# :nodoc:\n\n        def self.\n{{ name.id }}\n_relation\n          RELATIONS[\"\n{{ name.id }}\n\"].as(\n{{ relation_class }}\n)\n        \nend\n\n        \n# :nodoc:\n\n        def \n{{ name.id }}\n_query\n          primary_value = \n{{ primary ? primary.id : \"primary\".id }}\n\n          \n{{ @type }}\n.\n{{ name.id }}\n_relation.query(primary_value).as(::Jennifer::QueryBuilder::ModelQuery(\n{{ klass }}\n))\n        \nend\n\n        \n# :nodoc:\n\n        def \n{{ name.id }}\n\n          if !@__\n{{ name.id }}\n_retrieved && @\n{{ name.id }}\n.empty? && !new_record?\n            set_\n{{ name.id }}\n_relation(\n{{ name.id }}\n_query.to_a.as(Array(\n{{ klass }}\n)))\n          \nend\n          @\n{{ name.id }}\n\n        \nend\n\n        \n# :nodoc:\n\n        def append_\n{{ name.id }}\n(rel : Hash)\n          obj = \n{{ klass }}\n.new(rel, false)\n          set_\n{{ name.id }}\n_relation(obj)\n          obj\n        \nend\n\n        \n# :nodoc:\n\n        def append_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          set_\n{{ name.id }}\n_relation(rel)\n          rel\n        \nend\n\n        \n# :nodoc:\n\n        def append_\n{{ name.id }}\n(rel : Jennifer::Model::Resource)\n          obj = rel.as(\n{{ klass }}\n)\n          set_\n{{ name.id }}\n_relation(obj)\n          obj\n        \nend\n\n        \n# :nodoc:\n\n        def remove_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          index = @\n{{ name.id }}\n.index \n{ |e| \ne.primary == rel.primary }\n          if index\n            \n{{ @type }}\n.\n{{ name.id }}\n_relation.remove(self, rel)\n            @\n{{ name.id }}\n.delete_at(index)\n          \nend\n          rel\n        \nend\n\n        \n# :nodoc:\n\n        def add_\n{{ name.id }}\n(rel : Hash)\n          @\n{{ name.id }}\n << \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel).as(\n{{ klass }}\n)\n        \nend\n\n        \n# :nodoc:\n\n        def add_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @\n{{ name.id }}\n << \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n\n        \n# :nodoc:\n\n        def \n{{ name.id }}\n_reload\n          @\n{{ name.id }}\n = \n{{ name.id }}\n_query.to_a.as(Array(\n{{ klass }}\n))\n        \nend\n      \n"}},{"id":"has_one(name,klass,request=nil,foreign=nil,foreign_type=nil,primary=nil,dependent=:nullify,inverse_of=nil,polymorphic=false)-macro","html_id":"has_one(name,klass,request=nil,foreign=nil,foreign_type=nil,primary=nil,dependent=:nullify,inverse_of=nil,polymorphic=false)-macro","name":"has_one","doc":"Specifies a one-to-one association with another class.\n\nThis macro should only be used if the other class contains the foreign key.\nIf the current class contains the foreign key, then you should use belongs_to instead.\n\nOptions:\n\n- *name* - relation name\n- *klass* - specify the class name of the association\n- *request* - extra request scope to retrieve a specific set of records when access the associated collection\n(ATM only `WHERE` conditions are respected)\n- *foreign* - specify the foreign key used for the association\n- *foreign_type* - specify the column used to store  the associated object's type,\nif this is a polymorphic relation\n- *primary* - specify the name of the column to use as the primary key for the relation\n- *dependent* - specify the destroy strategy of the associated objects when their owner is destroyed;\navailable options are: `destroy`, `delete`, `nullify`, `restrict_with_exception`\n- *inverse_of* - specifies the name of the `belongs_to` relation on the associated object that is the inverse of this relation;\nrequired for polymorphic relation\n- *polymorphic* - specifies that this relation is a polymorphic\n\nThe following methods for retrieval and query of a single associated object will be added:\n\n`association` is a placeholder for the symbol passed as the name argument.\n\n- `.association_relation`\n- `#association`\n- `#association!`\n- `#append_association(rel)`\n- `#add_association(rel)`\n- `#remove_association`\n- `#association_query`\n- `#association_reload`","summary":"<p>Specifies a one-to-one association with another class.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"foreign_type","doc":null,"default_value":"nil","external_name":"foreign_type","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"dependent","doc":null,"default_value":":nullify","external_name":"dependent","restriction":""},{"name":"inverse_of","doc":null,"default_value":"nil","external_name":"inverse_of","restriction":""},{"name":"polymorphic","doc":null,"default_value":"false","external_name":"polymorphic","restriction":""}],"args_string":"(name, klass, request = <span class=\"n\">nil</span>, foreign = <span class=\"n\">nil</span>, foreign_type = <span class=\"n\">nil</span>, primary = <span class=\"n\">nil</span>, dependent = <span class=\"n\">:nullify</span>, inverse_of = <span class=\"n\">nil</span>, polymorphic = <span class=\"n\">false</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/relation_definition.cr#L538","def":{"name":"has_one","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"foreign_type","doc":null,"default_value":"nil","external_name":"foreign_type","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"dependent","doc":null,"default_value":":nullify","external_name":"dependent","restriction":""},{"name":"inverse_of","doc":null,"default_value":"nil","external_name":"inverse_of","restriction":""},{"name":"polymorphic","doc":null,"default_value":"false","external_name":"polymorphic","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{{ \"{% RELATION_NAMES << #{name.id.stringify} %}\".id }}\n\n        ::Jennifer::Model::RelationDefinition.declare_dependent(\n{{ name }}\n, \n{{ dependent }}\n, :has_one)\n\n        RELATIONS[\"\n{{ name.id }}\n\"] =\n          \n{% if polymorphic %}\n            {% relation_class = \"::Jennifer::Relation::PolymorphicHasOne(#{klass}, #{@type})\".id %}\n            {% if inverse_of.nil? %} {% raise(\"`inverse_of` is required for a polymorphic has_many relation.\") %} {% end %}\n            {{ relation_class }}.new(\"{{ name.id }}\", {{ foreign }}, {{ primary }},\n              {{ klass }}.all{% if request %}.exec {{ request }} {% end %}, foreign_type: {{ foreign_type }}, inverse_of: {{ inverse_of }})\n          {% else %}\n            {% relation_class = \"::Jennifer::Relation::HasOne(#{klass}, #{@type})\".id %}\n            {{ relation_class }}.new(\"{{ name.id }}\", {{ foreign }}, {{ primary }},\n            {{ klass }}.all{% if request %}.exec {{ request }} {% end %})\n          {% end %}\n\n\n        @[JSON::Field(ignore: true)]\n        @\n{{ name.id }}\n : \n{{ klass }}\n?\n        @[JSON::Field(ignore: true)]\n        @__\n{{ name.id }}\n_retrieved = false\n\n        private def set_\n{{ name.id }}\n_relation(object)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = object\n          \n{% if inverse_of %}\n            object.not_nil!.append_{{ inverse_of.id }}(self) if object\n          {% end %}\n\n        \nend\n\n        \n# :nodoc:\n\n        def self.\n{{ name.id }}\n_relation\n          RELATIONS[\"\n{{ name.id }}\n\"].as(\n{{ relation_class }}\n)\n        \nend\n\n        def \n{{ name.id }}\n\n          if !@__\n{{ name.id }}\n_retrieved && @\n{{ name.id }}\n.nil? && !new_record?\n            set_\n{{ name.id }}\n_relation(\n{{ name.id }}\n_reload)\n          \nend\n          @\n{{ name.id }}\n\n        \nend\n\n        \n# :nodoc:\n\n        def \n{{ name.id }}\n!\n          \n{{ name.id }}\n.not_nil!\n        \nend\n\n        \n# :nodoc:\n\n        def \n{{ name.id }}\n_query\n          primary_field = \n{{ (primary ? primary : \"primary\").id }}\n\n          self.class.\n{{ name.id }}\n_relation.query(primary_field).as(::Jennifer::QueryBuilder::ModelQuery(\n{{ klass }}\n))\n        \nend\n\n        \n# :nodoc:\n\n        def \n{{ name.id }}\n_reload\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = \n{{ name.id }}\n_query.first.as(\n{{ klass }}\n?)\n        \nend\n\n        \n# :nodoc:\n\n        def append_\n{{ name.id }}\n(rel : Hash)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = \n{{ klass }}\n.new(rel, false)\n        \nend\n\n        \n# :nodoc:\n\n        def append_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = rel\n        \nend\n\n        \n# :nodoc:\n\n        def append_\n{{ name.id }}\n(rel : Jennifer::Model::Resource)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = rel.as(\n{{ klass }}\n)\n        \nend\n\n        \n# :nodoc:\n\n        def remove_\n{{ name.id }}\n\n          \n{{ @type }}\n.\n{{ name.id }}\n_relation.remove(self)\n          @\n{{ name.id }}\n = nil\n        \nend\n\n        \n# :nodoc:\n\n        def add_\n{{ name.id }}\n(rel : Hash)\n          @\n{{ name.id }}\n = \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n\n        \n# :nodoc:\n\n        def add_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @\n{{ name.id }}\n = \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource","path":"Jennifer/Model/Resource.html","kind":"class","full_name":"Jennifer::Model::Resource","name":"Resource","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Macros","kind":"module","full_name":"Jennifer::Macros","name":"Macros"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationDefinition","kind":"module","full_name":"Jennifer::Model::RelationDefinition","name":"RelationDefinition"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Translation","kind":"module","full_name":"Jennifer::Model::Translation","name":"Translation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/model/resource.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Macros","kind":"module","full_name":"Jennifer::Macros","name":"Macros"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationDefinition","kind":"module","full_name":"Jennifer::Model::RelationDefinition","name":"RelationDefinition"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Translation","kind":"module","full_name":"Jennifer::Model::Translation","name":"Translation"}],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource/AbstractClassMethods","kind":"module","full_name":"Jennifer::Model::Resource::AbstractClassMethods","name":"AbstractClassMethods"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Translation/ClassMethods","kind":"module","full_name":"Jennifer::Model::Translation::ClassMethods","name":"ClassMethods"}],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Base","kind":"class","full_name":"Jennifer::View::Base","name":"Base"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":"Base abstract class for a database entity.","summary":"<p>Base abstract class for a database entity.</p>","class_methods":[{"id":"adapter-class-method","html_id":"adapter-class-method","name":"adapter","doc":"Returns adapter instance.","summary":"<p>Returns adapter instance.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L164","def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter"}},{"id":"all-class-method","html_id":"all-class-method","name":"all","doc":"Implementation of `AbstractClassMethods.all`.\n\n```\nUser.all.where { _name == \"John\" }\n```","summary":"<p>Implementation of <code><a href=\"../../Jennifer/Model/Resource/AbstractClassMethods.html#all-instance-method\">AbstractClassMethods.all</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L182","def":{"name":"all","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n          QueryBuilder::ModelQuery({{ @type }}).build(table_name)\n        {% end %}"}},{"id":"build(values:Hash(Symbol,Jennifer::DBAny)|NamedTuple)-class-method","html_id":"build(values:Hash(Symbol,Jennifer::DBAny)|NamedTuple)-class-method","name":"build","doc":"Alias for `.new`.","summary":"<p>Alias for <code>.new</code>.</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(Symbol, ::Jennifer::DBAny) | NamedTuple"}],"args_string":"(values : Hash(Symbol, Jennifer::DBAny) | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L131","def":{"name":"build","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(Symbol, ::Jennifer::DBAny) | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new(values)"}},{"id":"build(values:Hash(String,Jennifer::DBAny))-class-method","html_id":"build(values:Hash(String,Jennifer::DBAny))-class-method","name":"build","doc":"Alias for `.new`.","summary":"<p>Alias for <code>.new</code>.</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"args_string":"(values : Hash(String, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L136","def":{"name":"build","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new(values)"}},{"id":"build(**values)-class-method","html_id":"build(**values)-class-method","name":"build","doc":"Alias for `.new`.","summary":"<p>Alias for <code>.new</code>.</p>","abstract":false,"args":[],"args_string":"(**values)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L141","def":{"name":"build","args":[],"double_splat":{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new(values)"}},{"id":"c(name:String|Symbol,relation)-class-method","html_id":"c(name:String|Symbol,relation)-class-method","name":"c","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"args_string":"(name : String | Symbol, relation)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L224","def":{"name":"c","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"QueryBuilder::Criteria.new(name.to_s, table_name, relation)"}},{"id":"c(name:String|Symbol)-class-method","html_id":"c(name:String|Symbol)-class-method","name":"c","doc":"Returns criterion for column *name* of resource's table.\n\n```\nUser.c(:email) # => users.email\n```","summary":"<p>Returns criterion for column <em>name</em> of resource's table.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L220","def":{"name":"c","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"context.c(name.to_s)"}},{"id":"context-class-method","html_id":"context-class-method","name":"context","doc":"Returns `QueryBuilder::ExpressionBuilder` object of this resource's table.\n\n```\nUser.context.sql(\"ABS(1.2)\")\n```","summary":"<p>Returns <code><a href=\"../../Jennifer/QueryBuilder/ExpressionBuilder.html\">QueryBuilder::ExpressionBuilder</a></code> object of this resource's table.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L173","def":{"name":"context","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@expression_builder || (@@expression_builder = QueryBuilder::ExpressionBuilder.new(table_name))"}},{"id":"relation(name)-class-method","html_id":"relation(name)-class-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L237","def":{"name":"relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(UnknownRelation.new(self, name))"}},{"id":"star-class-method","html_id":"star-class-method","name":"star","doc":"Returns star field statement for current resource's table.\n\n```\nUser.star # => users.*\n```","summary":"<p>Returns star field statement for current resource's table.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L233","def":{"name":"star","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"context.star"}},{"id":"table_name(value:String|Symbol)-class-method","html_id":"table_name(value:String|Symbol)-class-method","name":"table_name","doc":"Sets custom table name.","summary":"<p>Sets custom table name.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String | Symbol"}],"args_string":"(value : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L146","def":{"name":"table_name","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@table_name = value.to_s\n@@actual_table_field_count = nil\n@@has_table = nil\n"}},{"id":"table_name:String-class-method","html_id":"table_name:String-class-method","name":"table_name","doc":"Returns resource's table name.","summary":"<p>Returns resource's table name.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L153","def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@@table_name || (@@table_name = (begin\n  name = \"\"\n  class_name = Inflector.demodulize(to_s)\n  if self.responds_to?(:table_prefix)\n    name = self.table_prefix\n  end\n  Inflector.pluralize(name + class_name.underscore)\nend))"}},{"id":"transaction(&block)-class-method","html_id":"transaction(&amp;block)-class-method","name":"transaction","doc":"Starts database transaction.\n\nFor more details see `Jennifer::Adapter::Transactions`.\n\n```\nUser.transaction do\n  Post.create\nend\n```","summary":"<p>Starts database transaction.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L209","def":{"name":"transaction","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.transaction do |t|\n  yield t\nend"}},{"id":"where(&block)-class-method","html_id":"where(&amp;block)-class-method","name":"where","doc":"Is a shortcut for `.all.where` call.\n\n```\nUser.where { _name == \"John\" }\n```","summary":"<p>Is a shortcut for <code><a href=\"../../Jennifer/Model/Resource.html#all-class-method\">.all</a><a href=\"../../Jennifer/Model/Resource.html#where(&block)-class-method\">.where</a></code> call.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L193","def":{"name":"where","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"ac = all\ntree = with ac.expression_builder yield ac.expression_builder\nac.set_tree(tree)\nac\n"}}],"constructors":[],"instance_methods":[{"id":"append_relation(name:String,hash)-instance-method","html_id":"append_relation(name:String,hash)-instance-method","name":"append_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"args_string":"(name : String, hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L241","def":{"name":"append_relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(Jennifer::UnknownRelation.new(self.class, name))"}},{"id":"attribute(name,raise_exception:Bool=true)-instance-method","html_id":"attribute(name,raise_exception:Bool=true)-instance-method","name":"attribute","doc":"Returns value of attribute *name*.\n\nIt method doesn't invoke getter. If no attribute with given name is found - `BaseException`\nis raised. To prevent this and return `nil` instead - pass `false` for *raise_exception*.\n\n```\ncontact.attribute(:name)          # => Jennifer::DBAny\ncontact.attribute(\"age\")          # => Jennifer::DBAny\ncontact.attribute(:salary)        # => Jennifer::BaseException is raised\ncontact.attribute(:salary, false) # => nil\n```","summary":"<p>Returns value of attribute <em>name</em>.</p>","abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"raise_exception","doc":null,"default_value":"true","external_name":"raise_exception","restriction":"Bool"}],"args_string":"(name, raise_exception : Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L264","def":{"name":"attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"raise_exception","doc":null,"default_value":"true","external_name":"raise_exception","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"get_relation(name:String)-instance-method","html_id":"get_relation(name:String)-instance-method","name":"get_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L249","def":{"name":"get_relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(Jennifer::UnknownRelation.new(self.class, name))"}},{"id":"inspect(io):Nil-instance-method","html_id":"inspect(io):Nil-instance-method","name":"inspect","doc":"Returns a string containing a human-readable representation of object.\n\n```\nAddress.new.inspect\n# => \"#<Address:0x7f532bdd5340 id: nil, street: \"Ant st. 69\", contact_id: nil, created_at: nil, updated_at: nil>\"\n```","summary":"<p>Returns a string containing a human-readable representation of object.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io) : Nil","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L118","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"((io << \"#<\") << ({{ @type.name.id.stringify }})) << \":0x\"\nobject_id.to_s(16, io)\ninspect_attributes(io)\nio << '>'\nnil\n"}},{"id":"primary-instance-method","html_id":"primary-instance-method","name":"primary","doc":"Returns value of primary field\n\nIs generated by `.mapping` macro.","summary":"<p>Returns value of primary field</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L269","def":{"name":"primary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"set_inverse_of(name:String,object)-instance-method","html_id":"set_inverse_of(name:String,object)-instance-method","name":"set_inverse_of","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""}],"args_string":"(name : String, object)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L245","def":{"name":"set_inverse_of","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(Jennifer::UnknownRelation.new(self.class, name))"}},{"id":"to_h-instance-method","html_id":"to_h-instance-method","name":"to_h","doc":"Returns hash with model attributes; keys are symbols.\n\nIs generated by `.mapping` macro.\n\n```\ncontact.to_h # => { name: \"Jennifer\", age: 2 }\n```","summary":"<p>Returns hash with model attributes; keys are symbols.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L278","def":{"name":"to_h","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"to_str_h-instance-method","html_id":"to_str_h-instance-method","name":"to_str_h","doc":"Returns hash with model attributes; keys are strings.\n\nIs generated by `.mapping` macro.\n\n```\ncontact.to_h # => { \"name\" => \"Jennifer\", \"age\" => 2 }\n```","summary":"<p>Returns hash with model attributes; keys are strings.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L287","def":{"name":"to_str_h","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource/AbstractClassMethods","path":"Jennifer/Model/Resource/AbstractClassMethods.html","kind":"module","full_name":"Jennifer::Model::Resource::AbstractClassMethods","name":"AbstractClassMethods","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/resource.cr","line_number":10,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource","kind":"class","full_name":"Jennifer::Model::Resource","name":"Resource"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"actual_table_field_count-instance-method","html_id":"actual_table_field_count-instance-method","name":"actual_table_field_count","doc":"Returns table column counts grepped from the database.","summary":"<p>Returns table column counts grepped from the database.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L18","def":{"name":"actual_table_field_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"all-instance-method","html_id":"all-instance-method","name":"all","doc":"Returns `Jennifer::QueryBuilder::ModelQuery(T)`.\n\nThis method is an entry point for writing query to your resource.\n\n```\nAddress.all\n  .where { _street.like(\"%St. Paul%\") }\n  .union(\n    Profile.all\n      .where { _login.in([\"login1\", \"login2\"]) }\n      .select(:contact_id)\n  )\n  .select(:contact_id)\n  .results\n```","summary":"<p>Returns <code><a href=\"../../../Jennifer/QueryBuilder/ModelQuery.html\">Jennifer::QueryBuilder::ModelQuery</a>(T)</code>.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L38","def":{"name":"all","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"build(values,new_record:Bool)-instance-method","html_id":"build(values,new_record:Bool)-instance-method","name":"build","doc":null,"summary":null,"abstract":true,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":"Bool"}],"args_string":"(values, new_record : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L11","def":{"name":"build","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"build-instance-method","html_id":"build-instance-method","name":"build","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L12","def":{"name":"build","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"columns_tuple-instance-method","html_id":"columns_tuple-instance-method","name":"columns_tuple","doc":"Returns named tuple of column metadata\n\nIs generated by `.mapping` macro.","summary":"<p>Returns named tuple of column metadata</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L76","def":{"name":"columns_tuple","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"field_count-instance-method","html_id":"field_count-instance-method","name":"field_count","doc":"Returns field count.\n\nIs generated by `.mapping` macro.","summary":"<p>Returns field count.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L66","def":{"name":"field_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"field_names:Array(String)-instance-method","html_id":"field_names:Array(String)-instance-method","name":"field_names","doc":"Returns array of field names\n\nIs generated by `.mapping` macro.","summary":"<p>Returns array of field names</p>","abstract":true,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L71","def":{"name":"field_names","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":""}},{"id":"new(values:Hash(Symbol,Jennifer::DBAny)|NamedTuple)-instance-method","html_id":"new(values:Hash(Symbol,Jennifer::DBAny)|NamedTuple)-instance-method","name":"new","doc":"Accepts symbol hash or named tuple, stringifies it and calls constructor with string-based keys hash.\n\nIt calls `after_initialize` callbacks.\n\n```\nUser.new({ :name => \"John Smith\" })\nUser.new({ name: \"John Smith\" })\n```","summary":"<p>Accepts symbol hash or named tuple, stringifies it and calls constructor with string-based keys hash.</p>","abstract":true,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(Symbol, ::Jennifer::DBAny) | NamedTuple"}],"args_string":"(values : Hash(Symbol, Jennifer::DBAny) | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L86","def":{"name":"new","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(Symbol, ::Jennifer::DBAny) | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"new(values:Hash(String,Jennifer::DBAny))-instance-method","html_id":"new(values:Hash(String,Jennifer::DBAny))-instance-method","name":"new","doc":"Creates object based on given string hash.\n\nIt calls `after_initialize` callbacks.\n\n```\nUser.new({ \"name\" => \"John Smith\" })\n```","summary":"<p>Creates object based on given string hash.</p>","abstract":true,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"args_string":"(values : Hash(String, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L95","def":{"name":"new","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"primary-instance-method","html_id":"primary-instance-method","name":"primary","doc":"Returns criterion for the resource primary field.\n\nIs generated by `.mapping` macro.\n\n```\nUser.primary.inspect # => #<Jennifer::QueryBuilder::Criteria:0x0 @field=\"id\", @table=\"users\">\n```","summary":"<p>Returns criterion for the resource primary field.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L61","def":{"name":"primary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"primary_field_name-instance-method","html_id":"primary_field_name-instance-method","name":"primary_field_name","doc":"Returns primary field name.","summary":"<p>Returns primary field name.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L21","def":{"name":"primary_field_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"relation(name)-instance-method","html_id":"relation(name)-instance-method","name":"relation","doc":"Returns relation instance by given name.","summary":"<p>Returns relation instance by given name.</p>","abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L15","def":{"name":"relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"superclass-instance-method","html_id":"superclass-instance-method","name":"superclass","doc":"Returns superclass for the current class.\n\n```\nclass A < Jennifer::Model::Base\n  # ...\nend\n\nclass B < A\nend\n\nB.superclass # => A\n```","summary":"<p>Returns superclass for the current class.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/resource.cr#L52","def":{"name":"superclass","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","path":"Jennifer/Model/Scoping.html","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/scoping.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/scoping.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource","kind":"class","full_name":"Jennifer::Model::Resource","name":"Resource"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"scope(name,&block)-macro","html_id":"scope(name,&amp;block)-macro","name":"scope","doc":"Adds a class method for retrieving and querying objects.\n\nA `.scope` presents a narrowing of a database query, such as\n`where { _color == \"red\" }.includes(:washing_instructions)`.\n\n```\nclass Shirt < Jennifer::Model::Base\n  # ...\n  scope :red, { where { _color == \"red\" } }\nend\n```","summary":"<p>Adds a class method for retrieving and querying objects.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/scoping.cr#L15","def":{"name":"scope","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""},"visibility":"Public","body":"        \n{% underscored_arg_list = (block.args.map(&.stringify).map do |e|\n  \"__\" + e\nend.join(\", \")).id %}\n\n        \n# :nodoc:\n\n        class Jennifer::QueryBuilder::ModelQuery(T)\n          def \n{{ name.id }}\n(\n{{ block.args.splat }}\n)\n            \n# NOTE: this is workaround for #responds_to?\n\n            klass = T\n            if klass.responds_to?(:\n{{ name.id }}\n)\n              klass.\n{{ name.id }}\n(self, \n{{ block.args.splat }}\n)\n            \nelse\n              raise Jennifer::BaseException.new(\"#{T} class has no \n{{ name.id }}\n scope.\")\n            \nend\n          \nend\n        \nend\n\n        def self.\n{{ name.id }}\n(\n{{ underscored_arg_list }}\n)\n          \n{{ name.id }}\n(all\n{% if !block.args.empty? %}, {{ underscored_arg_list }} {% end %}\n)\n        \nend\n\n        \n# :nodoc:\n\n        def self.\n{{ name.id }}\n(_query : ::Jennifer::QueryBuilder::ModelQuery(\n{{ @type }}\n)\n{% if !block.args.empty? %}, {{ underscored_arg_list }} {% end %}\n)\n          \n{% if !block.args.empty? %}\n            {{ block.args.splat }} = {{ underscored_arg_list }}\n          {% end %}\n\n          _query.exec \n{ \n{{ block.body }}\n }\n        \nend\n      \n"}},{"id":"scope(name,klass)-macro","html_id":"scope(name,klass)-macro","name":"scope","doc":"Adds a class method for retrieving and querying objects.\n\nA `.scope` presents a narrowing of a database query, such as `where { _color == \"red\" }.includes(:washing_instructions)`.\n\n```\nclass Shirt < Jennifer::Model::Base\n  # ...\n  scope :red, { where { _color == \"red\" } }\nend\n```","summary":"<p>Adds a class method for retrieving and querying objects.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(name, klass)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/scoping.cr#L53","def":{"name":"scope","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n# :nodoc:\n\n        class Jennifer::QueryBuilder::ModelQuery(T)\n          def \n{{ name.id }}\n(*args)\n            klass = T\n            if klass.responds_to?(:\n{{ name.id }}\n)\n              klass.\n{{ name.id }}\n(self, *args)\n            \nelse\n              raise Jennifer::BaseException.new(\"#{T} class has no \n{{ name.id }}\n scope.\")\n            \nend\n          \nend\n        \nend\n\n        \n# :nodoc:\n\n        def self.\n{{ name.id }}\n(_query : ::Jennifer::QueryBuilder::ModelQuery(\n{{ @type }}\n), *args)\n          \n{{ klass }}\n.new(_query, *args).call\n        \nend\n\n        def self.\n{{ name.id }}\n(*args)\n          \n{{ name.id }}\n(all, *args)\n        \nend\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Translation","path":"Jennifer/Model/Translation.html","kind":"module","full_name":"Jennifer::Model::Translation","name":"Translation","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/translation.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"GLOBAL_SCOPE","name":"GLOBAL_SCOPE","value":"\"jennifer\"","doc":"Default global translation scope.","summary":"<p>Default global translation scope.</p>"}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource","kind":"class","full_name":"Jennifer::Model::Resource","name":"Resource"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":"Includes localization methods.\n\nDepends of parent class `::lookup_ancestors` and `::i18n_scope` methods.","summary":"<p>Includes localization methods.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"human_attribute_name(attribute:String|Symbol)-instance-method","html_id":"human_attribute_name(attribute:String|Symbol)-instance-method","name":"human_attribute_name","doc":null,"summary":null,"abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"String | Symbol"}],"args_string":"(attribute : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr#L67","def":{"name":"human_attribute_name","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.class.human_attribute_name(attribute)"}},{"id":"lookup_ancestors(&block)-instance-method","html_id":"lookup_ancestors(&amp;block)-instance-method","name":"lookup_ancestors","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr#L63","def":{"name":"lookup_ancestors","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"self.class.lookup_ancestors do |ancestor|\n  yield ancestor\nend"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Translation/ClassMethods","path":"Jennifer/Model/Translation/ClassMethods.html","kind":"module","full_name":"Jennifer::Model::Translation::ClassMethods","name":"ClassMethods","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/translation.cr","line_number":10,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Translation","kind":"module","full_name":"Jennifer::Model::Translation","name":"Translation"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"human(count=nil)-instance-method","html_id":"human(count=nil)-instance-method","name":"human","doc":"Returns localized model name.","summary":"<p>Returns localized model name.</p>","abstract":false,"args":[{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":""}],"args_string":"(count = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr#L26","def":{"name":"human","args":[{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"prefix = \"#{GLOBAL_SCOPE}.#{i18n_scope}.\"\nlookup_ancestors do |ancestor|\n  path = prefix + ancestor.i18n_key\n  if I18n.exists?(path, count: count)\n    return I18n.translate(path, count: count)\n  end\nend\nname = Inflector.humanize(i18n_key)\nif count && count > 1\n  name = Inflector.pluralize(name)\nend\nname\n"}},{"id":"human_attribute_name(attribute:String|Symbol)-instance-method","html_id":"human_attribute_name(attribute:String|Symbol)-instance-method","name":"human_attribute_name","doc":"Search translation for given attribute.","summary":"<p>Search translation for given attribute.</p>","abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"String | Symbol"}],"args_string":"(attribute : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr#L12","def":{"name":"human_attribute_name","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"prefix = \"#{GLOBAL_SCOPE}.attributes.\"\nlookup_ancestors do |ancestor|\n  path = \"#{prefix}#{ancestor.i18n_key}.#{attribute}\"\n  if I18n.exists?(path)\n    return I18n.translate(path)\n  end\nend\npath = \"#{prefix}.#{attribute}\"\nif I18n.exists?(path)\n  return I18n.translate(path)\nend\nInflector.humanize(attribute)\n"}},{"id":"i18n_key-instance-method","html_id":"i18n_key-instance-method","name":"i18n_key","doc":"Presents key which be used to search any related to current class localization information.","summary":"<p>Presents key which be used to search any related to current class localization information.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr#L45","def":{"name":"i18n_key","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @@i18n_key.empty?\nelse\n  return @@i18n_key\nend\n@@i18n_key = (Inflector.underscore(Inflector.demodulize(to_s))).downcase\n"}},{"id":"i18n_scope-instance-method","html_id":"i18n_scope-instance-method","name":"i18n_scope","doc":"Returns the i18n scope for the class.","summary":"<p>Returns the i18n scope for the class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr#L40","def":{"name":"i18n_scope","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":":models"}},{"id":"lookup_ancestors(&block)-instance-method","html_id":"lookup_ancestors(&amp;block)-instance-method","name":"lookup_ancestors","doc":"Yields all ancestors until `Base`.","summary":"<p>Yields all ancestors until <code><a href=\"../../../Jennifer/Model/Base.html\">Base</a></code>.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr#L51","def":{"name":"lookup_ancestors","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"klass = self\nwhile klass\n  yield klass\n  klass = klass.superclass\nend\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Translation/LocalizeableTypes","path":"Jennifer/Model/Translation/LocalizeableTypes.html","kind":"alias","full_name":"Jennifer::Model::Translation::LocalizeableTypes","name":"LocalizeableTypes","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/translation.cr","line_number":61,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/translation.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Bool | Float32 | Float64 | Int32 | Int64 | String | Symbol | Time | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Translation","kind":"module","full_name":"Jennifer::Model::Translation","name":"Translation"},"doc":"All possible types to be used for localization.","summary":"<p>All possible types to be used for localization.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Validation","path":"Jennifer/Model/Validation.html","kind":"module","full_name":"Jennifer::Model::Validation","name":"Validation","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Macros","kind":"module","full_name":"Jennifer::Validations::Macros","name":"Macros"}],"locations":[{"filename":"jennifer/model/validation.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/validation.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Macros","kind":"module","full_name":"Jennifer::Validations::Macros","name":"Macros"}],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"errors-instance-method","html_id":"errors-instance-method","name":"errors","doc":"Returns container with object's validation errors.","summary":"<p>Returns container with object's validation errors.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/validation.cr#L12","def":{"name":"errors","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@errors || (@errors = Errors.new(self))"}},{"id":"invalid?-instance-method","html_id":"invalid?-instance-method","name":"invalid?","doc":"Returns whether `#errors` container has any error.\n\nDoesn't trigger validation.","summary":"<p>Returns whether <code><a href=\"../../Jennifer/Model/Validation.html#errors-instance-method\">#errors</a></code> container has any error.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/validation.cr#L31","def":{"name":"invalid?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"errors.any?"}},{"id":"valid?-instance-method","html_id":"valid?-instance-method","name":"valid?","doc":"Returns whether object is valid.\n\nEach invocation of this method triggers validations from scratch. If you want to avoid this -\nuse `#invalid?`.\n\n```\nUser.new({ age: -2 }).valid?\n```","summary":"<p>Returns whether object is valid.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/validation.cr#L24","def":{"name":"valid?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"validate!"}},{"id":"validate!(skip=false):Bool-instance-method","html_id":"validate!(skip=false):Bool-instance-method","name":"validate!","doc":"Invokes validation and callbacks.","summary":"<p>Invokes validation and callbacks.</p>","abstract":false,"args":[{"name":"skip","doc":null,"default_value":"false","external_name":"skip","restriction":""}],"args_string":"(skip = <span class=\"n\">false</span>) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/model/validation.cr#L40","def":{"name":"validate!","args":[{"name":"skip","doc":null,"default_value":"false","external_name":"skip","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"errors.clear\nif skip || (!__before_validation_callback)\n  return false\nend\nvalidate\nif invalid?\n  return false\nend\n__after_validation_callback\ntrue\n"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql","path":"Jennifer/Mysql.html","kind":"module","full_name":"Jennifer::Mysql","name":"Mysql","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/mysql/sql_generator.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/sql_generator.cr"},{"filename":"jennifer/adapter/mysql/command_interface.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/command_interface.cr"},{"filename":"jennifer/adapter/mysql/schema_processor.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/schema_processor.cr"},{"filename":"jennifer/adapter/mysql.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql/Adapter","path":"Jennifer/Mysql/Adapter.html","kind":"class","full_name":"Jennifer::Mysql::Adapter","name":"Adapter","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/RequestMethods","kind":"module","full_name":"Jennifer::Adapter::RequestMethods","name":"RequestMethods"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ResultParsers","kind":"module","full_name":"Jennifer::Adapter::ResultParsers","name":"ResultParsers"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Transactions","kind":"module","full_name":"Jennifer::Adapter::Transactions","name":"Transactions"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/mysql.cr","line_number":10,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"DEFAULT_SIZES","name":"DEFAULT_SIZES","value":"{:string => 254, :varchar => 254}","doc":null,"summary":null},{"id":"TABLE_LOCK_TYPES","name":"TABLE_LOCK_TYPES","value":"{\"r\" => \"READ\", \"rl\" => \"READ LOCAL\", \"w\" => \"WRITE\", \"lpw\" => \"LOW_PRIORITY WRITE\", \"default\" => \"READ\"}","doc":"NOTE: ATM is not used","summary":"<p><span class=\"flag purple\">NOTE</span>  ATM is not used</p>"},{"id":"TYPE_TRANSLATIONS","name":"TYPE_TRANSLATIONS","value":"{:bool => \"bool\", :enum => \"enum\", :bigint => \"bigint\", :integer => \"int\", :short => \"SMALLINT\", :tinyint => \"TINYINT\", :float => \"float\", :double => \"double\", :decimal => \"decimal\", :string => \"varchar\", :varchar => \"varchar\", :text => \"text\", :timestamp => \"datetime\", :date_time => \"datetime\", :date => \"date\", :blob => \"blob\", :json => \"json\"}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql","kind":"module","full_name":"Jennifer::Mysql","name":"Mysql"},"doc":null,"summary":null,"class_methods":[{"id":"command_interface-class-method","html_id":"command_interface-class-method","name":"command_interface","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L149","def":{"name":"command_interface","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@command_interface || (@@command_interface = CommandInterface.new(Config.instance))"}},{"id":"create_database-class-method","html_id":"create_database-class-method","name":"create_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L153","def":{"name":"create_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"db_connection do |db|\n  db.exec(\"CREATE DATABASE #{Config.db}\")\nend"}},{"id":"database_exists?:Bool-class-method","html_id":"database_exists?:Bool-class-method","name":"database_exists?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L165","def":{"name":"database_exists?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"db_connection do |db|\n  db.scalar(\"  SELECT EXISTS(\\n    SELECT 1\\n    FROM INFORMATION_SCHEMA.SCHEMATA\\n    WHERE SCHEMA_NAME = ?\\n  )\", Config.db)\nend == 1"}},{"id":"drop_database-class-method","html_id":"drop_database-class-method","name":"drop_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L159","def":{"name":"drop_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"db_connection do |db|\n  db.exec(\"DROP DATABASE #{Config.db}\")\nend"}}],"constructors":[],"instance_methods":[{"id":"column_exists?(table,name)-instance-method","html_id":"column_exists?(table,name)-instance-method","name":"column_exists?","doc":"Returns whether column of *table* with *name* exists.\n\n```\n# Check a column exists\ncolumn_exists?(:suppliers, :name)\n```","summary":"<p>Returns whether column of <em>table</em> with <em>name</em> exists.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L108","def":{"name":"column_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Query[\"information_schema.COLUMNS\"].where do\n  ((_table_name == table) & (_column_name == name)) & (_table_schema == Config.db)\nend.exists?"}},{"id":"default_type_size(name)-instance-method","html_id":"default_type_size(name)-instance-method","name":"default_type_size","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L67","def":{"name":"default_type_size","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"DEFAULT_SIZES[name]?"}},{"id":"explain(q)-instance-method","html_id":"explain(q)-instance-method","name":"explain","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""}],"args_string":"(q)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L131","def":{"name":"explain","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"body = sql_generator.explain(q)\nargs = q.sql_args\nplan = [] of Array(String)\nquery(*parse_query(body, args)) do |rs|\n  rs.each do\n    row = [] of ::String\n    12.times do\n      temp = rs.read\n      row << (temp.nil? ? \"NULL\" : temp.to_s)\n    end\n    plan << row\n  end\nend\nformat_query_explain(plan)\n"}},{"id":"foreign_key_exists?(from_table,to_table=nil,column=nil,name:String?=nil)-instance-method","html_id":"foreign_key_exists?(from_table,to_table=nil,column=nil,name:String?=nil)-instance-method","name":"foreign_key_exists?","doc":"Checks to see if a foreign key exists on a table for a given foreign key definition.\n\n```\n# Checks to see if a foreign key exists.\nadapter.foreign_key_exists?(:accounts, :branches)\n\n# Checks to see if a foreign key on a specified column exists.\nadapter.foreign_key_exists?(:accounts, column: :owner_id)\n\n# Checks to see if a foreign key with a custom name exists.\nadapter.foreign_key_exists?(:accounts, name: \"special_fk_name\")\n```","summary":"<p>Checks to see if a foreign key exists on a table for a given foreign key definition.</p>","abstract":false,"args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"nil","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(from_table, to_table = <span class=\"n\">nil</span>, column = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L116","def":{"name":"foreign_key_exists?","args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"nil","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"name = self.class.foreign_key_name(from_table, to_table, column, name)\nQuery[\"information_schema.KEY_COLUMN_USAGE\"].where do\n  and(_constraint_name == name, _table_schema == Config.db)\nend.exists?\n"}},{"id":"index_exists?(table,name:String)-instance-method","html_id":"index_exists?(table,name:String)-instance-method","name":"index_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(table, name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L100","def":{"name":"index_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Query[\"information_schema.statistics\"].where do\n  ((_table_name == table) & (_index_name == name)) & (_table_schema == Config.db)\nend.exists?"}},{"id":"schema_processor-instance-method","html_id":"schema_processor-instance-method","name":"schema_processor","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L57","def":{"name":"schema_processor","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@schema_processor || (@schema_processor = SchemaProcessor.new(self))"}},{"id":"sql_generator-instance-method","html_id":"sql_generator-instance-method","name":"sql_generator","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L53","def":{"name":"sql_generator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SQLGenerator"}},{"id":"table_column_count(table)-instance-method","html_id":"table_column_count(table)-instance-method","name":"table_column_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L71","def":{"name":"table_column_count","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if table_exists?(table)\n  Query[\"information_schema.COLUMNS\"].where do\n    (_table_name == table) & (_table_schema == Config.db)\n  end.count\nelse\n  -1\nend"}},{"id":"table_exists?(table)-instance-method","html_id":"table_exists?(table)-instance-method","name":"table_exists?","doc":"Returns where table with given *table* name exists.\n\n```\nadapter.table_exists?(:developers)\n```","summary":"<p>Returns where table with given <em>table</em> name exists.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L88","def":{"name":"table_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Query[\"information_schema.TABLES\"].where do\n  (_table_schema == Config.db) & (_table_name == table)\nend.exists?"}},{"id":"tables_column_count(tables)-instance-method","html_id":"tables_column_count(tables)-instance-method","name":"tables_column_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"tables","doc":null,"default_value":"","external_name":"tables","restriction":""}],"args_string":"(tables)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L81","def":{"name":"tables_column_count","args":[{"name":"tables","doc":null,"default_value":"","external_name":"tables","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Query[\"information_schema.COLUMNS\"].where do\n  (_table_name.in(tables)) & (_table_schema == Config.db)\nend.group(:table_name)).select do\n  [_table_name.alias(\"table_name\"), count.alias(\"count\")]\nend"}},{"id":"translate_type(name:Symbol)-instance-method","html_id":"translate_type(name:Symbol)-instance-method","name":"translate_type","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L61","def":{"name":"translate_type","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  TYPE_TRANSLATIONS[name]\nrescue e : KeyError\n  raise(BaseException.new(\"Unknown data alias #{name}\"))\nend"}},{"id":"view_exists?(name):Bool-instance-method","html_id":"view_exists?(name):Bool-instance-method","name":"view_exists?","doc":"Check whether view with given *name* exists.\n\n```\nadapter.view_exists?(:youth_contacts)\n```","summary":"<p>Check whether view with given <em>name</em> exists.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L94","def":{"name":"view_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"Query[\"information_schema.TABLES\"].where do\n  ((_table_schema == Config.db) & (_table_type == \"VIEW\")) & (_table_name == name)\nend.exists?"}},{"id":"with_table_lock(table:String,type:String=&quot;default&quot;,&block)-instance-method","html_id":"with_table_lock(table:String,type:String=&amp;quot;default&amp;quot;,&amp;block)-instance-method","name":"with_table_lock","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"type","doc":null,"default_value":"\"default\"","external_name":"type","restriction":"String"}],"args_string":"(table : String, type : String = <span class=\"s\">&quot;default&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr#L123","def":{"name":"with_table_lock","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"type","doc":null,"default_value":"\"default\"","external_name":"type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"transaction do |t|\n  Config.logger.debug(\"MySQL doesn't support manual locking table from prepared statement. Instead of this only transaction was started.\")\n  yield t\nend"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql/Adapter/EnumType","path":"Jennifer/Mysql/Adapter/EnumType.html","kind":"alias","full_name":"Jennifer::Mysql::Adapter::EnumType","name":"EnumType","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/mysql.cr","line_number":11,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"String","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql/Adapter","kind":"class","full_name":"Jennifer::Mysql::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql/CommandInterface","path":"Jennifer/Mysql/CommandInterface.html","kind":"class","full_name":"Jennifer::Mysql::CommandInterface","name":"CommandInterface","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/DBCommandInterface","kind":"class","full_name":"Jennifer::Adapter::DBCommandInterface","name":"DBCommandInterface"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/DBCommandInterface","kind":"class","full_name":"Jennifer::Adapter::DBCommandInterface","name":"DBCommandInterface"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/mysql/command_interface.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/command_interface.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql","kind":"module","full_name":"Jennifer::Mysql","name":"Mysql"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"create_database-instance-method","html_id":"create_database-instance-method","name":"create_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/command_interface.cr#L6","def":{"name":"create_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(\"create_database\", self))"}},{"id":"database_exists?-instance-method","html_id":"database_exists?-instance-method","name":"database_exists?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/command_interface.cr#L14","def":{"name":"database_exists?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(\"database_exists?\", self))"}},{"id":"drop_database-instance-method","html_id":"drop_database-instance-method","name":"drop_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/command_interface.cr#L10","def":{"name":"drop_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(\"drop_database\", self))"}},{"id":"generate_schema-instance-method","html_id":"generate_schema-instance-method","name":"generate_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/command_interface.cr#L18","def":{"name":"generate_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"options = [\"-u\", config.user, \"--no-data\", \"-h\", config.host, \"--skip-lock-tables\", config.db]\nif !config.password.empty?\n  options = options + [\"--password=#{config.password}\"]\nend\ncommand = Command.new(executable: \"mysqldump\", options: options, out_stream: \"> #{config.structure_path}\")\nexecute(command)\n"}},{"id":"load_schema-instance-method","html_id":"load_schema-instance-method","name":"load_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/command_interface.cr#L29","def":{"name":"load_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"options = [\"-u\", config.user, \"-h\", config.host, config.db, \"-B\", \"-s\", \"-e\"]\nif !config.password.empty?\n  options = options + [\"--password=#{config.password}\"]\nend\ncommand = Command.new(executable: \"mysql\", options: options, in_stream: \"cat #{config.structure_path} |\")\nexecute(command)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql/SchemaProcessor","path":"Jennifer/Mysql/SchemaProcessor.html","kind":"class","full_name":"Jennifer::Mysql::SchemaProcessor","name":"SchemaProcessor","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/SchemaProcessor","kind":"class","full_name":"Jennifer::Adapter::SchemaProcessor","name":"SchemaProcessor"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/SchemaProcessor","kind":"class","full_name":"Jennifer::Adapter::SchemaProcessor","name":"SchemaProcessor"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/mysql/schema_processor.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/schema_processor.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql","kind":"module","full_name":"Jennifer::Mysql","name":"Mysql"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"rename_table(old_name,new_name)-instance-method","html_id":"rename_table(old_name,new_name)-instance-method","name":"rename_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/schema_processor.cr#L6","def":{"name":"rename_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(\"ALTER TABLE #{old_name.to_s} RENAME #{new_name.to_s}\")"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql/SQLGenerator","path":"Jennifer/Mysql/SQLGenerator.html","kind":"class","full_name":"Jennifer::Mysql::SQLGenerator","name":"SQLGenerator","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSQLGenerator","kind":"class","full_name":"Jennifer::Adapter::BaseSQLGenerator","name":"BaseSQLGenerator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSQLGenerator","kind":"class","full_name":"Jennifer::Adapter::BaseSQLGenerator","name":"BaseSQLGenerator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/mysql/sql_generator.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/sql_generator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Mysql","kind":"module","full_name":"Jennifer::Mysql","name":"Mysql"},"doc":null,"summary":null,"class_methods":[{"id":"insert(obj:Model::Base)-class-method","html_id":"insert(obj:Model::Base)-class-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/sql_generator.cr#L6","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts = obj.arguments_to_insert\nString.build do |s|\n  (s << \"INSERT INTO \") << obj.class.table_name\n  if opts[:fields].empty?\n    s << \" VALUES ()\"\n  else\n    s << \"(\"\n    opts[:fields].join(\", \", s)\n    ((s << \") VALUES (\") << (escape_string(opts[:fields].size))) << \") \"\n  end\nend\n"}},{"id":"insert_on_duplicate(table,fields,rows:Int32,unique_fields,on_conflict)-class-method","html_id":"insert_on_duplicate(table,fields,rows:Int32,unique_fields,on_conflict)-class-method","name":"insert_on_duplicate","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":"Int32"},{"name":"unique_fields","doc":null,"default_value":"","external_name":"unique_fields","restriction":""},{"name":"on_conflict","doc":null,"default_value":"","external_name":"on_conflict","restriction":""}],"args_string":"(table, fields, rows : Int32, unique_fields, on_conflict)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/sql_generator.cr#L40","def":{"name":"insert_on_duplicate","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":"Int32"},{"name":"unique_fields","doc":null,"default_value":"","external_name":"unique_fields","restriction":""},{"name":"on_conflict","doc":null,"default_value":"","external_name":"on_conflict","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"is_ignore = on_conflict.empty?\nString.build do |io|\n  io << \"INSERT \"\n  if is_ignore\n    io << \"IGNORE \"\n  end\n  ((io << \"INTO \") << table) << \" (\"\n  fields.join(\", \", io)\n  escaped_row = (\"(\" + (escape_string(fields.size))) + \")\"\n  io << \") VALUES \"\n  rows.times.join(\", \", io) do\n    io << escaped_row\n  end\n  if is_ignore\n  else\n    io << \" ON DUPLICATE KEY UPDATE \"\n    on_conflict.each_with_index do |__arg1, index|\n      field = __arg1[0]\n      value = __arg1[1]\n      if index != 0\n        io << \", \"\n      end\n      io << (field_assign_statement(field.to_s, value))\n    end\n  end\nend\n"}},{"id":"json_path(path:QueryBuilder::JSONSelector)-class-method","html_id":"json_path(path:QueryBuilder::JSONSelector)-class-method","name":"json_path","doc":null,"summary":null,"abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"QueryBuilder::JSONSelector"}],"args_string":"(path : QueryBuilder::JSONSelector)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/sql_generator.cr#L60","def":{"name":"json_path","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"QueryBuilder::JSONSelector"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value = if path.path.is_a?(Number)\n  quote(\"$[#{path.path.to_s}]\")\nelse\n  quote(path.path)\nend\n\"#{path.identifier}->#{value}\"\n"}},{"id":"order_expression(expression:QueryBuilder::OrderItem)-class-method","html_id":"order_expression(expression:QueryBuilder::OrderItem)-class-method","name":"order_expression","doc":null,"summary":null,"abstract":false,"args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":"QueryBuilder::OrderItem"}],"args_string":"(expression : QueryBuilder::OrderItem)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/sql_generator.cr#L70","def":{"name":"order_expression","args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":"QueryBuilder::OrderItem"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if expression.null_position.none?\n  super(expression)\nelse\n  String.build do |io|\n    (((((io << \"CASE WHEN \") << ((expression.criteria.is(nil)).as_sql(self))) << \" THEN 0 ELSE 1 \") << (expression.null_position.last? ? \"DESC\" : \"ASC\")) << \" END, \") << (super(expression))\n  end\nend"}},{"id":"quote(value:String)-class-method","html_id":"quote(value:String)-class-method","name":"quote","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/sql_generator.cr#L89","def":{"name":"quote","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"\\\"#{(value.gsub(/\\\\/, \"&&\")).gsub(/\"/, \"\\\"\\\"\")}\\\"\""}},{"id":"update(query,options:Hash)-class-method","html_id":"update(query,options:Hash)-class-method","name":"update","doc":"Generates update request depending on given query and hash options. Allows\njoins inside of query.","summary":"<p>Generates update request depending on given query and hash options.</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(query, options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/sql_generator.cr#L22","def":{"name":"update","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"esc = escape_string(1)\nString.build do |s|\n  (s << \"UPDATE \") << query.table\n  s << ' '\n  _joins = query._joins?\n  if _joins.nil?\n  else\n    where_clause(s, _joins[0].on)\n    _joins[1..-1].join(\" \", s) do |e|\n      s << (e.as_sql(self))\n    end\n  end\n  s << \" SET \"\n  options.join(\", \", s) do |__arg0|\n    k = __arg0[0]\n    ((s << k) << \" = \") << esc\n  end\n  s << \" \"\n  where_clause(s, query.tree)\nend\n"}},{"id":"values_expression(field)-class-method","html_id":"values_expression(field)-class-method","name":"values_expression","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"args_string":"(field)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/mysql/sql_generator.cr#L85","def":{"name":"values_expression","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"VALUES(#{field})\""}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres","path":"Jennifer/Postgres.html","kind":"module","full_name":"Jennifer::Postgres","name":"Postgres","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/postgres/exec_result.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/exec_result.cr"},{"filename":"jennifer/adapter/postgres/sql_generator.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr"},{"filename":"jennifer/adapter/postgres/schema_processor.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr"},{"filename":"jennifer/adapter/postgres/command_interface.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/command_interface.cr"},{"filename":"jennifer/adapter/postgres.cr","line_number":13,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/base.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/base.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/change_enum.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_enum.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_enum.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Adapter","path":"Jennifer/Postgres/Adapter.html","kind":"class","full_name":"Jennifer::Postgres::Adapter","name":"Adapter","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/RequestMethods","kind":"module","full_name":"Jennifer::Adapter::RequestMethods","name":"RequestMethods"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ResultParsers","kind":"module","full_name":"Jennifer::Adapter::ResultParsers","name":"ResultParsers"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Transactions","kind":"module","full_name":"Jennifer::Adapter::Transactions","name":"Transactions"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres.cr","line_number":14,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"DEFAULT_SIZES","name":"DEFAULT_SIZES","value":"{:string => 254}","doc":null,"summary":null},{"id":"TABLE_LOCK_TYPES","name":"TABLE_LOCK_TYPES","value":"{\"as\" => \"ACCESS SHARE\", \"rs\" => \"ROW SHARE\", \"re\" => \"ROW EXCLUSIVE\", \"sue\" => \"SHARE UPDATE EXCLUSIVE\", \"s\" => \"SHARE\", \"sre\" => \"SHARE ROW EXCLUSIVE\", \"e\" => \"EXCLUSIVE\", \"ae\" => \"ACCESS EXCLUSIVE\", \"default\" => \"SHARE\"}","doc":null,"summary":null},{"id":"TYPE_TRANSLATIONS","name":"TYPE_TRANSLATIONS","value":"{:bool => \"boolean\", :integer => \"int\", :short => \"SMALLINT\", :bigint => \"BIGINT\", :oid => \"oid\", :float => \"real\", :double => \"double precision\", :numeric => \"numeric\", :decimal => \"decimal\", :string => \"varchar\", :char => \"char\", :text => \"text\", :varchar => \"varchar\", :blchar => \"blchar\", :uuid => \"uuid\", :timestamp => \"timestamp\", :timestamptz => \"timestamptz\", :date_time => \"timestamp\", :date => \"date\", :bytea => \"bytea\", :json => \"json\", :jsonb => \"jsonb\", :xml => \"xml\", :point => \"point\", :lseg => \"lseg\", :path => \"path\", :box => \"box\", :polygon => \"polygon\", :line => \"line\", :circle => \"circle\"}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres","kind":"module","full_name":"Jennifer::Postgres","name":"Postgres"},"doc":null,"summary":null,"class_methods":[{"id":"command_interface-class-method","html_id":"command_interface-class-method","name":"command_interface","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L79","def":{"name":"command_interface","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@command_interface || (@@command_interface = CommandInterface.new(Config.instance))"}}],"constructors":[],"instance_methods":[{"id":"column_exists?(table,name)-instance-method","html_id":"column_exists?(table,name)-instance-method","name":"column_exists?","doc":"Returns whether column of *table* with *name* exists.\n\n```\n# Check a column exists\ncolumn_exists?(:suppliers, :name)\n```","summary":"<p>Returns whether column of <em>table</em> with <em>name</em> exists.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L161","def":{"name":"column_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Query[\"information_schema.columns\"].where do\n  (_table_name == table) & (_column_name == name)\nend.exists?"}},{"id":"default_type_size(name)-instance-method","html_id":"default_type_size(name)-instance-method","name":"default_type_size","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L93","def":{"name":"default_type_size","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"DEFAULT_SIZES[name]?"}},{"id":"enum_exists?(name)-instance-method","html_id":"enum_exists?(name)-instance-method","name":"enum_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L181","def":{"name":"enum_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Query[\"pg_type\"].where do\n  _typname == name\nend.exists?"}},{"id":"enum_values(name)-instance-method","html_id":"enum_values(name)-instance-method","name":"enum_values","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L185","def":{"name":"enum_values","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(query_array(\"SELECT unnest(enum_range(NULL::#{name})::varchar[])\", String)).map do |array|\n  array[0]\nend"}},{"id":"exists?(query):Bool-instance-method","html_id":"exists?(query):Bool-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L213","def":{"name":"exists?","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"(scalar(*parse_query(sql_generator.exists(query), query.sql_args))).as(Bool)"}},{"id":"explain(q)-instance-method","html_id":"explain(q)-instance-method","name":"explain","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""}],"args_string":"(q)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L217","def":{"name":"explain","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"body = sql_generator.explain(q)\nargs = q.sql_args\nplan = \"\"\nquery(*parse_query(body, args)) do |rs|\n  rs.each do\n    plan = rs.read(String)\n  end\nend\nplan\n"}},{"id":"foreign_key_exists?(from_table,to_table=nil,column=nil,name:String?=nil)-instance-method","html_id":"foreign_key_exists?(from_table,to_table=nil,column=nil,name:String?=nil)-instance-method","name":"foreign_key_exists?","doc":"Checks to see if a foreign key exists on a table for a given foreign key definition.\n\n```\n# Checks to see if a foreign key exists.\nadapter.foreign_key_exists?(:accounts, :branches)\n\n# Checks to see if a foreign key on a specified column exists.\nadapter.foreign_key_exists?(:accounts, column: :owner_id)\n\n# Checks to see if a foreign key with a custom name exists.\nadapter.foreign_key_exists?(:accounts, name: \"special_fk_name\")\n```","summary":"<p>Checks to see if a foreign key exists on a table for a given foreign key definition.</p>","abstract":false,"args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"nil","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(from_table, to_table = <span class=\"n\">nil</span>, column = <span class=\"n\">nil</span>, name : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L174","def":{"name":"foreign_key_exists?","args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"to_table","doc":null,"default_value":"nil","external_name":"to_table","restriction":""},{"name":"column","doc":null,"default_value":"nil","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"name = self.class.foreign_key_name(from_table, to_table, column, name)\nQuery[\"information_schema.table_constraints\"].where do\n  and(_constraint_name == name, _table_schema == Config.schema)\nend.exists?\n"}},{"id":"index_exists?(_table,name:String)-instance-method","html_id":"index_exists?(_table,name:String)-instance-method","name":"index_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"_table","doc":null,"default_value":"","external_name":"_table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(_table, name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L167","def":{"name":"index_exists?","args":[{"name":"_table","doc":null,"default_value":"","external_name":"_table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Query[\"pg_class\"].join(\"pg_namespace\") do\n  _oid == _pg_class__relnamespace\nend).where do\n  (_pg_class__relname == name) & (_pg_namespace__nspname == Config.schema)\nend.exists?"}},{"id":"insert(obj:Model::Base)-instance-method","html_id":"insert(obj:Model::Base)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L198","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts = obj.arguments_to_insert\nquery_opts = parse_query(sql_generator.insert(obj, obj.class.primary_auto_incrementable?), opts[:args])\nid = -1_i64\naffected = 0_i64\nif obj.class.primary_auto_incrementable?\n  id = ((scalar(*query_opts)).as(Int)).to_i64\n  if id > 0\n    affected = affected + 1\n  end\nelse\n  affected = (exec(*query_opts)).rows_affected\nend\nExecResult.new(id, affected)\n"}},{"id":"material_view_exists?(name)-instance-method","html_id":"material_view_exists?(name)-instance-method","name":"material_view_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L141","def":{"name":"material_view_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Query[\"pg_class\"].join(\"pg_namespace\") do\n  _oid == _pg_class__relnamespace\nend).where do\n  ((_relkind == \"m\") & (_pg_namespace__nspname == Config.schema)) & (_relname == name)\nend.exists?"}},{"id":"refresh_materialized_view(name)-instance-method","html_id":"refresh_materialized_view(name)-instance-method","name":"refresh_materialized_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L97","def":{"name":"refresh_materialized_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(\"REFRESH MATERIALIZED VIEW #{name}\")"}},{"id":"schema_processor-instance-method","html_id":"schema_processor-instance-method","name":"schema_processor","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L83","def":{"name":"schema_processor","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@schema_processor || (@schema_processor = SchemaProcessor.new(self))"}},{"id":"sql_generator-instance-method","html_id":"sql_generator-instance-method","name":"sql_generator","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L75","def":{"name":"sql_generator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SQLGenerator"}},{"id":"table_column_count(table)-instance-method","html_id":"table_column_count(table)-instance-method","name":"table_column_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L101","def":{"name":"table_column_count","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if table_exists?(table)\n  Query[\"information_schema.columns\"].where do\n    _table_name == table\n  end.count\nelse\n  if material_view_exists?(table)\n    ((Query[\"pg_attribute\"].join(\"pg_class\") do\n      _pg_attribute__attrelid == _oid\n    end).join(\"pg_namespace\") do\n      _oid == _pg_class__relnamespace\n    end).where do\n      (((_attnum > 0) & (_pg_namespace__nspname == Config.schema)) & (_pg_class__relname == table)) & _attisdropped.not\n    end.count\n  else\n    -1\n  end\nend"}},{"id":"table_exists?(table)-instance-method","html_id":"table_exists?(table)-instance-method","name":"table_exists?","doc":"Returns where table with given *table* name exists.\n\n```\nadapter.table_exists?(:developers)\n```","summary":"<p>Returns where table with given <em>table</em> name exists.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L149","def":{"name":"table_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Query[\"information_schema.tables\"].where do\n  _table_name == table\nend.exists?"}},{"id":"tables_column_count(tables:Array(String))-instance-method","html_id":"tables_column_count(tables:Array(String))-instance-method","name":"tables_column_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"tables","doc":null,"default_value":"","external_name":"tables","restriction":"Array(String)"}],"args_string":"(tables : Array(String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L120","def":{"name":"tables_column_count","args":[{"name":"tables","doc":null,"default_value":"","external_name":"tables","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"view_request = (((Query[\"pg_attribute\"].join(\"pg_class\") do\n  _pg_attribute__attrelid == _oid\nend).join(\"pg_namespace\") do\n  _oid == _pg_class__relnamespace\nend).where do\n  (((_attnum > 0) & (_pg_namespace__nspname == Config.schema)) & (_pg_class__relname.in(tables))) & _attisdropped.not\nend.group(\"table_name\")).select do\n  [_pg_class__relname.alias(\"table_name\"), count.alias(\"count\")]\nend\n((Query[\"information_schema.columns\"].where do\n  _table_name.in(tables)\nend.group(:table_name)).select do\n  [_table_name, count.alias(\"count\")]\nend.union(view_request)).to_a\n"}},{"id":"translate_type(name)-instance-method","html_id":"translate_type(name)-instance-method","name":"translate_type","doc":"Translates symbol data type name to database-specific data type.","summary":"<p>Translates symbol data type name to database-specific data type.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L87","def":{"name":"translate_type","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  TYPE_TRANSLATIONS[name]\nrescue e : KeyError\n  raise(BaseException.new(\"Unknown data alias #{name}\"))\nend"}},{"id":"view_exists?(name):Bool-instance-method","html_id":"view_exists?(name):Bool-instance-method","name":"view_exists?","doc":"Check whether view with given *name* exists.\n\n```\nadapter.view_exists?(:youth_contacts)\n```","summary":"<p>Check whether view with given <em>name</em> exists.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name) : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L155","def":{"name":"view_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"Query[\"information_schema.views\"].where do\n  (_table_schema == Config.schema) & (_table_name == name)\nend.exists?"}},{"id":"with_table_lock(table:String,type:String=&quot;default&quot;,&block)-instance-method","html_id":"with_table_lock(table:String,type:String=&amp;quot;default&amp;quot;,&amp;block)-instance-method","name":"with_table_lock","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"type","doc":null,"default_value":"\"default\"","external_name":"type","restriction":"String"}],"args_string":"(table : String, type : String = <span class=\"s\">&quot;default&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr#L189","def":{"name":"with_table_lock","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"type","doc":null,"default_value":"\"default\"","external_name":"type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  transaction do |t|\n    exec(\"LOCK TABLE #{table} IN #{TABLE_LOCK_TYPES[type]} MODE\")\n    yield t\n  end\nrescue e : KeyError\n  raise(BaseException.new(\"Unknown table lock type '#{type}'.\"))\nend"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Adapter/EnumType","path":"Jennifer/Postgres/Adapter/EnumType.html","kind":"alias","full_name":"Jennifer::Postgres::Adapter::EnumType","name":"EnumType","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/postgres.cr","line_number":15,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"Slice(UInt8)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Adapter","kind":"class","full_name":"Jennifer::Postgres::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/CommandInterface","path":"Jennifer/Postgres/CommandInterface.html","kind":"class","full_name":"Jennifer::Postgres::CommandInterface","name":"CommandInterface","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/DBCommandInterface","kind":"class","full_name":"Jennifer::Adapter::DBCommandInterface","name":"DBCommandInterface"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/DBCommandInterface","kind":"class","full_name":"Jennifer::Adapter::DBCommandInterface","name":"DBCommandInterface"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/command_interface.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/command_interface.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres","kind":"module","full_name":"Jennifer::Postgres","name":"Postgres"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"create_database-instance-method","html_id":"create_database-instance-method","name":"create_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/command_interface.cr#L16","def":{"name":"create_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"options = [config.db, \"-O\", config.user, \"-h\", config.host, \"-U\", config.user] of Command::Option\ncommand = Command.new(executable: \"createdb\", options: options, inline_vars: default_env_variables)\nexecute(command)\n"}},{"id":"database_exists?-instance-method","html_id":"database_exists?-instance-method","name":"database_exists?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/command_interface.cr#L26","def":{"name":"database_exists?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"options = [\"-U\", config.user, \"-l\"] of Command::Option\ncommand = Command.new(executable: \"psql\", options: options, inline_vars: default_env_variables)\n((execute(command))[:output].to_s.split(\"\\n\"))[2..-1].any? do |__arg0|\n  __arg0[/([^|]*)? |/].strip == config.db\nend\n"}},{"id":"drop_database-instance-method","html_id":"drop_database-instance-method","name":"drop_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/command_interface.cr#L6","def":{"name":"drop_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"options = [config.db, \"-h\", config.host, \"-U\", config.user] of Command::Option\ncommand = Command.new(executable: \"dropdb\", options: options, inline_vars: default_env_variables)\nexecute(command)\n"}},{"id":"generate_schema-instance-method","html_id":"generate_schema-instance-method","name":"generate_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/command_interface.cr#L36","def":{"name":"generate_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"options = [\"-U\", config.user, \"-d\", config.db, \"-h\", config.host, \"-s\"] of Command::Option\ncommand = Command.new(executable: \"pg_dump\", options: options, inline_vars: default_env_variables, out_stream: \"> #{config.structure_path}\")\nexecute(command)\n"}},{"id":"load_schema-instance-method","html_id":"load_schema-instance-method","name":"load_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/command_interface.cr#L47","def":{"name":"load_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"options = [\"-U\", config.user, \"-d\", config.db, \"-h\", config.host, \"-a\", \"-f\", config.structure_path] of Command::Option\ncommand = Command.new(executable: \"psql\", options: options, inline_vars: default_env_variables)\nexecute(command)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/ExecResult","path":"Jennifer/Postgres/ExecResult.html","kind":"struct","full_name":"Jennifer::Postgres::ExecResult","name":"ExecResult","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/imdrasil/jennifer.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/exec_result.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/exec_result.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres","kind":"module","full_name":"Jennifer::Postgres","name":"Postgres"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(last_insert_id,rows_affected)-class-method","html_id":"new(last_insert_id,rows_affected)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"last_insert_id","doc":null,"default_value":"","external_name":"last_insert_id","restriction":""},{"name":"rows_affected","doc":null,"default_value":"","external_name":"rows_affected","restriction":""}],"args_string":"(last_insert_id, rows_affected)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/exec_result.cr#L9","def":{"name":"new","args":[{"name":"last_insert_id","doc":null,"default_value":"","external_name":"last_insert_id","restriction":""},{"name":"rows_affected","doc":null,"default_value":"","external_name":"rows_affected","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(last_insert_id, rows_affected)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(last_insert_id)-class-method","html_id":"new(last_insert_id)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"last_insert_id","doc":null,"default_value":"","external_name":"last_insert_id","restriction":""}],"args_string":"(last_insert_id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/exec_result.cr#L6","def":{"name":"new","args":[{"name":"last_insert_id","doc":null,"default_value":"","external_name":"last_insert_id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(last_insert_id)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"last_insert_id:Int64-instance-method","html_id":"last_insert_id:Int64-instance-method","name":"last_insert_id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/exec_result.cr#L6","def":{"name":"last_insert_id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@last_insert_id"}},{"id":"rows_affected:Int64-instance-method","html_id":"rows_affected:Int64-instance-method","name":"rows_affected","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/exec_result.cr#L6","def":{"name":"rows_affected","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@rows_affected"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration","path":"Jennifer/Postgres/Migration.html","kind":"module","full_name":"Jennifer::Postgres::Migration","name":"Migration","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/base.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/base.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/change_enum.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_enum.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_enum.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres","kind":"module","full_name":"Jennifer::Postgres","name":"Postgres"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder","path":"Jennifer/Postgres/Migration/TableBuilder.html","kind":"module","full_name":"Jennifer::Postgres::Migration::TableBuilder","name":"TableBuilder","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/base.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/base.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/change_enum.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_enum.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_enum.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration","kind":"module","full_name":"Jennifer::Postgres::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/Base","path":"Jennifer/Postgres/Migration/TableBuilder/Base.html","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/base.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/ChangeEnum","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::ChangeEnum","name":"ChangeEnum"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/CreateEnum","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::CreateEnum","name":"CreateEnum"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/CreateMaterializedView","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::CreateMaterializedView","name":"CreateMaterializedView"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Postgres::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"adapter-instance-method","html_id":"adapter-instance-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/base.cr#L6","def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@adapter.as(Postgres::Adapter)"}},{"id":"schema_processor-instance-method","html_id":"schema_processor-instance-method","name":"schema_processor","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/base.cr#L10","def":{"name":"schema_processor","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@adapter.schema_processor.as(SchemaProcessor)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/ChangeEnum","path":"Jennifer/Postgres/Migration/TableBuilder/ChangeEnum.html","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::ChangeEnum","name":"ChangeEnum","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/change_enum.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Postgres::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,name,options:Hash(Symbol,Array(String)))-class-method","html_id":"new(adapter,name,options:Hash(Symbol,Array(String)))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash(Symbol, Array(String))"}],"args_string":"(adapter, name, options : Hash(Symbol, Array(String)))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L8","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash(Symbol, Array(String))"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, name, options)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"add_values-instance-method","html_id":"add_values-instance-method","name":"add_values","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L47","def":{"name":"add_values","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Ifrit.typed_array_cast(@options[:add_values].as(Array), String)).each do |field|\n  adapter.exec(\"ALTER TYPE #{@name} ADD VALUE '#{field}'\")\nend"}},{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L20","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"change_enum :#{@name}, #{@options.inspect}\""}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L13","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @options.has_key?(:remove_values)\n  remove_values\nend\nif @options.has_key?(:add_values)\n  add_values\nend\nif @options.has_key?(:rename_values)\n  rename_values\nend\nif @options.has_key?(:rename)\n  rename(name, @options[:new_name])\nend\n"}},{"id":"remove_values-instance-method","html_id":"remove_values-instance-method","name":"remove_values","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L24","def":{"name":"remove_values","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new_values = adapter.enum_values(@name)\nnew_values = new_values - @options[:remove_values]\nif @effected_tables.empty?\n  schema_processor.drop_enum(@name)\n  schema_processor.define_enum(@name, new_values)\nelse\n  temp_name = \"#{@name}_temp\"\n  schema_processor.define_enum(temp_name, new_values)\n  @effected_tables.each do |row|\n    query = String.build do |s|\n      (s << \"ALTER TABLE \") << row[0]\n      (((s << \" ALTER COLUMN \") << row[1]) << \" TYPE \") << temp_name\n      ((((s << \" USING (\") << row[1]) << \"::text::\") << temp_name) << \")\"\n    end\n    @adapter.exec(query)\n    schema_processor.drop_enum(@name)\n    rename(temp_name, @name)\n  end\nend\n"}},{"id":"rename(old_name,new_name)-instance-method","html_id":"rename(old_name,new_name)-instance-method","name":"rename","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L67","def":{"name":"rename","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(\"ALTER TYPE #{old_name} RENAME TO #{new_name}\")"}},{"id":"rename_values-instance-method","html_id":"rename_values-instance-method","name":"rename_values","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L53","def":{"name":"rename_values","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"name = @name\ni = 0\ncount = (@options[:rename_values].as(Array)).size\nwhile i < count\n  old_name = @options[:rename_values][i]\n  new_name = @options[:rename_values][i + 1]\n  i = i + 2\n  Query[\"pg_enum\"].where do\n    ((c(\"enumlabel\")) == old_name) & ((c(\"enumtypid\")) == (sql(\"SELECT OID FROM pg_type WHERE typname = '#{name}'\")))\n  end.update({:enumlabel => new_name})\nend\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/CreateEnum","path":"Jennifer/Postgres/Migration/TableBuilder/CreateEnum.html","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::CreateEnum","name":"CreateEnum","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/create_enum.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Postgres::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,name,values:Array(String))-class-method","html_id":"new(adapter,name,values:Array(String))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(String)"}],"args_string":"(adapter, name, values : Array(String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr#L6","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, name, values)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr#L14","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"create_enum :#{@name}, #{@values.inspect}\""}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr#L10","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"schema_processor.define_enum(@name, @values)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/CreateMaterializedView","path":"Jennifer/Postgres/Migration/TableBuilder/CreateMaterializedView.html","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::CreateMaterializedView","name":"CreateMaterializedView","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Postgres::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,name,query)-class-method","html_id":"new(adapter,name,query)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(adapter, name, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr#L9","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, name, query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr#L17","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"source = @query.is_a?(QueryBuilder::Query) ? (@query.as(QueryBuilder::Query)).as_sql : @query\n\"create_materialized_view :#{@name}, \\\"#{source}\\\"\"\n"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr#L13","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(generate_query)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/DropEnum","path":"Jennifer/Postgres/Migration/TableBuilder/DropEnum.html","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::DropEnum","name":"DropEnum","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_enum.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Postgres::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,name)-class-method","html_id":"new(adapter,name)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(adapter, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr#L6","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr#L14","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"drop_enum :#{@name}\""}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr#L10","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"schema_processor.drop_enum(@name)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder/DropMaterializedView","path":"Jennifer/Postgres/Migration/TableBuilder/DropMaterializedView.html","kind":"class","full_name":"Jennifer::Postgres::Migration::TableBuilder::DropMaterializedView","name":"DropMaterializedView","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Postgres::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(adapter,name)-class-method","html_id":"new(adapter,name)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(adapter, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr#L6","def":{"name":"new","args":[{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(adapter, name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"explain-instance-method","html_id":"explain-instance-method","name":"explain","doc":"Returns string presentation of invoked changes.","summary":"<p>Returns string presentation of invoked changes.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr#L14","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"drop_materialized_view :#{@name}\""}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"Invokes current command.","summary":"<p>Invokes current command.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr#L10","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(\"DROP MATERIALIZED VIEW #{name}\")"}}],"macros":[],"types":[]}]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/SchemaProcessor","path":"Jennifer/Postgres/SchemaProcessor.html","kind":"class","full_name":"Jennifer::Postgres::SchemaProcessor","name":"SchemaProcessor","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/SchemaProcessor","kind":"class","full_name":"Jennifer::Adapter::SchemaProcessor","name":"SchemaProcessor"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/SchemaProcessor","kind":"class","full_name":"Jennifer::Adapter::SchemaProcessor","name":"SchemaProcessor"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/schema_processor.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres","kind":"module","full_name":"Jennifer::Postgres","name":"Postgres"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"add_index(table,name,fields:Array,type:Symbol?=nil,order:Hash?=nil,length:Hash?=nil)-instance-method","html_id":"add_index(table,name,fields:Array,type:Symbol?=nil,order:Hash?=nil,length:Hash?=nil)-instance-method","name":"add_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Hash | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Hash | ::Nil"}],"args_string":"(table, name, fields : Array, type : Symbol? = <span class=\"n\">nil</span>, order : Hash? = <span class=\"n\">nil</span>, length : Hash? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L55","def":{"name":"add_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Hash | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Hash | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = String.build do |s|\n  s << \"CREATE \"\n  if type\n    s << (index_type_translate(type))\n  end\n  (((s << \"INDEX \") << name) << \" ON \") << table\n  s << \" (\"\n  fields.each_with_index do |f, i|\n    if i != 0\n      s << \",\"\n    end\n    s << f\n    if order && order[f]?\n      (s << \" \") << order[f].to_s.upcase\n    end\n  end\n  s << \")\"\nend\nadapter.exec(query)\n"}},{"id":"build_change_enum(name,options)-instance-method","html_id":"build_change_enum(name,options)-instance-method","name":"build_change_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(name, options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L20","def":{"name":"build_change_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Migration::TableBuilder::ChangeEnum.new(@adapter, name, options)"}},{"id":"build_create_enum(name,values)-instance-method","html_id":"build_create_enum(name,values)-instance-method","name":"build_create_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""}],"args_string":"(name, values)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L12","def":{"name":"build_create_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Migration::TableBuilder::CreateEnum.new(@adapter, name, values)"}},{"id":"build_create_materialized_view(name,source)-instance-method","html_id":"build_create_materialized_view(name,source)-instance-method","name":"build_create_materialized_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"args_string":"(name, source)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L24","def":{"name":"build_create_materialized_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Migration::TableBuilder::CreateMaterializedView.new(@adapter, name, source)"}},{"id":"build_drop_enum(name)-instance-method","html_id":"build_drop_enum(name)-instance-method","name":"build_drop_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L16","def":{"name":"build_drop_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Migration::TableBuilder::DropEnum.new(@adapter, name)"}},{"id":"build_drop_materialized_view(name)-instance-method","html_id":"build_drop_materialized_view(name)-instance-method","name":"build_drop_materialized_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L28","def":{"name":"build_drop_materialized_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Migration::TableBuilder::DropMaterializedView.new(@adapter, name)"}},{"id":"change_column(table,old_name,new_name,opts)-instance-method","html_id":"change_column(table,old_name,new_name,opts)-instance-method","name":"change_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(table, old_name, new_name, opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L77","def":{"name":"change_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"column_name_part = \" ALTER COLUMN #{old_name} \"\nquery = String.build do |s|\n  (s << \"ALTER TABLE \") << table\n  if opts[:type]?\n    (s << column_name_part) << \" TYPE \"\n    column_type_definition(opts, s)\n    s << \",\"\n  end\n  if opts[:null]?\n    s << column_name_part\n    s << opts[:null] ? \" DROP\" : \" SET\"\n    s << \" NOT NULL,\"\n  end\n  if opts.has_key?(:default)\n    s << column_name_part\n    if opts[:default].is_a?(Symbol) && ((opts[:default].as(Symbol)) == (:drop))\n      s << \"DROP DEFAULT \"\n    else\n      (s << \"SET DEFAULT \") << (adapter_class.t(opts[:default]))\n    end\n    s << \",\"\n  end\n  if old_name.to_s != new_name.to_s\n    (((s << \" RENAME COLUMN \") << old_name) << \" TO \") << new_name\n    s << \",\"\n  end\nend\nadapter.exec(query[0...-1])\n"}},{"id":"define_enum(name:String|Symbol,values:Array)-instance-method","html_id":"define_enum(name:String|Symbol,values:Array)-instance-method","name":"define_enum","doc":"TODO: sanitize query","summary":"<p><span class=\"flag orange\">TODO</span>  sanitize query</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array"}],"args_string":"(name : String | Symbol, values : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L37","def":{"name":"define_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(\"CREATE TYPE #{name} AS ENUM(#{values.map do |e|\n  adapter.sql_generator.quote(e)\nend.join(\", \")})\")"}},{"id":"drop_enum(name)-instance-method","html_id":"drop_enum(name)-instance-method","name":"drop_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L41","def":{"name":"drop_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(\"DROP TYPE #{name}\")"}},{"id":"drop_foreign_key(from_table,name)-instance-method","html_id":"drop_foreign_key(from_table,name)-instance-method","name":"drop_foreign_key","doc":null,"summary":null,"abstract":false,"args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(from_table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L109","def":{"name":"drop_foreign_key","args":[{"name":"from_table","doc":null,"default_value":"","external_name":"from_table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = String.build do |s|\n  (((s << \"ALTER TABLE \") << from_table) << \" DROP CONSTRAINT \") << name\nend\nadapter.exec(query)\n"}},{"id":"drop_index(table,name)-instance-method","html_id":"drop_index(table,name)-instance-method","name":"drop_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L45","def":{"name":"drop_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(\"DROP INDEX #{name}\")"}},{"id":"enum_exists?(*args,**options)-instance-method","html_id":"enum_exists?(*args,**options)-instance-method","name":"enum_exists?","doc":":nodoc:","summary":"<p>:nodoc:</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L6","def":{"name":"enum_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(adapter.as(Postgres)).enum_exists?(*args, **options)"}},{"id":"enum_exists?(*args,**options,&block)-instance-method","html_id":"enum_exists?(*args,**options,&amp;block)-instance-method","name":"enum_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L6","def":{"name":"enum_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"(adapter.as(Postgres)).enum_exists?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"rename_table(old_name:String|Symbol,new_name:String|Symbol)-instance-method","html_id":"rename_table(old_name:String|Symbol,new_name:String|Symbol)-instance-method","name":"rename_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":"String | Symbol"},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String | Symbol"}],"args_string":"(old_name : String | Symbol, new_name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/schema_processor.cr#L49","def":{"name":"rename_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":"String | Symbol"},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(\"ALTER TABLE #{old_name} RENAME TO #{new_name}\")"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres/SQLGenerator","path":"Jennifer/Postgres/SQLGenerator.html","kind":"class","full_name":"Jennifer::Postgres::SQLGenerator","name":"SQLGenerator","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSQLGenerator","kind":"class","full_name":"Jennifer::Adapter::BaseSQLGenerator","name":"BaseSQLGenerator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSQLGenerator","kind":"class","full_name":"Jennifer::Adapter::BaseSQLGenerator","name":"BaseSQLGenerator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/sql_generator.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Postgres","kind":"module","full_name":"Jennifer::Postgres","name":"Postgres"},"doc":null,"summary":null,"class_methods":[{"id":"escape(value:String)-class-method","html_id":"escape(value:String)-class-method","name":"escape","doc":"for postgres column name","summary":"<p>for postgres column name</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L109","def":{"name":"escape","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case value\nwhen \"NULL\", \"TRUE\", \"FALSE\"\n  value\nelse\n  value = (value.gsub(/\\\\/, ARRAY_ESCAPE)).gsub(/\"/, \"\\\\\\\"\")\n  \"\\\"#{value}\\\"\"\nend"}},{"id":"escape(value:Nil)-class-method","html_id":"escape(value:Nil)-class-method","name":"escape","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"args_string":"(value : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L119","def":{"name":"escape","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"quote(value)"}},{"id":"escape(value:Bool)-class-method","html_id":"escape(value:Bool)-class-method","name":"escape","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"args_string":"(value : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L123","def":{"name":"escape","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"quote(value)"}},{"id":"escape(value:Int32|Int16|Float64|Float32)-class-method","html_id":"escape(value:Int32|Int16|Float64|Float32)-class-method","name":"escape","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int32 | Int16 | Float64 | Float32"}],"args_string":"(value : Int32 | Int16 | Float64 | Float32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L127","def":{"name":"escape","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int32 | Int16 | Float64 | Float32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"quote(value)"}},{"id":"insert(obj:Model::Base,with_primary_field=true)-class-method","html_id":"insert(obj:Model::Base,with_primary_field=true)-class-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"},{"name":"with_primary_field","doc":null,"default_value":"true","external_name":"with_primary_field","restriction":""}],"args_string":"(obj : Model::Base, with_primary_field = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L20","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"},{"name":"with_primary_field","doc":null,"default_value":"true","external_name":"with_primary_field","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts = obj.arguments_to_insert\nString.build do |s|\n  (s << \"INSERT INTO \") << obj.class.table_name\n  if opts[:fields].empty?\n    s << \" DEFAULT VALUES\"\n  else\n    s << \"(\"\n    opts[:fields].join(\", \", s)\n    ((s << \") VALUES (\") << (escape_string(opts[:fields].size))) << \") \"\n  end\n  if with_primary_field\n    (s << \" RETURNING \") << obj.class.primary_field_name\n  end\nend\n"}},{"id":"insert_on_duplicate(table,fields,rows:Int32,unique_fields,on_conflict)-class-method","html_id":"insert_on_duplicate(table,fields,rows:Int32,unique_fields,on_conflict)-class-method","name":"insert_on_duplicate","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":"Int32"},{"name":"unique_fields","doc":null,"default_value":"","external_name":"unique_fields","restriction":""},{"name":"on_conflict","doc":null,"default_value":"","external_name":"on_conflict","restriction":""}],"args_string":"(table, fields, rows : Int32, unique_fields, on_conflict)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L57","def":{"name":"insert_on_duplicate","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":"Int32"},{"name":"unique_fields","doc":null,"default_value":"","external_name":"unique_fields","restriction":""},{"name":"on_conflict","doc":null,"default_value":"","external_name":"on_conflict","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |io|\n  ((io << \"INSERT INTO \") << table) << \" (\"\n  fields.join(\", \", io)\n  escaped_row = (\"(\" + (escape_string(fields.size))) + \")\"\n  io << \") VALUES \"\n  rows.times.join(\", \", io) do\n    io << escaped_row\n  end\n  ((io << \" ON CONFLICT (\") << (unique_fields.join(\", \"))) << \") \"\n  if on_conflict.empty?\n    io << \"DO NOTHING\"\n  else\n    io << \"DO UPDATE SET \"\n    on_conflict.each_with_index do |__arg0, index|\n      field = __arg0[0]\n      value = __arg0[1]\n      if index != 0\n        io << \", \"\n      end\n      io << (field_assign_statement(field.to_s, value))\n    end\n  end\nend"}},{"id":"json_path(path:QueryBuilder::JSONSelector)-class-method","html_id":"json_path(path:QueryBuilder::JSONSelector)-class-method","name":"json_path","doc":null,"summary":null,"abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"QueryBuilder::JSONSelector"}],"args_string":"(path : QueryBuilder::JSONSelector)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L95","def":{"name":"json_path","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"QueryBuilder::JSONSelector"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"operator = case path.type\nwhen :path\n  \"#>\"\nwhen :take\n  \"->\"\nelse\n  raise(\"Wrong json path type\")\nend\n\"#{path.identifier}#{operator}#{quote(path.path)}\"\n"}},{"id":"operator_to_sql(operator:Symbol)-class-method","html_id":"operator_to_sql(operator:Symbol)-class-method","name":"operator_to_sql","doc":null,"summary":null,"abstract":false,"args":[{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":"Symbol"}],"args_string":"(operator : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L91","def":{"name":"operator_to_sql","args":[{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"OPERATORS[operator]? || operator.to_s"}},{"id":"order_expression(expression:QueryBuilder::OrderItem)-class-method","html_id":"order_expression(expression:QueryBuilder::OrderItem)-class-method","name":"order_expression","doc":null,"summary":null,"abstract":false,"args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":"QueryBuilder::OrderItem"}],"args_string":"(expression : QueryBuilder::OrderItem)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L83","def":{"name":"order_expression","args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":"QueryBuilder::OrderItem"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if expression.null_position.none?\n  super(expression)\nelse\n  (super(expression)) + \" NULLS #{expression.null_position}\"\nend"}},{"id":"parse_query(query,args:Array(DBAny))-class-method","html_id":"parse_query(query,args:Array(DBAny))-class-method","name":"parse_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array(DBAny)"}],"args_string":"(query, args : Array(DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L135","def":{"name":"parse_query","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array(DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"arr = Array(String).new(args.size)\nargs.each_with_index do |arg, i|\n  if arg.is_a?(Time)\n    args[i] = (arg.as(Time)).to_utc\n  end\n  arr << \"$#{i + 1}\"\nend\n{query % arr, args}\n"}},{"id":"quote(value:String)-class-method","html_id":"quote(value:String)-class-method","name":"quote","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L131","def":{"name":"quote","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"'#{(value.gsub(/\\\\/, \"&&\")).gsub(/'/, \"''\")}'\""}},{"id":"update(query,options:Hash)-class-method","html_id":"update(query,options:Hash)-class-method","name":"update","doc":"Generates update request depending on given query and hash options.\n\nAllows joins inside of query.","summary":"<p>Generates update request depending on given query and hash options.</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(query, options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L41","def":{"name":"update","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"esc = escape_string(1)\nString.build do |s|\n  ((s << \"UPDATE \") << query._table) << \" SET \"\n  options.map do |k, _|\n    \"#{k.to_s}= #{esc}\"\n  end.join(\", \", s)\n  s << ' '\n  if query._joins?\n    from_clause(s, query._joins![0].table_name(self))\n  end\n  where_clause(s, query.tree)\n  if query._joins?\n    where_clause(s, query._joins![0].on)\n    query._joins![1..-1].join(\" \", s) do |e|\n      s << (e.as_sql(self))\n    end\n  end\nend\n"}},{"id":"values_expression(field:Symbol)-class-method","html_id":"values_expression(field:Symbol)-class-method","name":"values_expression","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"}],"args_string":"(field : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/sql_generator.cr#L79","def":{"name":"values_expression","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"excluded.#{field}\""}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Query","path":"Jennifer/Query.html","kind":"alias","full_name":"Jennifer::Query","name":"Query","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/query.cr","line_number":592,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"Jennifer::QueryBuilder::Query","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"Shortcut for the query class name.","summary":"<p>Shortcut for the query class name.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","path":"Jennifer/QueryBuilder.html","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/statement.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/statement.cr"},{"filename":"jennifer/query_builder/sql_node.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/sql_node.cr"},{"filename":"jennifer/query_builder.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder.cr"},{"filename":"jennifer/query_builder/aggregations.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr"},{"filename":"jennifer/query_builder/all.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/all.cr"},{"filename":"jennifer/query_builder/any.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/any.cr"},{"filename":"jennifer/query_builder/cast.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr"},{"filename":"jennifer/query_builder/common_table_expression.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/common_table_expression.cr"},{"filename":"jennifer/query_builder/logic_operator.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr"},{"filename":"jennifer/query_builder/condition.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr"},{"filename":"jennifer/query_builder/json_selector.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/json_selector.cr"},{"filename":"jennifer/query_builder/order_item.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr"},{"filename":"jennifer/query_builder/criteria.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr"},{"filename":"jennifer/query_builder/eager_loading.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/eager_loading.cr"},{"filename":"jennifer/query_builder/executables.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr"},{"filename":"jennifer/query_builder/expression_builder.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/grouping.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/grouping.cr"},{"filename":"jennifer/query_builder/ordering.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr"},{"filename":"jennifer/query_builder/joining.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/joining.cr"},{"filename":"jennifer/query_builder/query.cr","line_number":7,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr"},{"filename":"jennifer/query_builder/i_model_query.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr"},{"filename":"jennifer/query_builder/join.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr"},{"filename":"jennifer/query_builder/model_query.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/model_query.cr"},{"filename":"jennifer/query_builder/relation_tree.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr"},{"filename":"jennifer/query_builder/multi_query_relation_tree.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/multi_query_relation_tree.cr"},{"filename":"jennifer/query_builder/nested_relation_tree.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/nested_relation_tree.cr"},{"filename":"jennifer/query_builder/query_object.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query_object.cr"},{"filename":"jennifer/query_builder/raw_sql.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr"},{"filename":"jennifer/query_builder/star.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/star.cr"},{"filename":"jennifer/query_builder/values.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/values.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/AbsFunction","path":"Jennifer/QueryBuilder/AbsFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::AbsFunction","name":"AbsFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":252,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the absolute value of an argument.","summary":"<p>Returns the absolute value of an argument.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L253","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"ABS(#{operand_sql(operands[0], generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Aggregations","path":"Jennifer/QueryBuilder/Aggregations.html","kind":"module","full_name":"Jennifer::QueryBuilder::Aggregations","name":"Aggregations","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/aggregations.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Contains aggregation query functions.","summary":"<p>Contains aggregation query functions.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"avg(field,klass:T.class):TforallT-instance-method","html_id":"avg(field,klass:T.class):TforallT-instance-method","name":"avg","doc":"Returns average value of the field *field* of type *klass*.\n\n*field* is pasted **as is** into the query. Also `ArgumentError` is raised if any grouping\nis already specified.\n\n```\n# for MySQL\nJennifer::Query[\"contacts\"].avg(\"age\", Float64) # => 17.5\n# for PostgreSQL\nJennifer::Query[\"contacts\"].avg(\"age\", PG::Numeric) # => 17.5 of PG::Numeric\n```","summary":"<p>Returns average value of the field <em>field</em> of type <em>klass</em>.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : T forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr#L67","def":{"name":"avg","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"if _groups?\n  raise(ArgumentError.new(\"Cannot be used with grouping\"))\nend\n(group_avg(field, klass))[0]\n"}},{"id":"count:Int32-instance-method","html_id":"count:Int32-instance-method","name":"count","doc":"Returns result row count.\n\n```\nJennifer::Query[\"contacts\"].count # => 123\n```","summary":"<p>Returns result row count.</p>","abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr#L10","def":{"name":"count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32","visibility":"Public","body":"adapter.count(self)"}},{"id":"group_avg(field,klass:T.class):Array(T)forallT-instance-method","html_id":"group_avg(field,klass:T.class):Array(T)forallT-instance-method","name":"group_avg","doc":"Returns array of average values of the field *field* of type *klass* in groups.\n\n*field* is pasted **as is** into the query.\n\n```\n# MySQL\nJennifer::Query[\"contacts\"].group(:city_id).group_avg(\"age\", Float64) # => [45.0, 39.0]\n# PostgreSQL\nJennifer::Query[\"contacts\"].group(:city_id).group_avg(\"age\", PG::Numeric) # => [45.0, 39.0] of PG::Numeric\n```","summary":"<p>Returns array of average values of the field <em>field</em> of type <em>klass</em> in groups.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : Array(T) forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr#L145","def":{"name":"group_avg","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(T)","visibility":"Public","body":"old_select = @raw_select\n@raw_select = \"AVG(#{field}) as a\"\nresult = to_a.map(&.[](\"a\"))\n@raw_select = old_select\nIfrit.typed_array_cast(result, T)\n"}},{"id":"group_count(field)-instance-method","html_id":"group_count(field)-instance-method","name":"group_count","doc":"Returns array of counts values of the field *field* of type *klass* in groups.\n\n*field* is pasted **as is** into the query.\n\n```\nJennifer::Query[\"contacts\"].group(:city_id).group_count(\"age\", Int32) # => [45, 39]\n```","summary":"<p>Returns array of counts values of the field <em>field</em> of type <em>klass</em> in groups.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"args_string":"(field)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr#L79","def":{"name":"group_count","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"old_select = @raw_select\n@raw_select = \"COUNT(#{field}) as c\"\nresult = to_a.map(&.[](\"c\"))\n@raw_select = old_select\nresult\n"}},{"id":"group_max(field,klass:T.class):Array(T)forallT-instance-method","html_id":"group_max(field,klass:T.class):Array(T)forallT-instance-method","name":"group_max","doc":"Returns array of maximum values of the field *field* of type *klass* in groups.\n\n*field* is pasted **as is** into the query.\n\n```\nJennifer::Query[\"contacts\"].group(:city_id).group_max(\"age\", Int32) # => [45, 39]\n```","summary":"<p>Returns array of maximum values of the field <em>field</em> of type <em>klass</em> in groups.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : Array(T) forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr#L94","def":{"name":"group_max","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(T)","visibility":"Public","body":"old_select = @raw_select\n@raw_select = \"MAX(#{field}) as m\"\nresult = to_a.map(&.[](\"m\"))\n@raw_select = old_select\nIfrit.typed_array_cast(result, T)\n"}},{"id":"group_min(field,klass:T.class):Array(T)forallT-instance-method","html_id":"group_min(field,klass:T.class):Array(T)forallT-instance-method","name":"group_min","doc":"Returns array of minimum values of the field *field* of type *klass* in groups.\n\n*field* is pasted **as is** into the query.\n\n```\nJennifer::Query[\"contacts\"].group(:city_id).group_min(\"age\", Int32) # => [45, 39]\n```","summary":"<p>Returns array of minimum values of the field <em>field</em> of type <em>klass</em> in groups.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : Array(T) forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr#L109","def":{"name":"group_min","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(T)","visibility":"Public","body":"old_select = @raw_select\n@raw_select = \"MIN(#{field}) as m\"\nresult = to_a.map(&.[](\"m\"))\n@raw_select = old_select\nIfrit.typed_array_cast(result, T)\n"}},{"id":"group_sum(field,klass:T.class):Array(T)forallT-instance-method","html_id":"group_sum(field,klass:T.class):Array(T)forallT-instance-method","name":"group_sum","doc":"Returns array of values sums of the field *field* of type *klass* in groups.\n\n*field* is pasted **as is** into the query.\n\n```\n# MySQL\nJennifer::Query[\"contacts\"].group(:city_id).group_sum(\"age\", Float64) # => [45.0, 39.0]\n# PostgreSQL\nJennifer::Query[\"contacts\"].group(:city_id).group_sum(\"age\", Int64) # => [45, 39] of Int64\n```","summary":"<p>Returns array of values sums of the field <em>field</em> of type <em>klass</em> in groups.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : Array(T) forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr#L127","def":{"name":"group_sum","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(T)","visibility":"Public","body":"old_select = @raw_select\n@raw_select = \"SUM(#{field}) as s\"\nresult = to_a.map(&.[](\"s\"))\n@raw_select = old_select\nIfrit.typed_array_cast(result, T)\n"}},{"id":"max(field,klass:T.class):TforallT-instance-method","html_id":"max(field,klass:T.class):TforallT-instance-method","name":"max","doc":"Returns maximum value of the field *field* of type *klass*.\n\n*field* is pasted **as is** into the query. Also `ArgumentError` is raised if any grouping\nis already specified.\n\n```\nJennifer::Query[\"contacts\"].max(\"age\", Int32) # => 45\n```","summary":"<p>Returns maximum value of the field <em>field</em> of type <em>klass</em>.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : T forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr#L22","def":{"name":"max","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"if _groups?\n  raise(ArgumentError.new(\"Cannot be used with grouping\"))\nend\n(group_max(field, klass))[0]\n"}},{"id":"min(field,klass:T.class):TforallT-instance-method","html_id":"min(field,klass:T.class):TforallT-instance-method","name":"min","doc":"Returns minimum value of the field *field* of type *klass*.\n\n*field* is pasted **as is** into the query. Also `ArgumentError` is raised if any grouping\nis already specified.\n\n```\nJennifer::Query[\"contacts\"].min(\"age\", Int32) # => 18\n```","summary":"<p>Returns minimum value of the field <em>field</em> of type <em>klass</em>.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : T forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr#L35","def":{"name":"min","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"if _groups?\n  raise(ArgumentError.new(\"Cannot be used with grouping\"))\nend\n(group_min(field, klass))[0]\n"}},{"id":"sum(field,klass:T.class):TforallT-instance-method","html_id":"sum(field,klass:T.class):TforallT-instance-method","name":"sum","doc":"Returns sum of the field *field* of type *klass*.\n\n*field* is pasted **as is** into the query. Also `ArgumentError` is raised if any grouping\nis already specified.\n\n```\n# for MySQL\nJennifer::Query[\"contacts\"].sum(\"age\", Float64) # => 1000.0\n# for PostgreSQL\nJennifer::Query[\"contacts\"].sum(\"age\", Int64) # => 1000i64\n```","summary":"<p>Returns sum of the field <em>field</em> of type <em>klass</em>.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : T forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/aggregations.cr#L51","def":{"name":"sum","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"if _groups?\n  raise(ArgumentError.new(\"Cannot be used with grouping\"))\nend\n(group_sum(field, klass))[0]\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/All","path":"Jennifer/QueryBuilder/All.html","kind":"class","full_name":"Jennifer::QueryBuilder::All","name":"All","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/all.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/all.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Container for the `ALL` sql expression.","summary":"<p>Container for the <code>ALL</code> sql expression.</p>","class_methods":[],"constructors":[{"id":"new(query)-class-method","html_id":"new(query)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/all.cr#L9","def":{"name":"new","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/all.cr#L16","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"ALL (#{@query.as_sql(generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/all.cr#L7","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":"Returns whether node has an argument to be added to sql statement arguments.","summary":"<p>Returns whether node has an argument to be added to sql statement arguments.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/all.cr#L12","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query.filterable?"}},{"id":"query:Query-instance-method","html_id":"query:Query-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Query","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/all.cr#L7","def":{"name":"query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Query","visibility":"Public","body":"@query"}},{"id":"sql_args(*args,**options):Array(DBAny)-instance-method","html_id":"sql_args(*args,**options):Array(DBAny)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options) : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/all.cr#L20","def":{"name":"sql_args","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"query.sql_args(*args, **options)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/And","path":"Jennifer/QueryBuilder/And.html","kind":"class","full_name":"Jennifer::QueryBuilder::And","name":"And","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":89,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"OPERATOR","name":"OPERATOR","value":"\"AND\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L92","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"operator-instance-method","html_id":"operator-instance-method","name":"operator","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L94","def":{"name":"operator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"OPERATOR"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Any","path":"Jennifer/QueryBuilder/Any.html","kind":"class","full_name":"Jennifer::QueryBuilder::Any","name":"Any","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/any.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/any.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Container for the `ANY` sql expression.","summary":"<p>Container for the <code>ANY</code> sql expression.</p>","class_methods":[],"constructors":[{"id":"new(query)-class-method","html_id":"new(query)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/any.cr#L9","def":{"name":"new","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/any.cr#L16","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"ANY (#{@query.as_sql(generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/any.cr#L7","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":"Returns whether node has an argument to be added to sql statement arguments.","summary":"<p>Returns whether node has an argument to be added to sql statement arguments.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/any.cr#L12","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query.filterable?"}},{"id":"query:Query-instance-method","html_id":"query:Query-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Query","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/any.cr#L7","def":{"name":"query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Query","visibility":"Public","body":"@query"}},{"id":"sql_args(*args,**options):Array(DBAny)-instance-method","html_id":"sql_args(*args,**options):Array(DBAny)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options) : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/any.cr#L20","def":{"name":"sql_args","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"query.sql_args(*args, **options)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/AvgFunction","path":"Jennifer/QueryBuilder/AvgFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::AvgFunction","name":"AvgFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":344,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the average of given field values.\n\n```\nJennifer::Query[\"users\"].select { [_gender, avg(_age).alias(\"human_age\")] }.group(:gender)\n```","summary":"<p>Returns the average of given field values.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L352","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"AVG(#{operand_sql(operands[0], generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Cast","path":"Jennifer/QueryBuilder/Cast.html","kind":"class","full_name":"Jennifer::QueryBuilder::Cast","name":"Cast","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/cast.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"SQL `CAST` expression.","summary":"<p>SQL <code>CAST</code> expression.</p>","class_methods":[],"constructors":[{"id":"new(expression,type)-class-method","html_id":"new(expression,type)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(expression, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L8","def":{"name":"new","args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(expression, type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"alias_tables(*args,**options)-instance-method","html_id":"alias_tables(*args,**options)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L6","def":{"name":"alias_tables","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"expression.alias_tables(*args, **options)"}},{"id":"alias_tables(*args,**options,&block)-instance-method","html_id":"alias_tables(*args,**options,&amp;block)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L6","def":{"name":"alias_tables","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"expression.alias_tables(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L18","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"generator.cast_expression(expression, type)"}},{"id":"change_table(*args,**options)-instance-method","html_id":"change_table(*args,**options)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L6","def":{"name":"change_table","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"expression.change_table(*args, **options)"}},{"id":"change_table(*args,**options,&block)-instance-method","html_id":"change_table(*args,**options,&amp;block)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L6","def":{"name":"change_table","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"expression.change_table(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L11","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"expression:SQLNode-instance-method","html_id":"expression:SQLNode-instance-method","name":"expression","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : SQLNode","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L6","def":{"name":"expression","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"SQLNode","visibility":"Public","body":"@expression"}},{"id":"filterable?(*args,**options)-instance-method","html_id":"filterable?(*args,**options)-instance-method","name":"filterable?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L6","def":{"name":"filterable?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"expression.filterable?(*args, **options)"}},{"id":"filterable?(*args,**options,&block)-instance-method","html_id":"filterable?(*args,**options,&amp;block)-instance-method","name":"filterable?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L6","def":{"name":"filterable?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"expression.filterable?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"set_relation(*args,**options)-instance-method","html_id":"set_relation(*args,**options)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L6","def":{"name":"set_relation","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"expression.set_relation(*args, **options)"}},{"id":"set_relation(*args,**options,&block)-instance-method","html_id":"set_relation(*args,**options,&amp;block)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L6","def":{"name":"set_relation","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"expression.set_relation(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"sql_args(*args,**options):Array(DBAny)-instance-method","html_id":"sql_args(*args,**options):Array(DBAny)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options) : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L13","def":{"name":"sql_args","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"expression.sql_args(*args, **options)"}},{"id":"type:String-instance-method","html_id":"type:String-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/cast.cr#L6","def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@type"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CeilFunction","path":"Jennifer/QueryBuilder/CeilFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::CeilFunction","name":"CeilFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":258,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the smallest integer value that is greater than or equal to argument.\n\n```\nJennifer::Query[\"users\"].where { ceil(_rating) > 4 }\n```","summary":"<p>Returns the smallest integer value that is greater than or equal to argument.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L266","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"CEIL(#{operand_sql(operands[0], generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CoalesceFunction","path":"Jennifer/QueryBuilder/CoalesceFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::CoalesceFunction","name":"CoalesceFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":163,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the first non-null argument in a list\n\n```\nJennifer::Query[\"users\"].where { coalesce(nil, sql(\"NULL\"), _name) }\n```","summary":"<p>Returns the first non-null argument in a list</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L171","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"COALESCE(#{operands_to_sql(generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CommonTableExpression","path":"Jennifer/QueryBuilder/CommonTableExpression.html","kind":"class","full_name":"Jennifer::QueryBuilder::CommonTableExpression","name":"CommonTableExpression","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/common_table_expression.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/common_table_expression.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Presents single common table expression.","summary":"<p>Presents single common table expression.</p>","class_methods":[],"constructors":[{"id":"new(name:String,query:Query,is_recursive:Bool)-class-method","html_id":"new(name:String,query:Query,is_recursive:Bool)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query"},{"name":"is_recursive","doc":null,"default_value":"","external_name":"is_recursive","restriction":"Bool"}],"args_string":"(name : String, query : Query, is_recursive : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/common_table_expression.cr#L9","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query"},{"name":"is_recursive","doc":null,"default_value":"","external_name":"is_recursive","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, query, is_recursive)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/common_table_expression.cr#L12","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"filterable?(*args,**options)-instance-method","html_id":"filterable?(*args,**options)-instance-method","name":"filterable?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/common_table_expression.cr#L14","def":{"name":"filterable?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query.filterable?(*args, **options)"}},{"id":"filterable?(*args,**options,&block)-instance-method","html_id":"filterable?(*args,**options,&amp;block)-instance-method","name":"filterable?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/common_table_expression.cr#L14","def":{"name":"filterable?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"query.filterable?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":"Expression name.","summary":"<p>Expression name.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/common_table_expression.cr#L5","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@name"}},{"id":"query:Jennifer::QueryBuilder::Query-instance-method","html_id":"query:Jennifer::QueryBuilder::Query-instance-method","name":"query","doc":"Expression query.","summary":"<p>Expression query.</p>","abstract":false,"args":[],"args_string":" : Jennifer::QueryBuilder::Query","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/common_table_expression.cr#L7","def":{"name":"query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@query"}},{"id":"recursive?:Bool-instance-method","html_id":"recursive?:Bool-instance-method","name":"recursive?","doc":"Returns whether expression is recursive.","summary":"<p>Returns whether expression is recursive.</p>","abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/common_table_expression.cr#L17","def":{"name":"recursive?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@is_recursive"}},{"id":"sql_args(*args,**options)-instance-method","html_id":"sql_args(*args,**options)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/common_table_expression.cr#L14","def":{"name":"sql_args","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query.sql_args(*args, **options)"}},{"id":"sql_args(*args,**options,&block)-instance-method","html_id":"sql_args(*args,**options,&amp;block)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/common_table_expression.cr#L14","def":{"name":"sql_args","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"query.sql_args(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ConcatFunction","path":"Jennifer/QueryBuilder/ConcatFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::ConcatFunction","name":"ConcatFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":226,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Concatenates all arguments into one string.\n\n```\nJennifer::Query[\"users\"].select { [concat(_name, \" \", _surname)] }\n```","summary":"<p>Concatenates all arguments into one string.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L234","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"CONCAT(#{operands_to_sql(generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ConcatWsFunction","path":"Jennifer/QueryBuilder/ConcatWsFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::ConcatWsFunction","name":"ConcatWsFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":239,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Concatenates all arguments starting from the 2nd into one string using the 1st one as a separator.\n\n```\nJennifer::Query[\"users\"].select { [concat_ws(\" \", _name, _middle_name, _surname)] }\n```","summary":"<p>Concatenates all arguments starting from the 2nd into one string using the 1st one as a separator.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L247","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"CONCAT_WS(#{operands_to_sql(generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Condition","path":"Jennifer/QueryBuilder/Condition.html","kind":"class","full_name":"Jennifer::QueryBuilder::Condition","name":"Condition","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/condition.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"IN_OPERATOR_PATTERN","name":"IN_OPERATOR_PATTERN","value":"\"%s IN(%s)\"","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Container for any kind of expression/condition.","summary":"<p>Container for any kind of expression/condition.</p>","class_methods":[],"constructors":[{"id":"new(field:String,table:String,relation=nil)-class-method","html_id":"new(field:String,table:String,relation=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"args_string":"(field : String, table : String, relation = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L23","def":{"name":"new","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(field, table, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(lhs,operator,rhs)-class-method","html_id":"new(lhs,operator,rhs)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""},{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":""},{"name":"rhs","doc":null,"default_value":"","external_name":"rhs","restriction":""}],"args_string":"(lhs, operator, rhs)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L30","def":{"name":"new","args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""},{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":""},{"name":"rhs","doc":null,"default_value":"","external_name":"rhs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(lhs, operator, rhs)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(lhs)-class-method","html_id":"new(lhs)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""}],"args_string":"(lhs)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L27","def":{"name":"new","args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(lhs)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"==(other)-instance-method","html_id":"==(other)-instance-method","name":"==","doc":"Returns `false` (other can only be a `Value` here).","summary":"<p>Returns <code>false</code> (other can only be a <code>Value</code> here).</p>","abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"args_string":"(other)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L42","def":{"name":"==","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"eql?(other)"}},{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L66","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lhs.alias_tables(aliases)\nif @rhs.is_a?(SQLNode)\n  (@rhs.as(SQLNode)).alias_tables(aliases)\nend\n"}},{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L92","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"str = case @operator\nwhen :bool\n  converted_lhs(generator)\nwhen :in\n  in_rhs_sql(generator)\nwhen :between\n  rhs = @rhs.as(Array)\n  \"#{converted_lhs(generator)} BETWEEN #{generator.filter_out(rhs[0])} AND #{generator.filter_out(rhs[1])}\"\nelse\n  \"#{converted_lhs(generator)} #{generator.operator_to_sql(@operator)} #{converted_rhs(generator)}\"\nend\nif @negative\n  str = \"NOT (#{str})\"\nend\nstr\n"}},{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L88","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql(Adapter.default_adapter.sql_generator)"}},{"id":"change_table(old_name,new_name)-instance-method","html_id":"change_table(old_name,new_name)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L71","def":{"name":"change_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lhs.change_table(old_name, new_name)\nif @rhs.is_a?(SQLNode)\n  (@rhs.as(SQLNode)).change_table(old_name, new_name)\nend\n"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L33","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"eql?(other:Condition)-instance-method","html_id":"eql?(other:Condition)-instance-method","name":"eql?","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Condition"}],"args_string":"(other : Condition)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L46","def":{"name":"eql?","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Condition"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(((lhs.eql?(other.lhs)) && (operator == other.operator)) && (@negative == (other.@negative))) && (if rhs.is_a?(SQLNode) && other.rhs.is_a?(SQLNode)\n  (rhs.as(SQLNode)).eql?(other.rhs.as(SQLNode))\nelse\n  if (!rhs.is_a?(SQLNode)) && (!other.rhs.is_a?(SQLNode))\n    (rhs.as(DBAny | Array(DBAny))) == (other.rhs.as(DBAny | Array(DBAny)))\n  end\nend)"}},{"id":"eql?(other)-instance-method","html_id":"eql?(other)-instance-method","name":"eql?","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"args_string":"(other)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L57","def":{"name":"eql?","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"false"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":"Returns whether node has an argument to be added to sql statement arguments.","summary":"<p>Returns whether node has an argument to be added to sql statement arguments.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L129","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @lhs.filterable?\n  true\nelse\n  if @operator == (:bool)\n    false\n  else\n    if @rhs.is_a?(SQLNode)\n      (@rhs.as(SQLNode)).filterable?\n    else\n      if (@operator == (:is)) || (@operator == (:is_not))\n        false\n      else\n        if @rhs.is_a?(Array)\n          (@rhs.as(Array)).any? do |e|\n            (!e.is_a?(SQLNode)) || e.filterable?\n          end\n        else\n          true\n        end\n      end\n    end\n  end\nend"}},{"id":"lhs:SQLNode-instance-method","html_id":"lhs:SQLNode-instance-method","name":"lhs","doc":"Left hand side of condition.","summary":"<p>Left hand side of condition.</p>","abstract":false,"args":[],"args_string":" : SQLNode","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L15","def":{"name":"lhs","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"SQLNode","visibility":"Public","body":"@lhs"}},{"id":"not-instance-method","html_id":"not-instance-method","name":"not","doc":"Makes condition negative.\n\nWill add `NOT` statement before condition in generated SQL.","summary":"<p>Makes condition negative.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L79","def":{"name":"not","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@negative = !@negative\nself\n"}},{"id":"operator:Symbol-instance-method","html_id":"operator:Symbol-instance-method","name":"operator","doc":"Condition operator.","summary":"<p>Condition operator.</p>","abstract":false,"args":[],"args_string":" : Symbol","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L21","def":{"name":"operator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol","visibility":"Public","body":"@operator"}},{"id":"rhs:Criteria::Rightable?-instance-method","html_id":"rhs:Criteria::Rightable?-instance-method","name":"rhs","doc":"Right hand side of condition.","summary":"<p>Right hand side of condition.</p>","abstract":false,"args":[],"args_string":" : Criteria::Rightable?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L18","def":{"name":"rhs","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Criteria::Rightable | ::Nil","visibility":"Public","body":"@rhs"}},{"id":"set_relation(table,name)-instance-method","html_id":"set_relation(table,name)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L61","def":{"name":"set_relation","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lhs.set_relation(table, name)\nif @rhs.is_a?(SQLNode)\n  (@rhs.as(SQLNode)).set_relation(table, name)\nend\n"}},{"id":"sql_args:Array(DBAny)-instance-method","html_id":"sql_args:Array(DBAny)-instance-method","name":"sql_args","doc":"Returns array of SQL query arguments.","summary":"<p>Returns array of SQL query arguments.</p>","abstract":false,"args":[],"args_string":" : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L109","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"res = @lhs.sql_args\nif @operator == (:bool)\n  return res\nend\nif @rhs.is_a?(SQLNode)\n  res.concat((@rhs.as(SQLNode)).sql_args)\nelse\n  if @rhs.is_a?(Array) && ((@operator == (:in)) || (@operator == (:between)))\n    (@rhs.as(Array)).each do |e|\n      if e.is_a?(SQLNode)\n        res.concat(e.sql_args)\n      else\n        res << (e.as(DBAny))\n      end\n    end\n  else\n    if (@operator != (:is)) && (@operator != (:is_not))\n      res << (@rhs.as(DBAny))\n    end\n  end\nend\nres\n"}},{"id":"to_s-instance-method","html_id":"to_s-instance-method","name":"to_s","doc":"Returns a string representation of this object.\n\nDescendants must usually **not** override this method. Instead,\nthey must override `to_s(io)`, which must append to the given\nIO object.","summary":"<p>Returns a string representation of this object.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/condition.cr#L84","def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CountFunction","path":"Jennifer/QueryBuilder/CountFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::CountFunction","name":"CountFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":284,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the count of given field.\n\nIf no argument is specified - `*` is used by default\n\n```\nJennifer::Query[\"users\"].select { [_gender, count.alias(\"human_count\")] }.group(:gender)\n```","summary":"<p>Returns the count of given field.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L294","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"identifier = if operands.empty?\n  \"*\"\nelse\n  operand_sql(operands[0], generator)\nend\n\"COUNT(#{identifier})\"\n"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","path":"Jennifer/QueryBuilder/Criteria.html","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder.cr"},{"filename":"jennifer/query_builder/criteria.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr"},{"filename":"jennifer/adapter/postgres/criteria.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/criteria.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/JSONSelector","kind":"class","full_name":"Jennifer::QueryBuilder::JSONSelector","name":"JSONSelector"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RawSql","kind":"class","full_name":"Jennifer::QueryBuilder::RawSql","name":"RawSql"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Star","kind":"class","full_name":"Jennifer::QueryBuilder::Star","name":"Star"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Basic class describing filterable/selectable database atom. By default it is table column.\n\nTODO: rename to Criterion","summary":"<p>Basic class describing filterable/selectable database atom.</p>","class_methods":[],"constructors":[{"id":"new(field:String,table:String,relation=nil)-class-method","html_id":"new(field:String,table:String,relation=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"args_string":"(field : String, table : String, relation = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L18","def":{"name":"new","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(field, table, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"!=(value:Symbol)-instance-method","html_id":"!=(value:Symbol)-instance-method","name":"!=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol"}],"args_string":"(value : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L84","def":{"name":"!=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self != value.to_s"}},{"id":"!=(value:Rightable)-instance-method","html_id":"!=(value:Rightable)-instance-method","name":"!=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L92","def":{"name":"!=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if !value.nil?\n  Condition.new(self, :!=, value)\nelse\n  not(value)\nend"}},{"id":"&(other:LogicOperator::Operandable)-instance-method","html_id":"&amp;(other:LogicOperator::Operandable)-instance-method","name":"&","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"args_string":"(other : LogicOperator::Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L125","def":{"name":"&","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"to_condition & other"}},{"id":"*(value:Rightable)-instance-method","html_id":"*(value:Rightable)-instance-method","name":"*","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":"*","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :*, value)"}},{"id":"+(value:Rightable)-instance-method","html_id":"+(value:Rightable)-instance-method","name":"+","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":"+","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :+, value)"}},{"id":"-(value:Rightable)-instance-method","html_id":"-(value:Rightable)-instance-method","name":"-","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":"-","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :-, value)"}},{"id":"/(value:Rightable)-instance-method","html_id":"/(value:Rightable)-instance-method","name":"/","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":"/","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :/, value)"}},{"id":"<(value:Rightable)-instance-method","html_id":"&lt;(value:Rightable)-instance-method","name":"<","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":"<","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :<, value)"}},{"id":"<=(value:Rightable)-instance-method","html_id":"&lt;=(value:Rightable)-instance-method","name":"<=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":"<=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :<=, value)"}},{"id":"==(value:Symbol)-instance-method","html_id":"==(value:Symbol)-instance-method","name":"==","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol"}],"args_string":"(value : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L71","def":{"name":"==","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == value.to_s"}},{"id":"==(value:Rightable)-instance-method","html_id":"==(value:Rightable)-instance-method","name":"==","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L75","def":{"name":"==","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if !value.nil?\n  Condition.new(self, :==, value)\nelse\n  is(value)\nend"}},{"id":"=~(value:String)-instance-method","html_id":"=~(value:String)-instance-method","name":"=~","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L67","def":{"name":"=~","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"regexp(value)"}},{"id":">(value:Rightable)-instance-method","html_id":"&gt;(value:Rightable)-instance-method","name":">","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":">","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :>, value)"}},{"id":">=(value:Rightable)-instance-method","html_id":"&gt;=(value:Rightable)-instance-method","name":">=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":">=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :>=, value)"}},{"id":"[](key)-instance-method","html_id":"[](key)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"args_string":"(key)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L57","def":{"name":"[]","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"take(key)"}},{"id":"alias:String?-instance-method","html_id":"alias:String?-instance-method","name":"alias","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L16","def":{"name":"alias","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@alias"}},{"id":"alias(name:String?)-instance-method","html_id":"alias(name:String?)-instance-method","name":"alias","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(name : String?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L44","def":{"name":"alias","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@alias = name\nself\n"}},{"id":"alias_tables(aliases:Hash(String,String))-instance-method","html_id":"alias_tables(aliases:Hash(String,String))-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":"Hash(String, String)"}],"args_string":"(aliases : Hash(String, String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L34","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":"Hash(String, String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @relation\n  @table = aliases[@relation.as(String)]\nend"}},{"id":"as_sql(_generator):String-instance-method","html_id":"as_sql(_generator):String-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"_generator","doc":null,"default_value":"","external_name":"_generator","restriction":""}],"args_string":"(_generator) : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L141","def":{"name":"as_sql","args":[{"name":"_generator","doc":null,"default_value":"","external_name":"_generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@ident || (@ident = identifier)"}},{"id":"asc-instance-method","html_id":"asc-instance-method","name":"asc","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L163","def":{"name":"asc","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"OrderItem.new(self, OrderItem::Direction::ASC)"}},{"id":"between(left:Rightable,right:Rightable)-instance-method","html_id":"between(left:Rightable,right:Rightable)-instance-method","name":"between","doc":null,"summary":null,"abstract":false,"args":[{"name":"left","doc":null,"default_value":"","external_name":"left","restriction":"Rightable"},{"name":"right","doc":null,"default_value":"","external_name":"right","restriction":"Rightable"}],"args_string":"(left : Rightable, right : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L101","def":{"name":"between","args":[{"name":"left","doc":null,"default_value":"","external_name":"left","restriction":"Rightable"},{"name":"right","doc":null,"default_value":"","external_name":"right","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :between, [left, right] of DBAny)"}},{"id":"change_table(old_name:String,new_name:String)-instance-method","html_id":"change_table(old_name:String,new_name:String)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":"String"},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String"}],"args_string":"(old_name : String, new_name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L38","def":{"name":"change_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":"String"},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @table != old_name\n  return\nend\n@table = new_name\n@relation = nil\n"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L16","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"contain(value:Rightable)-instance-method","html_id":"contain(value:Rightable)-instance-method","name":"contain","doc":"Presents :contain operator.\n\nPostgreSQL specific.","summary":"<p>Presents :contain operator.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/criteria.cr#L2","def":{"name":"contain","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :contain, value)"}},{"id":"contained(value:Rightable)-instance-method","html_id":"contained(value:Rightable)-instance-method","name":"contained","doc":"Presents :contained operator.\n\nPostgreSQL specific.","summary":"<p>Presents :contained operator.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/criteria.cr#L2","def":{"name":"contained","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :contained, value)"}},{"id":"definition-instance-method","html_id":"definition-instance-method","name":"definition","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L149","def":{"name":"definition","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@alias ? \"#{identifier} AS #{@alias}\" : identifier"}},{"id":"definition(_sql_generator)-instance-method","html_id":"definition(_sql_generator)-instance-method","name":"definition","doc":null,"summary":null,"abstract":false,"args":[{"name":"_sql_generator","doc":null,"default_value":"","external_name":"_sql_generator","restriction":""}],"args_string":"(_sql_generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L153","def":{"name":"definition","args":[{"name":"_sql_generator","doc":null,"default_value":"","external_name":"_sql_generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"definition"}},{"id":"desc-instance-method","html_id":"desc-instance-method","name":"desc","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L167","def":{"name":"desc","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"OrderItem.new(self, OrderItem::Direction::DESC)"}},{"id":"eql?(other:Criteria)-instance-method","html_id":"eql?(other:Criteria)-instance-method","name":"eql?","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"args_string":"(other : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L23","def":{"name":"eql?","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(((field == other.field) && (table == other.table)) && (relation == other.relation)) && (self.alias == other.alias)"}},{"id":"field:String-instance-method","html_id":"field:String-instance-method","name":"field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L16","def":{"name":"field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@field"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":"Returns whether node has an argument to be added to sql statement arguments.","summary":"<p>Returns whether node has an argument to be added to sql statement arguments.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L175","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"false"}},{"id":"hash(hasher)-instance-method","html_id":"hash(hasher)-instance-method","name":"hash","doc":"See `Object#hash(hasher)`","summary":"<p>See <code>Object#hash(hasher)</code></p>","abstract":false,"args":[{"name":"hasher","doc":null,"default_value":"","external_name":"hasher","restriction":""}],"args_string":"(hasher)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L21","def":{"name":"hash","args":[{"name":"hasher","doc":null,"default_value":"","external_name":"hasher","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"hasher = @field.hash(hasher)\nhasher = @table.hash(hasher)\nhasher\n"}},{"id":"identifier:String-instance-method","html_id":"identifier:String-instance-method","name":"identifier","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L145","def":{"name":"identifier","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"\"#{@table}.#{@field.to_s}\""}},{"id":"ilike(value:Rightable)-instance-method","html_id":"ilike(value:Rightable)-instance-method","name":"ilike","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":"ilike","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :ilike, value)"}},{"id":"in(arr:Array)-instance-method","html_id":"in(arr:Array)-instance-method","name":"in","doc":null,"summary":null,"abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array"}],"args_string":"(arr : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L117","def":{"name":"in","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :in, arr.map do |e|\n  e.as(DBAny)\nend)"}},{"id":"in(arr:SQLNode)-instance-method","html_id":"in(arr:SQLNode)-instance-method","name":"in","doc":null,"summary":null,"abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"SQLNode"}],"args_string":"(arr : SQLNode)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L121","def":{"name":"in","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"SQLNode"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :in, arr)"}},{"id":"is(value:Symbol|Bool|Nil)-instance-method","html_id":"is(value:Symbol|Bool|Nil)-instance-method","name":"is","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol | Bool | Nil"}],"args_string":"(value : Symbol | Bool | Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L105","def":{"name":"is","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol | Bool | Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :is, value)"}},{"id":"like(value:Rightable)-instance-method","html_id":"like(value:Rightable)-instance-method","name":"like","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":"like","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :like, value)"}},{"id":"not-instance-method","html_id":"not-instance-method","name":"not","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L113","def":{"name":"not","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"to_condition.not"}},{"id":"not(value:Symbol|Bool|Nil)-instance-method","html_id":"not(value:Symbol|Bool|Nil)-instance-method","name":"not","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol | Bool | Nil"}],"args_string":"(value : Symbol | Bool | Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L109","def":{"name":"not","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol | Bool | Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :is_not, value)"}},{"id":"not_like(value:Rightable)-instance-method","html_id":"not_like(value:Rightable)-instance-method","name":"not_like","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":"not_like","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :not_like, value)"}},{"id":"not_regexp(value:Rightable)-instance-method","html_id":"not_regexp(value:Rightable)-instance-method","name":"not_regexp","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":"not_regexp","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :not_regexp, value)"}},{"id":"order(direction:String|Symbol)-instance-method","html_id":"order(direction:String|Symbol)-instance-method","name":"order","doc":null,"summary":null,"abstract":false,"args":[{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(direction : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L157","def":{"name":"order","args":[{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"order = asc\norder.direction = direction\norder\n"}},{"id":"overlap(value:Rightable)-instance-method","html_id":"overlap(value:Rightable)-instance-method","name":"overlap","doc":"Presents :overlap operator.\n\nPostgreSQL specific.","summary":"<p>Presents :overlap operator.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/postgres/criteria.cr#L2","def":{"name":"overlap","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :overlap, value)"}},{"id":"path(elements:String)-instance-method","html_id":"path(elements:String)-instance-method","name":"path","doc":null,"summary":null,"abstract":false,"args":[{"name":"elements","doc":null,"default_value":"","external_name":"elements","restriction":"String"}],"args_string":"(elements : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L49","def":{"name":"path","args":[{"name":"elements","doc":null,"default_value":"","external_name":"elements","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"JSONSelector.new(self, elements, :path)"}},{"id":"regexp(value:Rightable)-instance-method","html_id":"regexp(value:Rightable)-instance-method","name":"regexp","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L61","def":{"name":"regexp","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :regexp, value)"}},{"id":"relation:String?-instance-method","html_id":"relation:String?-instance-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L16","def":{"name":"relation","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@relation"}},{"id":"set_relation(table:String,name:String)-instance-method","html_id":"set_relation(table:String,name:String)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(table : String, name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L30","def":{"name":"set_relation","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @relation.nil? && (@table == table)\n  @relation = name\nend"}},{"id":"sql_args:Array(DBAny)-instance-method","html_id":"sql_args:Array(DBAny)-instance-method","name":"sql_args","doc":"Returns array of SQL query arguments.","summary":"<p>Returns array of SQL query arguments.</p>","abstract":false,"args":[],"args_string":" : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L171","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"[] of DBAny"}},{"id":"table:String-instance-method","html_id":"table:String-instance-method","name":"table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L16","def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table"}},{"id":"take(key:String|Number)-instance-method","html_id":"take(key:String|Number)-instance-method","name":"take","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String | Number"}],"args_string":"(key : String | Number)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"take","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String | Number"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"JSONSelector.new(self, key, :take)"}},{"id":"to_s-instance-method","html_id":"to_s-instance-method","name":"to_s","doc":"Returns a string representation of this object.\n\nDescendants must usually **not** override this method. Instead,\nthey must override `to_s(io)`, which must append to the given\nIO object.","summary":"<p>Returns a string representation of this object.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L137","def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql"}},{"id":"xor(other:LogicOperator::Operandable)-instance-method","html_id":"xor(other:LogicOperator::Operandable)-instance-method","name":"xor","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"args_string":"(other : LogicOperator::Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L133","def":{"name":"xor","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"to_condition.xor(other)"}},{"id":"|(other:LogicOperator::Operandable)-instance-method","html_id":"|(other:LogicOperator::Operandable)-instance-method","name":"|","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"args_string":"(other : LogicOperator::Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr#L129","def":{"name":"|","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"to_condition | other"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria/Rightable","path":"Jennifer/QueryBuilder/Criteria/Rightable.html","kind":"alias","full_name":"Jennifer::QueryBuilder::Criteria::Rightable","name":"Rightable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/criteria.cr","line_number":10,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/criteria.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Array(Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | Time::Span | UInt32 | Nil) | Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | Jennifer::QueryBuilder::SQLNode | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | Time::Span | UInt32 | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CurrentDateFunction","path":"Jennifer/QueryBuilder/CurrentDateFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::CurrentDateFunction","name":"CurrentDateFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":208,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the current date.","summary":"<p>Returns the current date.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L209","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"CURRENT_DATE\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CurrentTimeFunction","path":"Jennifer/QueryBuilder/CurrentTimeFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::CurrentTimeFunction","name":"CurrentTimeFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":214,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the current time.","summary":"<p>Returns the current time.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L215","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"CURRENT_TIME\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CurrentTimestampFunction","path":"Jennifer/QueryBuilder/CurrentTimestampFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::CurrentTimestampFunction","name":"CurrentTimestampFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":202,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the current date and time.","summary":"<p>Returns the current date and time.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L203","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"CURRENT_TIMESTAMP\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/EagerLoading","path":"Jennifer/QueryBuilder/EagerLoading.html","kind":"module","full_name":"Jennifer::QueryBuilder::EagerLoading","name":"EagerLoading","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/eager_loading.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/eager_loading.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/IModelQuery","kind":"class","full_name":"Jennifer::QueryBuilder::IModelQuery","name":"IModelQuery"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Includes methods required for associations eager loading.\n\nEager loading is a way to find objects of a certain class and a number of named associations.\nIt is one of the easiest ways to prevent the dreaded N+1 problem in which fetching 100 posts\nthat each need to display their author triggers 101 database queries. Through the use of eager\nloading, the number of queries will be reduced from 101 to 2.","summary":"<p>Includes methods required for associations eager loading.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"_select_fields:Array(Criteria)-instance-method","html_id":"_select_fields:Array(Criteria)-instance-method","name":"_select_fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/eager_loading.cr#L17","def":{"name":"_select_fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Criteria)","visibility":"Public","body":"if @select_fields.nil? && @eager_load\n  nested_relation_tree.select_fields(self)\nelse\n  super()\nend"}},{"id":"eager_load(*names,**deep_relations)-instance-method","html_id":"eager_load(*names,**deep_relations)-instance-method","name":"eager_load","doc":"Adds to select statement given relations (with corresponding `LEFT OUTER JOIN`) and loads them from results.\n\n```\nContact.all.eager_load(:addresses)\n# SELECT contacts.*, addresses.*\n# FROM users\n# LEFT JOIN addresses ON addresses.contact_id = contacts.id\n```\n\nYou can specify nested relationships same way as in `#includes`:\n\n```\nContact.all.includes(:addresses, friends: %i(addresses followers))\n```","summary":"<p>Adds to select statement given relations (with corresponding <code>LEFT OUTER JOIN</code>) and loads them from results.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names, **deep_relations)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/eager_loading.cr#L104","def":{"name":"eager_load","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":{"name":"deep_relations","doc":null,"default_value":"","external_name":"deep_relations","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@eager_load = true\nnames.each do |name|\n  nested_relation_tree.add_relation(self, name)\nend\ndeep_relations.each do |rel, nested_rel|\n  nested_relation_tree.add_deep_relation(self, rel, nested_rel)\nend\nself\n"}},{"id":"includes(*names,**deep_relations)-instance-method","html_id":"includes(*names,**deep_relations)-instance-method","name":"includes","doc":"Specify relationships to be included in the result set.\n\nAll specified relationships are loaded in a separate queries.\n\n```\nContact.all.includes(:addresses)\nContact.all.includes(:addresses, friends: %i(addresses followers))\n```","summary":"<p>Specify relationships to be included in the result set.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names, **deep_relations)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/eager_loading.cr#L72","def":{"name":"includes","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":{"name":"deep_relations","doc":null,"default_value":"","external_name":"deep_relations","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@include_relations = true\nnames.each do |name|\n  multi_query_relation_tree.add_relation(self, name)\nend\ndeep_relations.each do |rel, nested_rel|\n  multi_query_relation_tree.add_deep_relation(self, rel, nested_rel)\nend\nself\n"}},{"id":"multi_query_relation_tree-instance-method","html_id":"multi_query_relation_tree-instance-method","name":"multi_query_relation_tree","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/eager_loading.cr#L14","def":{"name":"multi_query_relation_tree","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"nested_relation_tree:NestedRelationTree-instance-method","html_id":"nested_relation_tree:NestedRelationTree-instance-method","name":"nested_relation_tree","doc":null,"summary":null,"abstract":true,"args":[],"args_string":" : NestedRelationTree","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/eager_loading.cr#L13","def":{"name":"nested_relation_tree","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"NestedRelationTree","visibility":"Public","body":""}},{"id":"preload(*names,**deep_relations)-instance-method","html_id":"preload(*names,**deep_relations)-instance-method","name":"preload","doc":"Alias for includes.","summary":"<p>Alias for includes.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names, **deep_relations)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/eager_loading.cr#L86","def":{"name":"preload","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":{"name":"deep_relations","doc":null,"default_value":"","external_name":"deep_relations","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"includes(*names, **deep_relations)"}},{"id":"with_relation(names:Array)-instance-method","html_id":"with_relation(names:Array)-instance-method","name":"with_relation","doc":"Mark recently added join to be used to retrieve for relations given in *names*.\n\nThis allows to specify custom JOIN and load results into specified relation.\n\n```\nContact.all.join(Address) { and(Address._contact_id == Contact._id, Address._main) }.with_relation([:addresses])\n```","summary":"<p>Mark recently added join to be used to retrieve for relations given in <em>names</em>.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":"Array"}],"args_string":"(names : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/eager_loading.cr#L43","def":{"name":"with_relation","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @joins\nelse\n  raise(BaseException.new(\"#with_relation should be called after corresponding join\"))\nend\njoin_array = _joins!.reverse\nnames.each do |name|\n  table_name = (model_class.relation(name)).table_name\n  temp_joins = join_array.select do |j|\n    j.table == table_name\n  end\n  join = temp_joins.find do |__arg1|\n    __arg1.relation.nil?\n  end\n  if join\n    join.not_nil!.relation = name\n  else\n    if temp_joins.empty?\n      raise(BaseException.new(\"#with_relation should be called after corresponding join: no such table \\\"#{table_name}\\\" of relation \\\"#{name}\\\"\"))\n    end\n  end\n  @eager_load = true\n  nested_relation_tree.add_relation(name)\nend\nself\n"}},{"id":"with_relation(*names)-instance-method","html_id":"with_relation(*names)-instance-method","name":"with_relation","doc":"Mark recently added join to be used to retrieve for relations given in *names*.\n\nThis allows to specify custom JOIN and load results into specified relation.\n\n```\nContact.all.join(Address) { and(Address._contact_id == Contact._id, Address._main) }.with_relation(:addresses)\n```","summary":"<p>Mark recently added join to be used to retrieve for relations given in <em>names</em>.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/eager_loading.cr#L32","def":{"name":"with_relation","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"with_relation(names.to_a.map(&.to_s))"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Executables","path":"Jennifer/QueryBuilder/Executables.html","kind":"module","full_name":"Jennifer::QueryBuilder::Executables","name":"Executables","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/executables.cr","line_number":7,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"All query methods that invokes database query.\n\nA lot of methods in this module accepts strings and symbols. Any string is\nconsidered as a plain SQL and is inserted as-is; any symbol - as a current table field.","summary":"<p>All query methods that invokes database query.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"db_results:Array(Hash(String,DBAny))-instance-method","html_id":"db_results:Array(Hash(String,DBAny))-instance-method","name":"db_results","doc":"Returns array of hashes representing result sets.\n\n```\nJennifer::Query[\"contacts\"].where { _id == 1 }.db_results # => [{\"id\" => 1, \"name\" => \"Name\", ...}]\n```","summary":"<p>Returns array of hashes representing result sets.</p>","abstract":false,"args":[],"args_string":" : Array(Hash(String, DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L268","def":{"name":"db_results","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Hash(String, DBAny))","visibility":"Public","body":"result = [] of Hash(String, DBAny)\neach_result_set do |rs|\n  result << (adapter.result_to_hash(rs))\nend\nresult\n"}},{"id":"decrement(fields:Hash(Symbol,UNDERSCORE))-instance-method","html_id":"decrement(fields:Hash(Symbol,UNDERSCORE))-instance-method","name":"decrement","doc":"Decrements specified fields by given value.\n\nFor more details take a look at #increment.","summary":"<p>Decrements specified fields by given value.</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Hash(Symbol, _)"}],"args_string":"(fields : Hash(Symbol, UNDERSCORE))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L245","def":{"name":"decrement","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Hash(Symbol, _)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"hash = {} of Symbol => Condition\nupdate do\n  fields.each do |field, value|\n    hash[field] = (c(field.to_s)) - (value.as(DBAny))\n  end\n  hash\nend\n"}},{"id":"decrement(**fields)-instance-method","html_id":"decrement(**fields)-instance-method","name":"decrement","doc":"Decrements specified fields by given value.\n\nFor more details take a look at #increment.","summary":"<p>Decrements specified fields by given value.</p>","abstract":false,"args":[],"args_string":"(**fields)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L254","def":{"name":"decrement","args":[],"double_splat":{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"decrement(fields.to_h)"}},{"id":"delete-instance-method","html_id":"delete-instance-method","name":"delete","doc":"Delete all records which satisfy given conditions.\n\nNo model callbacks or validation will be executed.\n\n```\nJennifer::Query[\"contacts\"].where { _name.like(\"%dan%\") }.delete\n```","summary":"<p>Delete all records which satisfy given conditions.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L99","def":{"name":"delete","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if do_nothing?\n  return\nend\nadapter.delete(self)\n"}},{"id":"each(&block)-instance-method","html_id":"each(&amp;block)-instance-method","name":"each","doc":"Yields each matched record to a block.\n\nTo iterate over records they are loaded from the DB so this may effect memory usage.\nPrefer #find_each.","summary":"<p>Yields each matched record to a block.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L299","def":{"name":"each","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"to_a.each do |e|\n  yield e\nend"}},{"id":"each_result_set(&block)-instance-method","html_id":"each_result_set(&amp;block)-instance-method","name":"each_result_set","doc":"Yields each result set object to a block.","summary":"<p>Yields each result set object to a block.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L306","def":{"name":"each_result_set","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"if do_nothing?\n  return\nend\nadapter.select(self) do |rs|\n  begin\n    rs.each do\n      yield rs\n    end\n  rescue e : Exception\n    rs.read_to_end\n    raise(e)\n  end\nend\n"}},{"id":"exists?:Bool-instance-method","html_id":"exists?:Bool-instance-method","name":"exists?","doc":"Returns whether any record satisfying given conditions exists.\n\n```\nJennifer::Query[\"contacts\"].where { _name.like(\"%dan%\") }.exists?\n```","summary":"<p>Returns whether any record satisfying given conditions exists.</p>","abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L110","def":{"name":"exists?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"if do_nothing?\n  return false\nend\nadapter.exists?(self)\n"}},{"id":"explain:String-instance-method","html_id":"explain:String-instance-method","name":"explain","doc":"Returns query execution explanation.\n\nFormat depends on used database adapter.\n\n```\nJennifer::Query[\"contacts\"].explain # => \"Seq Scan on contacts  (cost=0.00..13.40 rows=340 width=206)\"\n```","summary":"<p>Returns query execution explanation.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L441","def":{"name":"explain","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"adapter.explain(self)"}},{"id":"find_each(batch_size:Int32=1000,start:Int32=0,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_each(batch_size:Int32=1000,start:Int32=0,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_each","doc":null,"summary":null,"abstract":false,"args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(batch_size : Int32 = <span class=\"n\">1000</span>, start : Int32 = <span class=\"n\">0</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L403","def":{"name":"find_each","args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(batch_size, start) do |records|\n  records.each do |rec|\n    yield rec\n  end\nend"}},{"id":"find_each(primary_key:Nil,batch_size:Int32=1000,start:Int32=0,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_each(primary_key:Nil,batch_size:Int32=1000,start:Int32=0,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_each","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Nil"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(primary_key : Nil, batch_size : Int32 = <span class=\"n\">1000</span>, start : Int32 = <span class=\"n\">0</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L397","def":{"name":"find_each","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Nil"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(batch_size, start) do |records|\n  records.each do |rec|\n    yield rec\n  end\nend"}},{"id":"find_each(primary_key:Criteria,batch_size:Int32=1000,start=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_each(primary_key:Criteria,batch_size:Int32=1000,start=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_each","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Criteria"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(primary_key : Criteria, batch_size : Int32 = <span class=\"n\">1000</span>, start = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L391","def":{"name":"find_each","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Criteria"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(primary_key, batch_size, start, direction) do |records|\n  records.each do |rec|\n    yield rec\n  end\nend"}},{"id":"find_each(primary_key:String,batch_size:Int32=1000,start=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_each(primary_key:String,batch_size:Int32=1000,start=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_each","doc":"Yields each record in batches from #find_in_batches.\n\nLooping through a collection of records from the database is very inefficient since it will instantiate all the objects\nat once. In that case batch processing methods allow you to work with the records\nin batches, thereby greatly reducing memory consumption.\n\n```\nJennifer::Query[\"contacts\"].where { _age > 21 }.find_each(\"id\") do |contact|\n  puts contact.id\nend\n```","summary":"<p>Yields each record in batches from #find_in_batches.</p>","abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"String"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(primary_key : String, batch_size : Int32 = <span class=\"n\">1000</span>, start = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L385","def":{"name":"find_each","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"String"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(primary_key, batch_size, start, direction) do |records|\n  records.each do |rec|\n    yield rec\n  end\nend"}},{"id":"find_in_batches(primary_key:Nil,batch_size:Int32=1000,start:Int32=0,&block)-instance-method","html_id":"find_in_batches(primary_key:Nil,batch_size:Int32=1000,start:Int32=0,&amp;block)-instance-method","name":"find_in_batches","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Nil"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"}],"args_string":"(primary_key : Nil, batch_size : Int32 = <span class=\"n\">1000</span>, start : Int32 = <span class=\"n\">0</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L357","def":{"name":"find_in_batches","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Nil"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"if ordered?\n  Config.logger.warn(\"#find_in_batches is invoked with already ordered query - it will be reordered\")\nend\nConfig.logger.warn(\"#find_in_batches methods was invoked without passing primary_key key field name which may results in incorrect records extraction; 'start' argument was realized as page number.\")\nrequest = clone.reorder.limit(batch_size)\nrecords = (request.offset(start * batch_size)).to_a\nwhile records.any?\n  records_size = records.size\n  yield records\n  if records_size < batch_size\n    break\n  end\n  start = start + 1\n  records = (request.offset(start * batch_size)).to_a\nend\n"}},{"id":"find_in_batches(primary_key:Criteria,batch_size:Int32=1000,start=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_in_batches(primary_key:Criteria,batch_size:Int32=1000,start=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_in_batches","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Criteria"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(primary_key : Criteria, batch_size : Int32 = <span class=\"n\">1000</span>, start = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L343","def":{"name":"find_in_batches","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Criteria"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"if ordered?\n  Config.logger.warn(\"#find_in_batches is invoked with already ordered query - it will be reordered\")\nend\nrequest = (clone.reorder(primary_key.order(direction))).limit(batch_size)\nrecords = start ? request.clone.where do\n  primary_key >= start\nend.to_a : request.to_a\nwhile records.any?\n  records_size = records.size\n  primary_key_offset = records.last.attribute(primary_key.field)\n  yield records\n  if records_size < batch_size\n    break\n  end\n  records = request.clone.where do\n    primary_key > primary_key_offset\n  end.to_a\nend\n"}},{"id":"find_in_batches(batch_size:Int32=1000,start:Int32=0,&block)-instance-method","html_id":"find_in_batches(batch_size:Int32=1000,start:Int32=0,&amp;block)-instance-method","name":"find_in_batches","doc":null,"summary":null,"abstract":false,"args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"}],"args_string":"(batch_size : Int32 = <span class=\"n\">1000</span>, start : Int32 = <span class=\"n\">0</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L339","def":{"name":"find_in_batches","args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(nil, batch_size, start) do |records|\n  yield records\nend"}},{"id":"find_in_batches(primary_key:String,batch_size:Int32=1000,start:Int32?=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_in_batches(primary_key:String,batch_size:Int32=1000,start:Int32?=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_in_batches","doc":"Yields each batch of records that was found by the specified query.\n\n```\nJennifer::Query[\"contacts\"].where { _age > 21 }.find_in_batches(\"id\") do |batch|\n  batch.each do |contact|\n    puts contact.id\n  end\nend\n```\n\nTo get each record one by one use #find_each instead.\n\nNOTE: any given ordering will be ignored and query will be reordered based on the\n*primary_key* and *direction*.","summary":"<p>Yields each batch of records that was found by the specified query.</p>","abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"String"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":"Int32 | ::Nil"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(primary_key : String, batch_size : Int32 = <span class=\"n\">1000</span>, start : Int32? = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L335","def":{"name":"find_in_batches","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"String"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":"Int32 | ::Nil"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(@expression.c(primary_key.not_nil!), batch_size, start, direction) do |records|\n  yield records\nend"}},{"id":"find_records_by_sql(query:String,args:Array(DBAny)=[]ofDBAny)-instance-method","html_id":"find_records_by_sql(query:String,args:Array(DBAny)=[]ofDBAny)-instance-method","name":"find_records_by_sql","doc":"Executes a custom SQL query against DB and returns array of `Record`.\n\nAny query conditions specified earlier are ignored.\n\n```\nquery = \"SELECT name FROM users WHERE age > %1\"\nJennifer::Query[\"contacts\"].find_records_by_sql(query, [21]) # [<Record: name=\"Roland\">]\n```","summary":"<p>Executes a custom SQL query against DB and returns array of <code><a href=\"../../Jennifer/Record.html\">Record</a></code>.</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array(DBAny)"}],"args_string":"(query : String, args : Array(DBAny) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DBAny</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L417","def":{"name":"find_records_by_sql","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array(DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"results = [] of Record\nif do_nothing?\n  return results\nend\nadapter.query(query, args) do |rs|\n  begin\n    rs.each do\n      results << (Record.new(rs))\n    end\n  rescue e : Exception\n    rs.read_to_end\n    raise(e)\n  end\nend\nresults\n"}},{"id":"first-instance-method","html_id":"first-instance-method","name":"first","doc":"Returns first matched record or `nil`.\n\nDoesn't modify query instance.\n\n```\nContact.where { _city_id == 3 }.first\n```","summary":"<p>Returns first matched record or <code>nil</code>.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L46","def":{"name":"first","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"old_limit = @limit\n@limit = 1\nr = to_a[0]?\n@limit = old_limit\nr\n"}},{"id":"first!-instance-method","html_id":"first!-instance-method","name":"first!","doc":"Returns first matched record or raise `RecordNotFound` exception otherwise.\n\nDoesn't modify query instance.\n\n```\nContact.where { _city_id == 3 }.first!\n```","summary":"<p>Returns first matched record or raise <code><a href=\"../../Jennifer/RecordNotFound.html\">RecordNotFound</a></code> exception otherwise.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L61","def":{"name":"first!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = first\nif result.nil?\n  raise(RecordNotFound.from_query(self, adapter))\nend\nresult\n"}},{"id":"ids-instance-method","html_id":"ids-instance-method","name":"ids","doc":"Returns array of record ids.\n\nThis method requires model to have field `id : Int32`.","summary":"<p>Returns array of record ids.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L291","def":{"name":"ids","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(pluck(:id)).map do |__arg2|\n  __arg2.as(Int32)\nend"}},{"id":"increment(**fields)-instance-method","html_id":"increment(**fields)-instance-method","name":"increment","doc":"Increments specified fields by given value.\n\n```\nContact.all.increment(likes: 1)\n```\n\nNo validation or callback is invoked.","summary":"<p>Increments specified fields by given value.</p>","abstract":false,"args":[],"args_string":"(**fields)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L238","def":{"name":"increment","args":[],"double_splat":{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"increment(fields.to_h)"}},{"id":"increment(fields:Hash(Symbol,UNDERSCORE))-instance-method","html_id":"increment(fields:Hash(Symbol,UNDERSCORE))-instance-method","name":"increment","doc":"Increments specified fields by given value.\n\n```\nContact.all.increment({ :likes => 1 })\n```\n\nNo validation or callback is invoked.","summary":"<p>Increments specified fields by given value.</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Hash(Symbol, _)"}],"args_string":"(fields : Hash(Symbol, UNDERSCORE))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L223","def":{"name":"increment","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Hash(Symbol, _)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"hash = {} of Symbol => Condition\nupdate do\n  fields.each do |field, value|\n    hash[field] = (c(field.to_s)) + (value.as(DBAny))\n  end\n  hash\nend\n"}},{"id":"insert(fields:Array(String),values:Array(Array(DBAny)))-instance-method","html_id":"insert(fields:Array(String),values:Array(Array(DBAny)))-instance-method","name":"insert","doc":"Creates new record in a database with given *fields* and *values*.\n\nIgnores any model callbacks.\n\n```\nJennifer::Query[\"contacts\"].insert(%w(name age), [[\"John\", 60], [\"Chris\", 40]])\n```","summary":"<p>Creates new record in a database with given <em>fields</em> and <em>values</em>.</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(Array(DBAny))"}],"args_string":"(fields : Array(String), values : Array(Array(DBAny)))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L123","def":{"name":"insert","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(Array(DBAny))"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if do_nothing? || values.empty?\n  return\nend\nif values.is_a?(Array(Array(DBAny)))\nelse\n  values = values.map do |row|\n    Ifrit.typed_array_cast(row, DBAny)\n  end\nend\nadapter.bulk_insert(table, fields, values)\n"}},{"id":"insert(options:Hash(String|Symbol,DBAny)|NamedTuple)-instance-method","html_id":"insert(options:Hash(String|Symbol,DBAny)|NamedTuple)-instance-method","name":"insert","doc":"Creates new record in a database with given *options*.\n\nIgnores any model callbacks.\n\n```\nJennifer::Query[\"contacts\"].insert({ name: \"John\", age: 60 })\n```","summary":"<p>Creates new record in a database with given <em>options</em>.</p>","abstract":false,"args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash(String | Symbol, DBAny) | NamedTuple"}],"args_string":"(options : Hash(String | Symbol, DBAny) | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L139","def":{"name":"insert","args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash(String | Symbol, DBAny) | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if do_nothing? || options.empty?\n  return\nend\nfields = options.keys.to_a.map(&.to_s)\nvalues = Ifrit.typed_array_cast(options.values, DBAny)\ninsert(fields, [values])\n"}},{"id":"last-instance-method","html_id":"last-instance-method","name":"last","doc":"Returns last matched record or `nil`.\n\nDoesn't modify query instance.\n\n```\nContact.where { _city_id == 3 }.last\n```","summary":"<p>Returns last matched record or <code>nil</code>.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L15","def":{"name":"last","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"old_limit = @limit\nold_order = @order\nreverse_order\n@limit = 1\nr = to_a[0]?\n@limit = old_limit\n@order = old_order\nr\n"}},{"id":"last!-instance-method","html_id":"last!-instance-method","name":"last!","doc":"Returns last matched record or raise `RecordNotFound` exception otherwise.\n\nDoesn't modify query instance.\n\n```\nContact.where { _city_id == 3 }.last!\n```","summary":"<p>Returns last matched record or raise <code><a href=\"../../Jennifer/RecordNotFound.html\">RecordNotFound</a></code> exception otherwise.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L33","def":{"name":"last!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = last\nif result.nil?\n  raise(RecordNotFound.from_query(self, adapter))\nend\nresult\n"}},{"id":"pluck(*fields:String|Symbol):Array(Array(DBAny))-instance-method","html_id":"pluck(*fields:String|Symbol):Array(Array(DBAny))-instance-method","name":"pluck","doc":null,"summary":null,"abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"String | Symbol"}],"args_string":"(*fields : String | Symbol) : Array(Array(DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L82","def":{"name":"pluck","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"String | Symbol"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"Array(Array(DBAny))","visibility":"Public","body":"pluck(fields.to_a)"}},{"id":"pluck(fields:Array):Array(Array(DBAny))-instance-method","html_id":"pluck(fields:Array):Array(Array(DBAny))-instance-method","name":"pluck","doc":"Returns array of given field values.\n\nThis method allows you load only those fields you need without loading records.\nIf query is ModelQuery - take into consideration that fields will not be converted by\nmodel converters.\n\n```\nContact.all.limit(2).pluck([:id, :name]) # [[1, \"Name 1\"], [2, \"Name 2\"]]\n```","summary":"<p>Returns array of given field values.</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"}],"args_string":"(fields : Array) : Array(Array(DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L76","def":{"name":"pluck","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Array(DBAny))","visibility":"Public","body":"if do_nothing?\n  return [] of Array(DBAny)\nend\nadapter.pluck(self, fields.map(&.to_s))\n"}},{"id":"pluck(field:String|Symbol):Array(DBAny)-instance-method","html_id":"pluck(field:String|Symbol):Array(DBAny)-instance-method","name":"pluck","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String | Symbol"}],"args_string":"(field : String | Symbol) : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L86","def":{"name":"pluck","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"if do_nothing?\n  return [] of DBAny\nend\nadapter.pluck(self, field.to_s)\n"}},{"id":"results:Array(Record)-instance-method","html_id":"results:Array(Record)-instance-method","name":"results","doc":"Returns array of `Record` created based on result sets.\n\n```\nJennifer::Query[\"contacts\"].where { _id == 1 }.results\n# => [Jennifer::Record(@attributes={\"id\" => 1, \"name\" => \"Name\", ...})]\n```","summary":"<p>Returns array of <code><a href=\"../../Jennifer/Record.html\">Record</a></code> created based on result sets.</p>","abstract":false,"args":[],"args_string":" : Array(Record)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L282","def":{"name":"results","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Record)","visibility":"Public","body":"result = [] of Record\neach_result_set do |rs|\n  result << (Record.new(rs))\nend\nresult\n"}},{"id":"to_a-instance-method","html_id":"to_a-instance-method","name":"to_a","doc":"Alias for `#results`.","summary":"<p>Alias for <code><a href=\"../../Jennifer/QueryBuilder/Executables.html#results:Array(Record)-instance-method\">#results</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L259","def":{"name":"to_a","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"results"}},{"id":"update(**options)-instance-method","html_id":"update(**options)-instance-method","name":"update","doc":"Updates records with given *options*.\n\n```\nContact.all.where { and(_name == \"Jon\", age > 100) }.update(name: \"John\", age: 40)\n```","summary":"<p>Updates records with given <em>options</em>.</p>","abstract":false,"args":[],"args_string":"(**options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L212","def":{"name":"update","args":[],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"update(options.to_h)"}},{"id":"update(options:Hash)-instance-method","html_id":"update(options:Hash)-instance-method","name":"update","doc":"Updates records with given *options*.\n\n```\nContact.all.where { and(_name == \"Jon\", age > 100) }.update({ :name => \"John\", :age => 40 })\n```","summary":"<p>Updates records with given <em>options</em>.</p>","abstract":false,"args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L201","def":{"name":"update","args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if do_nothing?\n  return DB::ExecResult.new(0_i64, 0_i64)\nend\nadapter.update(self, options)\n"}},{"id":"update(&block)-instance-method","html_id":"update(&amp;block)-instance-method","name":"update","doc":"Updates specified fields by given value retrieved from the block.\n\nExpects block to return `Hash(Symbol, DBAny | Jennifer::QueryBuilder::Statement)`.\n\n```\nContact.all.where { and(_name == \"Jon\", age > 100) }.update { { :name => \"John\", :age => _age - 15 } }\n```","summary":"<p>Updates specified fields by given value retrieved from the block.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L189","def":{"name":"update","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"definition = (with @expression yield)\nif do_nothing?\n  return DB::ExecResult.new(0_i64, 0_i64)\nend\nadapter.modify(self, definition)\n"}},{"id":"upsert(fields:Array(String),values:Array(Array(DBAny)),unique_fields:Array,&block)-instance-method","html_id":"upsert(fields:Array(String),values:Array(Array(DBAny)),unique_fields:Array,&amp;block)-instance-method","name":"upsert","doc":"Inserts given *values* modifies existing row using hash returned by the block.\n\nSome RDMS (like MySQL) doesn't require specifying exact constraint to be violated, therefore *unique_fields* argument by default\nis `[] of String`.\n\n```\nJennifer::Query[\"orders\"].insert({ :name => \"Order 1\", :uid => 123, :value => 2 })\n# the first record will be skipped\nJennifer::Query[\"orders\"].upsert(%w(name uid value), [[\"Order 1\", 123, 3], [\"Order 2\", 321, 4]], %w(uid)) do\n  { :value => values(:value) + _value }\nend\n```","summary":"<p>Inserts given <em>values</em> modifies existing row using hash returned by the block.</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(Array(DBAny))"},{"name":"unique_fields","doc":null,"default_value":"","external_name":"unique_fields","restriction":"Array"}],"args_string":"(fields : Array(String), values : Array(Array(DBAny)), unique_fields : Array, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L175","def":{"name":"upsert","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(Array(DBAny))"},{"name":"unique_fields","doc":null,"default_value":"","external_name":"unique_fields","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"if do_nothing? || values.empty?\n  return\nend\ndefinition = (with @expression yield)\nadapter.upsert(table, fields, values, unique_fields, definition)\n"}},{"id":"upsert(fields:Array(String),values:Array(Array(DBAny)),unique_fields:Array=[]ofString)-instance-method","html_id":"upsert(fields:Array(String),values:Array(Array(DBAny)),unique_fields:Array=[]ofString)-instance-method","name":"upsert","doc":"Inserts given *values* and ignores ones that would cause a duplicate values of `UNIQUE` index on given *unique_fields*.\n\nSome RDMS (like MySQL) doesn't require specifying exact constraint to be violated, therefore *unique_fields* argument by default\nis `[] of String`.\n\n```\nJennifer::Query[\"orders\"].insert({ :name => \"Order 1\", :uid => 123 })\n# the first record will be skipped\nJennifer::Query[\"orders\"].upsert(%w(name uid), [[\"Order 1\", 123], [\"Order 2\", 321]], %w(uid))\n```","summary":"<p>Inserts given <em>values</em> and ignores ones that would cause a duplicate values of <code>UNIQUE</code> index on given <em>unique_fields</em>.</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(Array(DBAny))"},{"name":"unique_fields","doc":null,"default_value":"[] of String","external_name":"unique_fields","restriction":"Array"}],"args_string":"(fields : Array(String), values : Array(Array(DBAny)), unique_fields : Array = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/executables.cr#L157","def":{"name":"upsert","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(Array(DBAny))"},{"name":"unique_fields","doc":null,"default_value":"[] of String","external_name":"unique_fields","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if do_nothing? || values.empty?\n  return\nend\nadapter.upsert(table, fields, values, unique_fields, {} of String => String)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ExpressionBuilder","path":"Jennifer/QueryBuilder/ExpressionBuilder.html","kind":"class","full_name":"Jennifer::QueryBuilder::ExpressionBuilder","name":"ExpressionBuilder","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/expression_builder.cr","line_number":33,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":163,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":176,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":189,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":202,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":208,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":214,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":220,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":226,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":239,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":252,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":258,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":271,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":284,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":305,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":318,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":331,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":344,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"},{"filename":"jennifer/query_builder/function.cr","line_number":357,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Stands for creating criteria for the query.\n\nThis class provides straight forward way to define criteria and a bit (pretty huge one)\nof metaprogramming.\n\nYou can use standard method `#c` to create criteria for current table or for any other (passing it's name\nas a 2nd argument):\n\n```\nJennifer::Query[\"contacts\"].join(\"addresses\") { c(\"contact_id\") == c(\"id\", \"contacts\") }\n```\n\nAlso you can use \"*magic*\" underscored methods to specify current table fields putting \"_\" before a name:\n\n```\nJennifer::Query[\"contacts\"].join(\"addresses\") { _contact_id == c(\"id\", \"contacts\") }\n```\n\nObviously, you also can specify same way table name for the field. Just put \"__\" (double underscore) between table name\nand field name as well.\n\n```\nJennifer::Query[\"contacts\"].join(\"addresses\") { _contact_id == _contacts__id }\n```\n\nBecause of double underscore between symbols between field and table you can safely reference tables with \"_\".\n\n```\nJennifer::Query[\"facebook_profiles\"].join(\"addresses\") { _profile_id == _facebook_profiles__id }\n```","summary":"<p>Stands for creating criteria for the query.</p>","class_methods":[],"constructors":[{"id":"new(table,relation=nil,query=nil)-class-method","html_id":"new(table,relation=nil,query=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""},{"name":"query","doc":null,"default_value":"nil","external_name":"query","restriction":""}],"args_string":"(table, relation = <span class=\"n\">nil</span>, query = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L40","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""},{"name":"query","doc":null,"default_value":"nil","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, relation, query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"abs(arg0)-instance-method","html_id":"abs(arg0)-instance-method","name":"abs","doc":"Create `\"AbsFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/AbsFunction.html\">AbsFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"args_string":"(arg0)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L252","def":{"name":"abs","args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"AbsFunction.new(arg0)"}},{"id":"all(query:Query)-instance-method","html_id":"all(query:Query)-instance-method","name":"all","doc":"Creates `ALL` SQL statement.\n\n```\nnested_query = Jennifer::Query[\"contacts\"].select(:age).where { _tag == \"phone\" }\nJennifer::Query[\"contacts\"].where { _age > all(nested_query) }\n```","summary":"<p>Creates <code>ALL</code> SQL statement.</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query"}],"args_string":"(query : Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L130","def":{"name":"all","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"All.new(query)"}},{"id":"and(first_condition,second_condition,*conditions)-instance-method","html_id":"and(first_condition,second_condition,*conditions)-instance-method","name":"and","doc":"Combines given *first_condition*, *second_condition* and all other *conditions* by `AND` operator.\n\nAll given conditions will be wrapped in `Grouping`.\n\n```\nUser.all.where { and(_name.like(\"%on\"), _age > 3) }\n# WHERE (users.name LIKE '%on' AND users.age > 3)\n```","summary":"<p>Combines given <em>first_condition</em>, <em>second_condition</em> and all other <em>conditions</em> by <code>AND</code> operator.</p>","abstract":false,"args":[{"name":"first_condition","doc":null,"default_value":"","external_name":"first_condition","restriction":""},{"name":"second_condition","doc":null,"default_value":"","external_name":"second_condition","restriction":""},{"name":"conditions","doc":null,"default_value":"","external_name":"conditions","restriction":""}],"args_string":"(first_condition, second_condition, *conditions)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L174","def":{"name":"and","args":[{"name":"first_condition","doc":null,"default_value":"","external_name":"first_condition","restriction":""},{"name":"second_condition","doc":null,"default_value":"","external_name":"second_condition","restriction":""},{"name":"conditions","doc":null,"default_value":"","external_name":"conditions","restriction":""}],"double_splat":null,"splat_index":2,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"g(conditions.reduce(first_condition & second_condition) do |sum, e|\n  sum & e\nend)"}},{"id":"any(query:Query)-instance-method","html_id":"any(query:Query)-instance-method","name":"any","doc":"Creates `ANY` SQL statement.\n\n```\nnested_query = Jennifer::Query[\"addresses\"].where { _main }.select(:contact_id)\nJennifer::Query[\"contacts\"].where { _id == any(nested_query) }\n```","summary":"<p>Creates <code>ANY</code> SQL statement.</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query"}],"args_string":"(query : Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L120","def":{"name":"any","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Any.new(query)"}},{"id":"avg(arg0)-instance-method","html_id":"avg(arg0)-instance-method","name":"avg","doc":"Create `\"AvgFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/AvgFunction.html\">AvgFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"args_string":"(arg0)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L344","def":{"name":"avg","args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"AvgFunction.new(arg0)"}},{"id":"c(name:String,table_name:String?=nil,relation:String?=nil)-instance-method","html_id":"c(name:String,table_name:String?=nil,relation:String?=nil)-instance-method","name":"c","doc":"Creates criterion for current table by given name *name*.\n\n```\nJennifer::Query[\"users\"].where { c(\"id\") }\n```","summary":"<p>Creates criterion for current table by given name <em>name</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"args_string":"(name : String, table_name : String? = <span class=\"n\">nil</span>, relation : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L85","def":{"name":"c","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @query\n  @query.not_nil!.with_relation!\nend\nCriteria.new(name, table_name || @table, relation || @relation)\n"}},{"id":"c_with_relation(name:String,relation:String)-instance-method","html_id":"c_with_relation(name:String,relation:String)-instance-method","name":"c_with_relation","doc":"Creates criterion by given name *name* for relation *relation*.","summary":"<p>Creates criterion by given name <em>name</em> for relation <em>relation</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":"String"}],"args_string":"(name : String, relation : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L93","def":{"name":"c_with_relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @query\n  @query.not_nil!.with_relation!\nend\nCriteria.new(name, @table, relation)\n"}},{"id":"cast(expression,type:String)-instance-method","html_id":"cast(expression,type:String)-instance-method","name":"cast","doc":"Cases *expression* to the given *type*.\n\n*type* field is pasted as-is.\n\n```\nJennifer::Query[\"\"].select { [cast(sql(\"'100'\", false), \"integer\").alias(\"field\")] }\n# => SELECT CAST('100' AS INTEGER) AS field\n```","summary":"<p>Cases <em>expression</em> to the given <em>type</em>.</p>","abstract":false,"args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String"}],"args_string":"(expression, type : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L162","def":{"name":"cast","args":[{"name":"expression","doc":null,"default_value":"","external_name":"expression","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Cast.new(expression, type)"}},{"id":"ceil(arg0)-instance-method","html_id":"ceil(arg0)-instance-method","name":"ceil","doc":"Create `\"CeilFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/CeilFunction.html\">CeilFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"args_string":"(arg0)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L258","def":{"name":"ceil","args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"CeilFunction.new(arg0)"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L38","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"coalesce(*args)-instance-method","html_id":"coalesce(*args)-instance-method","name":"coalesce","doc":"Create `:CoalesceFunction` function.","summary":"<p>Create <code>:<a href=\"../../Jennifer/QueryBuilder/CoalesceFunction.html\">CoalesceFunction</a></code> function.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L163","def":{"name":"coalesce","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"CoalesceFunction.new(*args)"}},{"id":"concat(*args)-instance-method","html_id":"concat(*args)-instance-method","name":"concat","doc":"Create `\"ConcatFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/ConcatFunction.html\">ConcatFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L226","def":{"name":"concat","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"ConcatFunction.new(*args)"}},{"id":"concat_ws(*args)-instance-method","html_id":"concat_ws(*args)-instance-method","name":"concat_ws","doc":"Create `\"ConcatWsFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/ConcatWsFunction.html\">ConcatWsFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L239","def":{"name":"concat_ws","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"ConcatWsFunction.new(*args)"}},{"id":"count(*args)-instance-method","html_id":"count(*args)-instance-method","name":"count","doc":"Create `\"CountFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/CountFunction.html\">CountFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L284","def":{"name":"count","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"CountFunction.new(*args)"}},{"id":"current_date-instance-method","html_id":"current_date-instance-method","name":"current_date","doc":"Create `\"CurrentDateFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/CurrentDateFunction.html\">CurrentDateFunction</a>\"</code> function.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L208","def":{"name":"current_date","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"CurrentDateFunction.new"}},{"id":"current_time-instance-method","html_id":"current_time-instance-method","name":"current_time","doc":"Create `\"CurrentTimeFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/CurrentTimeFunction.html\">CurrentTimeFunction</a>\"</code> function.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L214","def":{"name":"current_time","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"CurrentTimeFunction.new"}},{"id":"current_timestamp-instance-method","html_id":"current_timestamp-instance-method","name":"current_timestamp","doc":"Create `\"CurrentTimestampFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/CurrentTimestampFunction.html\">CurrentTimestampFunction</a>\"</code> function.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L202","def":{"name":"current_timestamp","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"CurrentTimestampFunction.new"}},{"id":"floor(arg0)-instance-method","html_id":"floor(arg0)-instance-method","name":"floor","doc":"Create `\"FloorFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/FloorFunction.html\">FloorFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"args_string":"(arg0)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L271","def":{"name":"floor","args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"FloorFunction.new(arg0)"}},{"id":"g(condition)-instance-method","html_id":"g(condition)-instance-method","name":"g","doc":"Creates grouping for the given *condition*.\n\n```\nJennifer::Query[\"users\"].where { c1 & g(c2 | c3) }\n```","summary":"<p>Creates grouping for the given <em>condition</em>.</p>","abstract":false,"args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":""}],"args_string":"(condition)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L105","def":{"name":"g","args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Grouping.new(condition)"}},{"id":"group(condition)-instance-method","html_id":"group(condition)-instance-method","name":"group","doc":"Alias for #g.","summary":"<p>Alias for #g.</p>","abstract":false,"args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":""}],"args_string":"(condition)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L110","def":{"name":"group","args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"g(condition)"}},{"id":"lower(arg0)-instance-method","html_id":"lower(arg0)-instance-method","name":"lower","doc":"Create `\"LowerFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/LowerFunction.html\">LowerFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"args_string":"(arg0)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L176","def":{"name":"lower","args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"LowerFunction.new(arg0)"}},{"id":"max(arg0)-instance-method","html_id":"max(arg0)-instance-method","name":"max","doc":"Create `\"MaxFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/MaxFunction.html\">MaxFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"args_string":"(arg0)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L305","def":{"name":"max","args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"MaxFunction.new(arg0)"}},{"id":"min(arg0)-instance-method","html_id":"min(arg0)-instance-method","name":"min","doc":"Create `\"MinFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/MinFunction.html\">MinFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"args_string":"(arg0)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L318","def":{"name":"min","args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"MinFunction.new(arg0)"}},{"id":"now-instance-method","html_id":"now-instance-method","name":"now","doc":"Create `\"NowFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/NowFunction.html\">NowFunction</a>\"</code> function.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L220","def":{"name":"now","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"NowFunction.new"}},{"id":"or(first_condition,second_condition,*conditions)-instance-method","html_id":"or(first_condition,second_condition,*conditions)-instance-method","name":"or","doc":"Combines given *first_condition*, *second_condition* and all other *conditions* by `OR` operator.\n\nAll given conditions will be wrapped in `Grouping`.\n\n```\nUser.all.where { or(_name.like(\"%on\"), _age > 3) }\n# => WHERE (users.name LIKE '%on' OR users.age > 3)\n```","summary":"<p>Combines given <em>first_condition</em>, <em>second_condition</em> and all other <em>conditions</em> by <code>OR</code> operator.</p>","abstract":false,"args":[{"name":"first_condition","doc":null,"default_value":"","external_name":"first_condition","restriction":""},{"name":"second_condition","doc":null,"default_value":"","external_name":"second_condition","restriction":""},{"name":"conditions","doc":null,"default_value":"","external_name":"conditions","restriction":""}],"args_string":"(first_condition, second_condition, *conditions)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L188","def":{"name":"or","args":[{"name":"first_condition","doc":null,"default_value":"","external_name":"first_condition","restriction":""},{"name":"second_condition","doc":null,"default_value":"","external_name":"second_condition","restriction":""},{"name":"conditions","doc":null,"default_value":"","external_name":"conditions","restriction":""}],"double_splat":null,"splat_index":2,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"g(conditions.reduce(first_condition | second_condition) do |sum, e|\n  sum | e\nend)"}},{"id":"primary-instance-method","html_id":"primary-instance-method","name":"primary","doc":"Query's model primary field criterion.\n\nCan be used only in a scope of `IModelQuery`.","summary":"<p>Query's model primary field criterion.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L53","def":{"name":"primary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(query.not_nil!.as(IModelQuery)).model_class.primary"}},{"id":"query:Query?-instance-method","html_id":"query:Query?-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Query?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L36","def":{"name":"query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Query | ::Nil","visibility":"Public","body":"@query"}},{"id":"query=(query:Query?)-instance-method","html_id":"query=(query:Query?)-instance-method","name":"query=","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query | ::Nil"}],"args_string":"(query : Query?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L40","def":{"name":"query=","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@query = query"}},{"id":"relation:String?-instance-method","html_id":"relation:String?-instance-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L38","def":{"name":"relation","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@relation"}},{"id":"round(*args)-instance-method","html_id":"round(*args)-instance-method","name":"round","doc":"Create `\"RoundFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/RoundFunction.html\">RoundFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L357","def":{"name":"round","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"RoundFunction.new(*args)"}},{"id":"sql(query:String,use_brackets:Bool=true)-instance-method","html_id":"sql(query:String,use_brackets:Bool=true)-instance-method","name":"sql","doc":"Adds plain query *query*.\n\nIf you need to wrap query set *use_brackets* to `true`.\n\n```\nJennifer::Query[\"\"].select { [sql(\"1\", false)] } # => SELECT 1\nJennifer::Query[\"\"].select { [sql(\"1\")] }        # => SELECT (1)\nJennifer::Query[\"\"].select { [sql(\"TIMESTAMP %s AT TIME ZONE %s\", [\"2001-02-16 20:38:40\", \"MST\"], false)] }\n# => SELECT TIMESTAMP '2001-02-16 20:38:40' AT TIME ZONE 'MST';\n```","summary":"<p>Adds plain query <em>query</em>.</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":"Bool"}],"args_string":"(query : String, use_brackets : Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L72","def":{"name":"sql","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"RawSql.new(query, use_brackets)"}},{"id":"sql(query:String,args:Array(DBAny)=[]ofDBAny,use_brackets:Bool=true)-instance-method","html_id":"sql(query:String,args:Array(DBAny)=[]ofDBAny,use_brackets:Bool=true)-instance-method","name":"sql","doc":"Adds plain query *query*.\n\nIf you need to wrap query set *use_brackets* to `true`.\n\n```\nJennifer::Query[\"\"].select { [sql(\"1\", false)] } # => SELECT 1\nJennifer::Query[\"\"].select { [sql(\"1\")] }        # => SELECT (1)\nJennifer::Query[\"\"].select { [sql(\"TIMESTAMP %s AT TIME ZONE %s\", [\"2001-02-16 20:38:40\", \"MST\"], false)] }\n# => SELECT TIMESTAMP '2001-02-16 20:38:40' AT TIME ZONE 'MST';\n```","summary":"<p>Adds plain query <em>query</em>.</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array(DBAny)"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":"Bool"}],"args_string":"(query : String, args : Array(DBAny) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DBAny</span>, use_brackets : Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L67","def":{"name":"sql","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array(DBAny)"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"RawSql.new(query, args, use_brackets)"}},{"id":"star(table:String=@table)-instance-method","html_id":"star(table:String=@table)-instance-method","name":"star","doc":"Creates select star for *table*.\n\n```\nJennifer::Query[\"users\"].select { [star(\"contacts\")] } # => SELECT contacts.* FROM users\n```","summary":"<p>Creates select star for <em>table</em>.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"@table","external_name":"table","restriction":"String"}],"args_string":"(table : String = @table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L139","def":{"name":"star","args":[{"name":"table","doc":null,"default_value":"@table","external_name":"table","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Star.new(table)"}},{"id":"sum(arg0)-instance-method","html_id":"sum(arg0)-instance-method","name":"sum","doc":"Create `\"SumFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/SumFunction.html\">SumFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"args_string":"(arg0)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L331","def":{"name":"sum","args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SumFunction.new(arg0)"}},{"id":"table:String-instance-method","html_id":"table:String-instance-method","name":"table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L38","def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table"}},{"id":"upper(arg0)-instance-method","html_id":"upper(arg0)-instance-method","name":"upper","doc":"Create `\"UpperFunction\"` function.","summary":"<p>Create <code>\"<a href=\"../../Jennifer/QueryBuilder/UpperFunction.html\">UpperFunction</a>\"</code> function.</p>","abstract":false,"args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"args_string":"(arg0)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L189","def":{"name":"upper","args":[{"name":"arg0","doc":null,"default_value":"","external_name":"arg0","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"UpperFunction.new(arg0)"}},{"id":"values(field:Symbol)-instance-method","html_id":"values(field:Symbol)-instance-method","name":"values","doc":"Returns reference to the *field* in upsert operation.\n\n```\nJennifer::Query[\"orders\"].upsert(%w(name uid price), [[\"Order 1\", 123, 3]], %w(uid)) do\n  { :price => values(:price) + _price }\nend\n```","summary":"<p>Returns reference to the <em>field</em> in upsert operation.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"}],"args_string":"(field : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L150","def":{"name":"values","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Values.new(field)"}},{"id":"xor(first_condition,second_condition,*conditions)-instance-method","html_id":"xor(first_condition,second_condition,*conditions)-instance-method","name":"xor","doc":"Combines given *first_condition*, *second_condition* and all other *conditions* by `XOR` operator.\n\nAll given conditions will be wrapped in `Grouping`.\n\n```\nUser.all.where { xor(_name.like(\"%on\"), _age > 3) }\n# => WHERE (users.name LIKE '%on' XOR users.age > 3)\n```","summary":"<p>Combines given <em>first_condition</em>, <em>second_condition</em> and all other <em>conditions</em> by <code>XOR</code> operator.</p>","abstract":false,"args":[{"name":"first_condition","doc":null,"default_value":"","external_name":"first_condition","restriction":""},{"name":"second_condition","doc":null,"default_value":"","external_name":"second_condition","restriction":""},{"name":"conditions","doc":null,"default_value":"","external_name":"conditions","restriction":""}],"args_string":"(first_condition, second_condition, *conditions)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L200","def":{"name":"xor","args":[{"name":"first_condition","doc":null,"default_value":"","external_name":"first_condition","restriction":""},{"name":"second_condition","doc":null,"default_value":"","external_name":"second_condition","restriction":""},{"name":"conditions","doc":null,"default_value":"","external_name":"conditions","restriction":""}],"double_splat":null,"splat_index":2,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"g(conditions.reduce(first_condition.xor(second_condition)) do |sum, e|\n  sum.xor(e)\nend)"}}],"macros":[{"id":"method_missing(call)-macro","html_id":"method_missing(call)-macro","name":"method_missing","doc":null,"summary":null,"abstract":false,"args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"args_string":"(call)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/expression_builder.cr#L206","def":{"name":"method_missing","args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% method_name = call.name.stringify %}\n\n        \n{% if method_name.starts_with?(\"__\") %}\n          # :nodoc:\n          def {{ method_name.id }}\n            eb = ExpressionBuilder.new(@table, {{ method_name[2..-1] }}, @query)\n            @query.not_nil!.with_relation! if @query\n            with eb yield\n          end\n        {% else %}{% if method_name.starts_with?(\"_\") %}\n          # :nodoc:\n          def {{ method_name.id }}\n            {% parts = method_name[1..-1].split(\"__\")\ntable = parts[0]\nfield = parts[1]\n %}\n            {% if parts.size == 1 %}\n              c({{ table }})\n            {% else %}\n              {% if Reference.all_subclasses.map(&.stringify).includes?(table.camelcase) %}\n                {{ table.camelcase.id }}._{{ field.id }}\n              {% else %}\n                c({{ field }}, {{ table }})\n              {% end %}\n            {% end %}\n          end\n        {% else %}{% if call.name.stringify =~ (/^_[_\\w]*/) %}\n          {% raise(\"Cant parse method name #{method_name}\") %}\n        {% end %}{% end %}{% end %}\n\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/FloorFunction","path":"Jennifer/QueryBuilder/FloorFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::FloorFunction","name":"FloorFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":271,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the largest integer value that is less than or equal to argument.\n\n```\nJennifer::Query[\"users\"].where { floor(_rating) > 4 }\n```","summary":"<p>Returns the largest integer value that is less than or equal to argument.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L279","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"FLOOR(#{operand_sql(operands[0], generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","path":"Jennifer/QueryBuilder/Function.html","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":10,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/AbsFunction","kind":"class","full_name":"Jennifer::QueryBuilder::AbsFunction","name":"AbsFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/AvgFunction","kind":"class","full_name":"Jennifer::QueryBuilder::AvgFunction","name":"AvgFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CeilFunction","kind":"class","full_name":"Jennifer::QueryBuilder::CeilFunction","name":"CeilFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CoalesceFunction","kind":"class","full_name":"Jennifer::QueryBuilder::CoalesceFunction","name":"CoalesceFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ConcatFunction","kind":"class","full_name":"Jennifer::QueryBuilder::ConcatFunction","name":"ConcatFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ConcatWsFunction","kind":"class","full_name":"Jennifer::QueryBuilder::ConcatWsFunction","name":"ConcatWsFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CountFunction","kind":"class","full_name":"Jennifer::QueryBuilder::CountFunction","name":"CountFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CurrentDateFunction","kind":"class","full_name":"Jennifer::QueryBuilder::CurrentDateFunction","name":"CurrentDateFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CurrentTimeFunction","kind":"class","full_name":"Jennifer::QueryBuilder::CurrentTimeFunction","name":"CurrentTimeFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/CurrentTimestampFunction","kind":"class","full_name":"Jennifer::QueryBuilder::CurrentTimestampFunction","name":"CurrentTimestampFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/FloorFunction","kind":"class","full_name":"Jennifer::QueryBuilder::FloorFunction","name":"FloorFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LowerFunction","kind":"class","full_name":"Jennifer::QueryBuilder::LowerFunction","name":"LowerFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/MaxFunction","kind":"class","full_name":"Jennifer::QueryBuilder::MaxFunction","name":"MaxFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/MinFunction","kind":"class","full_name":"Jennifer::QueryBuilder::MinFunction","name":"MinFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/NowFunction","kind":"class","full_name":"Jennifer::QueryBuilder::NowFunction","name":"NowFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RoundFunction","kind":"class","full_name":"Jennifer::QueryBuilder::RoundFunction","name":"RoundFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SumFunction","kind":"class","full_name":"Jennifer::QueryBuilder::SumFunction","name":"SumFunction"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/UpperFunction","kind":"class","full_name":"Jennifer::QueryBuilder::UpperFunction","name":"UpperFunction"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Presents SQL function invocation.\n\n```\nJennifer::Query[\"users\"].where { coalesce(sql(\"NULL\"), _name) == \"John\" }\n\n# SELECT users. FROM users WHERE COALESCE(NULL, users.name) == \"John\"\n```","summary":"<p>Presents SQL function invocation.</p>","class_methods":[],"constructors":[{"id":"new(*args)-class-method","html_id":"new(*args)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L14","def":{"name":"new","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(*args)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L42","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"operands.each do |operand|\n  if operand.is_a?(SQLNode)\n    (operand.as(SQLNode)).alias_tables(aliases)\n  end\nend"}},{"id":"change_table(old_name,new_name)-instance-method","html_id":"change_table(old_name,new_name)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L50","def":{"name":"change_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"operands.each do |operand|\n  if operand.is_a?(SQLNode)\n    (operand.as(SQLNode)).change_table(old_name, new_name)\n  end\nend"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"NOTE: can't be abstract because is already implemented by super class","summary":"<p><span class=\"flag purple\">NOTE</span>  can't be abstract because is already implemented by super class</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L32","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(:clone, {{ @type }}))"}},{"id":"definition(sql_generator)-instance-method","html_id":"definition(sql_generator)-instance-method","name":"definition","doc":null,"summary":null,"abstract":false,"args":[{"name":"sql_generator","doc":null,"default_value":"","external_name":"sql_generator","restriction":""}],"args_string":"(sql_generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L22","def":{"name":"definition","args":[{"name":"sql_generator","doc":null,"default_value":"","external_name":"sql_generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"identifier = as_sql(sql_generator)\n@alias ? \"#{identifier} AS #{@alias}\" : identifier\n"}},{"id":"definition-instance-method","html_id":"definition-instance-method","name":"definition","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L27","def":{"name":"definition","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"definition(Adapter.default_adapter.sql_generator)"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":"Returns whether node has an argument to be added to sql statement arguments.","summary":"<p>Returns whether node has an argument to be added to sql statement arguments.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L68","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@operands.any? do |operand|\n  (!operand.is_a?(SQLNode)) || (operand.as(SQLNode)).filterable?\nend"}},{"id":"operand_sql(operand:SQLNode,generator)-instance-method","html_id":"operand_sql(operand:SQLNode,generator)-instance-method","name":"operand_sql","doc":"Translates given sql node to SQL using *generator*.\n\n```\ndef as_sql(generator)\n  \"ABS(#{operand_sql(operands[0], generator)})\"\nend\n```","summary":"<p>Translates given sql node to SQL using <em>generator</em>.</p>","abstract":false,"args":[{"name":"operand","doc":null,"default_value":"","external_name":"operand","restriction":"SQLNode"},{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(operand : SQLNode, generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L92","def":{"name":"operand_sql","args":[{"name":"operand","doc":null,"default_value":"","external_name":"operand","restriction":"SQLNode"},{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"operand.as_sql(generator)"}},{"id":"operand_sql(_operand,generator)-instance-method","html_id":"operand_sql(_operand,generator)-instance-method","name":"operand_sql","doc":"Translates given literal to SQL using *generator*.\n\n```\ndef as_sql(generator)\n  \"ABS(#{operand_sql(operands[0], generator)})\"\nend\n```","summary":"<p>Translates given literal to SQL using <em>generator</em>.</p>","abstract":false,"args":[{"name":"_operand","doc":null,"default_value":"","external_name":"_operand","restriction":""},{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(_operand, generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L103","def":{"name":"operand_sql","args":[{"name":"_operand","doc":null,"default_value":"","external_name":"_operand","restriction":""},{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"generator.escape_string"}},{"id":"operands:Array(Array(Array(Char)|Array(Float32)|Array(Float64)|Array(Int16)|Array(Int32)|Array(Int64)|Array(String)|Bool|Char|Float32|Float64|Int16|Int32|Int64|Int8|JSON::Any|PG::Geo::Box|PG::Geo::Circle|PG::Geo::Line|PG::Geo::LineSegment|PG::Geo::Path|PG::Geo::Point|PG::Geo::Polygon|PG::Numeric|Slice(UInt8)|String|Time|Time::Span|UInt32|Nil)|Array(Char)|Array(Float32)|Array(Float64)|Array(Int16)|Array(Int32)|Array(Int64)|Array(String)|Bool|Char|Float32|Float64|Int16|Int32|Int64|Int8|JSON::Any|Jennifer::QueryBuilder::SQLNode|PG::Geo::Box|PG::Geo::Circle|PG::Geo::Line|PG::Geo::LineSegment|PG::Geo::Path|PG::Geo::Point|PG::Geo::Polygon|PG::Numeric|Slice(UInt8)|String|Time|Time::Span|UInt32|Nil)-instance-method","html_id":"operands:Array(Array(Array(Char)|Array(Float32)|Array(Float64)|Array(Int16)|Array(Int32)|Array(Int64)|Array(String)|Bool|Char|Float32|Float64|Int16|Int32|Int64|Int8|JSON::Any|PG::Geo::Box|PG::Geo::Circle|PG::Geo::Line|PG::Geo::LineSegment|PG::Geo::Path|PG::Geo::Point|PG::Geo::Polygon|PG::Numeric|Slice(UInt8)|String|Time|Time::Span|UInt32|Nil)|Array(Char)|Array(Float32)|Array(Float64)|Array(Int16)|Array(Int32)|Array(Int64)|Array(String)|Bool|Char|Float32|Float64|Int16|Int32|Int64|Int8|JSON::Any|Jennifer::QueryBuilder::SQLNode|PG::Geo::Box|PG::Geo::Circle|PG::Geo::Line|PG::Geo::LineSegment|PG::Geo::Path|PG::Geo::Point|PG::Geo::Polygon|PG::Numeric|Slice(UInt8)|String|Time|Time::Span|UInt32|Nil)-instance-method","name":"operands","doc":"Array of arguments that were passed to the function.","summary":"<p>Array of arguments that were passed to the function.</p>","abstract":false,"args":[],"args_string":" : Array(Array(Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | Time::Span | UInt32 | Nil) | Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | Jennifer::QueryBuilder::SQLNode | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | Time::Span | UInt32 | Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L14","def":{"name":"operands","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@operands"}},{"id":"operands_to_sql(generator)-instance-method","html_id":"operands_to_sql(generator)-instance-method","name":"operands_to_sql","doc":"Translates all operands to SQL using *generator*.\n\n```\ndef as_sql(generator)\n  \"CONCAT(#{operands_to_sql(generator)})\"\nend\n```","summary":"<p>Translates all operands to SQL using <em>generator</em>.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L79","def":{"name":"operands_to_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"operands.join(\", \") do |operand|\n  operand_sql(operand, generator)\nend"}},{"id":"set_relation(table,name)-instance-method","html_id":"set_relation(table,name)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L36","def":{"name":"set_relation","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"operands.each do |operand|\n  if operand.is_a?(SQLNode)\n    (operand.as(SQLNode)).set_relation(table, name)\n  end\nend"}},{"id":"sql_args:Array(DBAny)-instance-method","html_id":"sql_args:Array(DBAny)-instance-method","name":"sql_args","doc":"Returns array of SQL query arguments.","summary":"<p>Returns array of SQL query arguments.</p>","abstract":false,"args":[],"args_string":" : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L56","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"res = [] of DBAny\noperands.each do |operand|\n  if operand.is_a?(SQLNode)\n    res.concat(operand.sql_args)\n  else\n    res << (operand.as(DBAny))\n  end\nend\nres\n"}}],"macros":[{"id":"define(name,klass=nil,arity=0,comment=nil)-macro","html_id":"define(name,klass=nil,arity=0,comment=nil)-macro","name":"define","doc":"Defines new function class.\n- `name` - function name; use used to generate function class name if it isn't specified\n- `klass` - function class name; optional\n- `arity` - describes function arity\n- `comment` - adds given comment to the generated function class.\n\n`arity` = -1 means function can accept variable number of argument, 0 - no one.\n\nIn the block you can define any methods you like but must implement `#as_sql` abstract method.\n\nTo access arguments passed to the function use `#operands` method.\n\n```\nFunction.define( \"lower\", arity: 1, comment: <<-TEXT\n    Creates `LOWER` sql function instance with the given\n\n    next line\n\n    ```\n    1 + 2\n    ```\n  TEXT\n) do\n  def as_sql(generator)\n    \"LOWER(#{operand_sql(operands[0], generator)})\"\n  end\nend\n```","summary":"<p>Defines new function class.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"nil","external_name":"klass","restriction":""},{"name":"arity","doc":null,"default_value":"0","external_name":"arity","restriction":""},{"name":"comment","doc":null,"default_value":"nil","external_name":"comment","restriction":""}],"args_string":"(name, klass = <span class=\"n\">nil</span>, arity = <span class=\"n\">0</span>, comment = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L135","def":{"name":"define","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"nil","external_name":"klass","restriction":""},{"name":"arity","doc":null,"default_value":"0","external_name":"arity","restriction":""},{"name":"comment","doc":null,"default_value":"nil","external_name":"comment","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% if klass == nil\n  klass = name.camelcase + \"Function\"\nend\nargs_string = (arity > 0 ? (0...arity).to_a.map do |i|\n  \"arg#{i}\"\nend.join(\", \") : arity < 0 ? \"*args\" : \"\").id\n %}\n\n\n        class ::Jennifer::QueryBuilder::ExpressionBuilder\n          \n# Create `\n{{ klass }}\n` function.\n\n          def \n{{ name.id }}\n(\n{{ args_string }}\n)\n            \n{{ klass.id }}\n.new(\n{{ args_string }}\n)\n          \nend\n        \nend\n\n        \n{{ if comment != nil\n  ((comment.split(\"\\n\")).map do |row|\n    \"# \" + row.strip\n  end.join(\"\\n\")).id\nend }}\n\n        class \n{{ klass.id }}\n < ::Jennifer::QueryBuilder::Function\n          def_clone\n\n          protected def initialize_copy(other)\n            @operands = other.@operands.dup\n          \nend\n\n          \n{{ yield }}\n\n        \nend\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Grouping","path":"Jennifer/QueryBuilder/Grouping.html","kind":"class","full_name":"Jennifer::QueryBuilder::Grouping","name":"Grouping","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder.cr"},{"filename":"jennifer/query_builder/grouping.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/grouping.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Presents group of logic operations.","summary":"<p>Presents group of logic operations.</p>","class_methods":[],"constructors":[{"id":"new(condition)-class-method","html_id":"new(condition)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":""}],"args_string":"(condition)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/grouping.cr#L11","def":{"name":"new","args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(condition)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/grouping.cr#L26","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(\"(\" + (@condition.as_sql(generator))) + \")\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/grouping.cr#L9","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"condition:LogicOperator|Statement-instance-method","html_id":"condition:LogicOperator|Statement-instance-method","name":"condition","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : LogicOperator | Statement","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/grouping.cr#L9","def":{"name":"condition","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"LogicOperator | Statement","visibility":"Public","body":"@condition"}},{"id":"eql?(other:Grouping)-instance-method","html_id":"eql?(other:Grouping)-instance-method","name":"eql?","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Grouping"}],"args_string":"(other : Grouping)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/grouping.cr#L14","def":{"name":"eql?","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Grouping"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"condition.eql?(other.condition)"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":"Returns whether node has an argument to be added to sql statement arguments.","summary":"<p>Returns whether node has an argument to be added to sql statement arguments.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/grouping.cr#L22","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"condition.filterable?"}},{"id":"sql_args:Array(DBAny)-instance-method","html_id":"sql_args:Array(DBAny)-instance-method","name":"sql_args","doc":"Returns array of SQL query arguments.","summary":"<p>Returns array of SQL query arguments.</p>","abstract":false,"args":[],"args_string":" : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/grouping.cr#L18","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"condition.sql_args"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/IModelQuery","path":"Jennifer/QueryBuilder/IModelQuery.html","kind":"class","full_name":"Jennifer::QueryBuilder::IModelQuery","name":"IModelQuery","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/EagerLoading","kind":"module","full_name":"Jennifer::QueryBuilder::EagerLoading","name":"EagerLoading"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Executables","kind":"module","full_name":"Jennifer::QueryBuilder::Executables","name":"Executables"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Joining","kind":"module","full_name":"Jennifer::QueryBuilder::Joining","name":"Joining"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Ordering","kind":"module","full_name":"Jennifer::QueryBuilder::Ordering","name":"Ordering"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Aggregations","kind":"module","full_name":"Jennifer::QueryBuilder::Aggregations","name":"Aggregations"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/i_model_query.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/EagerLoading","kind":"module","full_name":"Jennifer::QueryBuilder::EagerLoading","name":"EagerLoading"}],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ModelQuery","kind":"class","full_name":"Jennifer::QueryBuilder::ModelQuery(T)","name":"ModelQuery"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"NOTE: can't be abstract because is already implemented by super class.","summary":"<p><span class=\"flag purple\">NOTE</span>  can't be abstract because is already implemented by super class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr#L15","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(:clone, {{ @type }}))"}},{"id":"destroy-instance-method","html_id":"destroy-instance-method","name":"destroy","doc":"Triggers `#destroy` on the each matched object.\n\n```\nContact.all.where { _name.like('%John%') }.destroy\n```","summary":"<p>Triggers <code><a href=\"../../Jennifer/QueryBuilder/IModelQuery.html#destroy-instance-method\">#destroy</a></code> on the each matched object.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr#L73","def":{"name":"destroy","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"find_each(&.destroy)"}},{"id":"find_each(batch_size:Int32=1000,start=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_each(batch_size:Int32=1000,start=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_each","doc":"Yields each record in batches from #find_in_batches.\n\nLooping through a collection of records from the database is very inefficient since it will instantiate all the objects\nat once. In that case batch processing methods allow you to work with the records\nin batches, thereby greatly reducing memory consumption.\n\n```\nContact.all.where { _age > 21 }.find_each do |contact|\n  puts contact.id\nend\n```","summary":"<p>Yields each record in batches from #find_in_batches.</p>","abstract":false,"args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(batch_size : Int32 = <span class=\"n\">1000</span>, start = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr#L64","def":{"name":"find_each","args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"super(model_class.primary, batch_size, start, direction) do |record|\n  yield record\nend"}},{"id":"find_in_batches(batch_size:Int32=1000,start=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_in_batches(batch_size:Int32=1000,start=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_in_batches","doc":"Yields each batch of records that was found by the specified query.\n\n```\nContact.all.where { _age > 21 }.find_in_batches do |batch|\n  batch.each do |contact|\n    puts contact.id\n  end\nend\n```\n\nTo get each record one by one use #find_each instead.\n\nNOTE: any given ordering will be ignored and query will be reordered based on the\n*primary_key* and *direction*.","summary":"<p>Yields each batch of records that was found by the specified query.</p>","abstract":false,"args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(batch_size : Int32 = <span class=\"n\">1000</span>, start = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr#L49","def":{"name":"find_in_batches","args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"super(model_class.primary, batch_size, start, direction) do |records|\n  yield records\nend"}},{"id":"model_class-instance-method","html_id":"model_class-instance-method","name":"model_class","doc":"NOTE: improperly detects source of #abstract_class if run sam with only Version model","summary":"<p><span class=\"flag purple\">NOTE</span>  improperly detects source of #abstract_class if run sam with only Version model</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr#L10","def":{"name":"model_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(:model_class, {{ @type }}))"}},{"id":"patch(options:Hash|NamedTuple)-instance-method","html_id":"patch(options:Hash|NamedTuple)-instance-method","name":"patch","doc":"Triggers `#update` on the each matched object.\n\nAs a result all callbacks and validations are invoked.\n\n```\nContact.all.where { _name == \"Ohn\" }.path({ name: \"John\" })\n```","summary":"<p>Triggers <code>#update</code> on the each matched object.</p>","abstract":false,"args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash | NamedTuple"}],"args_string":"(options : Hash | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr#L84","def":{"name":"patch","args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"find_each(&.update(options))"}},{"id":"patch(**opts)-instance-method","html_id":"patch(**opts)-instance-method","name":"patch","doc":"Triggers `#update` on the each matched object.\n\nAs a result all callbacks and validations are invoked.\n\n```\nContact.all.where { _name == \"Ohn\" }.path({ name: \"John\" })\n```","summary":"<p>Triggers <code>#update</code> on the each matched object.</p>","abstract":false,"args":[],"args_string":"(**opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr#L89","def":{"name":"patch","args":[],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"patch(opts)"}},{"id":"patch!(options:Hash|NamedTuple)-instance-method","html_id":"patch!(options:Hash|NamedTuple)-instance-method","name":"patch!","doc":"Triggers `#update!` on the each matched object.\n\nAs a result all callbacks and validations are invoked. If any individual update raise exception -\nit will stop all following operations.\n\n```\nContact.all.where { _name == \"Ohn\" }.path!({ name: \"John\" })\n```","summary":"<p>Triggers <code>#update!</code> on the each matched object.</p>","abstract":false,"args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash | NamedTuple"}],"args_string":"(options : Hash | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr#L101","def":{"name":"patch!","args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"find_each(&.update!(options))"}},{"id":"patch!(**opts)-instance-method","html_id":"patch!(**opts)-instance-method","name":"patch!","doc":"Triggers `#update!` on the each matched object.\n\nAs a result all callbacks and validations are invoked. If any individual update raise exception -\nit will stop all following operations.\n\n```\nContact.all.where { _name == \"Ohn\" }.path!({ name: \"John\" })\n```","summary":"<p>Triggers <code>#update!</code> on the each matched object.</p>","abstract":false,"args":[],"args_string":"(**opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr#L106","def":{"name":"patch!","args":[],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"patch!(opts)"}},{"id":"relation(name,type=:left)-instance-method","html_id":"relation(name,type=:left)-instance-method","name":"relation","doc":"Joins *name* relation.\n\nYou can specify join type passing it as 2nd argument.\n\n```\nContact.all.relation(:addresses)\n```","summary":"<p>Joins <em>name</em> relation.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":":left","external_name":"type","restriction":""}],"args_string":"(name, type = <span class=\"n\">:left</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr#L31","def":{"name":"relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":":left","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(model_class.relation(name.to_s)).join_condition(self, type)"}},{"id":"table-instance-method","html_id":"table-instance-method","name":"table","doc":"Returns target table name.","summary":"<p>Returns target table name.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/i_model_query.cr#L20","def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table.empty? ? model_class.table_name : @table"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Join","path":"Jennifer/QueryBuilder/Join.html","kind":"class","full_name":"Jennifer::QueryBuilder::Join","name":"Join","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/join.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LateralJoin","kind":"class","full_name":"Jennifer::QueryBuilder::LateralJoin","name":"LateralJoin"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table,on:Criteria,type,aliass=nil,relation=nil)-class-method","html_id":"new(table,on:Criteria,type,aliass=nil,relation=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Criteria"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"args_string":"(table, on : Criteria, type, aliass = <span class=\"n\">nil</span>, relation = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L20","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Criteria"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, on, type, aliass, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(table,on:Condition|LogicOperator,type,aliass=nil,relation=nil)-class-method","html_id":"new(table,on:Condition|LogicOperator,type,aliass=nil,relation=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Condition | LogicOperator"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"args_string":"(table, on : Condition | LogicOperator, type, aliass = <span class=\"n\">nil</span>, relation = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L24","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Condition | LogicOperator"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, on, type, aliass, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(table,on:Grouping,type,aliass=nil,relation=nil)-class-method","html_id":"new(table,on:Grouping,type,aliass=nil,relation=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Grouping"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"args_string":"(table, on : Grouping, type, aliass = <span class=\"n\">nil</span>, relation = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L27","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Grouping"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, on, type, aliass, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L78","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @relation && (!@aliass)\n  @aliass = aliases[@relation.as(String)]\nend\n@on.alias_tables(aliases)\n"}},{"id":"aliass:String?-instance-method","html_id":"aliass:String?-instance-method","name":"aliass","doc":"Table alias.","summary":"<p>Table alias.</p>","abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L16","def":{"name":"aliass","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@aliass"}},{"id":"aliass=(aliass:String?)-instance-method","html_id":"aliass=(aliass:String?)-instance-method","name":"aliass=","doc":"Table alias.","summary":"<p>Table alias.</p>","abstract":false,"args":[{"name":"aliass","doc":null,"default_value":"","external_name":"aliass","restriction":"String | ::Nil"}],"args_string":"(aliass : String?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L20","def":{"name":"aliass=","args":[{"name":"aliass","doc":null,"default_value":"","external_name":"aliass","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@aliass = aliass"}},{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L43","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql(Adapter.default_adapter.sql_generator)"}},{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L47","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"type_definition + \"#{table_definition(generator)} ON #{@on.as_sql(generator)}\\n\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L18","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L39","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@on.filterable? || (@table.is_a?(Query) && (@table.as(Query)).filterable?)"}},{"id":"has_alias?-instance-method","html_id":"has_alias?-instance-method","name":"has_alias?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L35","def":{"name":"has_alias?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"!@aliass.nil?"}},{"id":"on:Condition|LogicOperator-instance-method","html_id":"on:Condition|LogicOperator-instance-method","name":"on","doc":"Query `ON` condition.","summary":"<p>Query <code>ON</code> condition.</p>","abstract":false,"args":[],"args_string":" : Condition | LogicOperator","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L13","def":{"name":"on","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Condition | LogicOperator","visibility":"Public","body":"@on"}},{"id":"on=(on:Condition|LogicOperator)-instance-method","html_id":"on=(on:Condition|LogicOperator)-instance-method","name":"on=","doc":"Query `ON` condition.","summary":"<p>Query <code>ON</code> condition.</p>","abstract":false,"args":[{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Condition | LogicOperator"}],"args_string":"(on : Condition | LogicOperator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L17","def":{"name":"on=","args":[{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Condition | LogicOperator"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@on = on"}},{"id":"relation:String?-instance-method","html_id":"relation:String?-instance-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L18","def":{"name":"relation","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@relation"}},{"id":"relation=(relation:String?)-instance-method","html_id":"relation=(relation:String?)-instance-method","name":"relation=","doc":null,"summary":null,"abstract":false,"args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":"String | ::Nil"}],"args_string":"(relation : String?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L22","def":{"name":"relation=","args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@relation = relation"}},{"id":"sql_args:Array(DBAny)-instance-method","html_id":"sql_args:Array(DBAny)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L83","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"@table.is_a?(String) ? @on.sql_args : (@table.as(Query)).sql_args + @on.sql_args"}},{"id":"table-instance-method","html_id":"table-instance-method","name":"table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L31","def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table.is_a?(String) ? @table.as(String) : \"\""}},{"id":"table=(table:String|Query)-instance-method","html_id":"table=(table:String|Query)-instance-method","name":"table=","doc":"Table name to be joined or source query.","summary":"<p>Table name to be joined or source query.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Query"}],"args_string":"(table : String | Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L7","def":{"name":"table=","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table = table"}},{"id":"table_definition(generator)-instance-method","html_id":"table_definition(generator)-instance-method","name":"table_definition","doc":null,"summary":null,"abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L66","def":{"name":"table_definition","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@aliass ? \"#{table_name(generator)} #{@aliass}\" : table_name(generator)"}},{"id":"table_name(generator):String-instance-method","html_id":"table_name(generator):String-instance-method","name":"table_name","doc":null,"summary":null,"abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator) : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L70","def":{"name":"table_name","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"if @table.is_a?(String)\n  @table.as(String)\nelse\n  (\"(\" + ((@table.as(Query)).as_sql(generator))) + \")\"\nend"}},{"id":"type:Symbol-instance-method","html_id":"type:Symbol-instance-method","name":"type","doc":"Join type.","summary":"<p>Join type.</p>","abstract":false,"args":[],"args_string":" : Symbol","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L10","def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol","visibility":"Public","body":"@type"}},{"id":"type=(type:Symbol)-instance-method","html_id":"type=(type:Symbol)-instance-method","name":"type=","doc":"Join type.","summary":"<p>Join type.</p>","abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol"}],"args_string":"(type : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L14","def":{"name":"type=","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@type = type"}},{"id":"type_definition-instance-method","html_id":"type_definition-instance-method","name":"type_definition","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L51","def":{"name":"type_definition","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case @type\nwhen :left\n  \"LEFT JOIN \"\nwhen :right\n  \"RIGHT JOIN \"\nwhen :inner\n  \"JOIN \"\nwhen :full, :full_outer\n  \"FULL OUTER JOIN \"\nelse\n  raise(ArgumentError.new(\"Bad join type: #{@type}.\"))\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Joining","path":"Jennifer/QueryBuilder/Joining.html","kind":"module","full_name":"Jennifer::QueryBuilder::Joining","name":"Joining","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/joining.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/joining.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"join(source:Class,table_alias:String?=nil,type=:inner,relation:String?=nil,&block)-instance-method","html_id":"join(source:Class,table_alias:String?=nil,type=:inner,relation:String?=nil,&amp;block)-instance-method","name":"join","doc":"Adds `JOIN` of the *source*'s class table to the request.\n\nYou can pass table alias which will be automatically used by given expression builder.\n\nMethod block provides two arguments:\n\n* expression builder for the table that is mentioned in the `FROM` clause;\n* expression builder for the table that is joined.\n\nAt the same time block is executed in context of **joined** table.\n\n```\nContact.all.join(Address) { |t| _contact_id == t._id }\n# => JOIN addresses ON addresses.contact_id = contacts.id\n\nContact.all.join(Address, \"some_table\") { |t| _contact_id == t._id }\n# => JOIN addresses some_table ON some_table.contact_id = contacts.id\n```","summary":"<p>Adds <code>JOIN</code> of the <em>source</em>'s class table to the request.</p>","abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"args_string":"(source : Class, table_alias : String? = <span class=\"n\">nil</span>, type = <span class=\"n\">:inner</span>, relation : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/joining.cr#L22","def":{"name":"join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":null,"return_type":"","visibility":"Public","body":"eb = joined_context(source, relation, table_alias)\nif relation\n  with_relation!\nend\nother = with eb yield @expression, eb\n_joins! << (Join.new(source.table_name, other, type, table_alias, relation))\nself\n"}},{"id":"join(source:String,table_alias:String?=nil,type=:inner,relation:String?=nil,&block)-instance-method","html_id":"join(source:String,table_alias:String?=nil,type=:inner,relation:String?=nil,&amp;block)-instance-method","name":"join","doc":"Adds `JOIN` of *source* table to the request.\n\n```\nContact.all.join(\"addresses\") { |t| _contact_id == t._id }\n# => JOIN addresses ON addresses.contact_id = contacts.id\n```","summary":"<p>Adds <code>JOIN</code> of <em>source</em> table to the request.</p>","abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"args_string":"(source : String, table_alias : String? = <span class=\"n\">nil</span>, type = <span class=\"n\">:inner</span>, relation : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/joining.cr#L36","def":{"name":"join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":null,"return_type":"","visibility":"Public","body":"eb = joined_context(source, relation, table_alias)\nif relation\n  with_relation!\nend\nother = with eb yield @expression, eb\n_joins! << (Join.new(source, other, type, table_alias, relation))\nself\n"}},{"id":"join(source:Query,table_alias:String,type=:inner,&block)-instance-method","html_id":"join(source:Query,table_alias:String,type=:inner,&amp;block)-instance-method","name":"join","doc":"Adds `JOIN` of *source* query to the request.\n\n```\nContact.all.join(Address.all, \"some_table\") { |t| _contact_id == t._id }\n# => JOIN (SELECT addresses.* FROM addresses) some_table ON some_table.contact_id = contacts.id\n```","summary":"<p>Adds <code>JOIN</code> of <em>source</em> query to the request.</p>","abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Query"},{"name":"table_alias","doc":null,"default_value":"","external_name":"table_alias","restriction":"String"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""}],"args_string":"(source : Query, table_alias : String, type = <span class=\"n\">:inner</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/joining.cr#L50","def":{"name":"join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Query"},{"name":"table_alias","doc":null,"default_value":"","external_name":"table_alias","restriction":"String"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":null,"return_type":"","visibility":"Public","body":"eb = joined_context(source, table_alias)\nother = with eb yield @expression, eb\n_joins! << (Join.new(source, other, type, table_alias))\nself\n"}},{"id":"lateral_join(source:Query,table_alias:String,type=:inner,&block)-instance-method","html_id":"lateral_join(source:Query,table_alias:String,type=:inner,&amp;block)-instance-method","name":"lateral_join","doc":"Adds `JOIN LATERAL` of *source* query to the request.\n\n```\nContact.all.lateral_join(Address.all, \"some_table\") { |t| _contact_id == t._id }\n# => JOIN LATERAL (SELECT addresses.* FROM addresses) some_table ON some_table.contact_id = contacts.id\n```","summary":"<p>Adds <code>JOIN LATERAL</code> of <em>source</em> query to the request.</p>","abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Query"},{"name":"table_alias","doc":null,"default_value":"","external_name":"table_alias","restriction":"String"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""}],"args_string":"(source : Query, table_alias : String, type = <span class=\"n\">:inner</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/joining.cr#L63","def":{"name":"lateral_join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Query"},{"name":"table_alias","doc":null,"default_value":"","external_name":"table_alias","restriction":"String"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":null,"return_type":"","visibility":"Public","body":"eb = joined_context(source, table_alias)\nother = with eb yield @expression, eb\n_joins! << (LateralJoin.new(source, other, type, table_alias))\nself\n"}},{"id":"left_join(source:Class,table_alias:String?=nil,&block)-instance-method","html_id":"left_join(source:Class,table_alias:String?=nil,&amp;block)-instance-method","name":"left_join","doc":"Adds `LEFT JOIN` of the *source*'s class table to the request.\n\nAlias for `join(source, table_alias, :left)`.","summary":"<p>Adds <code>LEFT JOIN</code> of the <em>source</em>'s class table to the request.</p>","abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"}],"args_string":"(source : Class, table_alias : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/joining.cr#L73","def":{"name":"left_join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":null,"return_type":"","visibility":"Public","body":"join(source, table_alias, :left) do |own_table, joined_table|\n  with joined_table yield own_table, joined_table\nend"}},{"id":"left_join(source:String,table_alias:String?=nil,&block)-instance-method","html_id":"left_join(source:String,table_alias:String?=nil,&amp;block)-instance-method","name":"left_join","doc":"Adds `LEFT JOIN` of *source* table to the request.\n\nAlias for `join(source, table_alias, :left)`.","summary":"<p>Adds <code>LEFT JOIN</code> of <em>source</em> table to the request.</p>","abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"}],"args_string":"(source : String, table_alias : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/joining.cr#L80","def":{"name":"left_join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":null,"return_type":"","visibility":"Public","body":"join(source, table_alias, :left) do |own_table, joined_table|\n  with joined_table yield own_table, joined_table\nend"}},{"id":"right_join(source:Class,table_alias:String?=nil,&block)-instance-method","html_id":"right_join(source:Class,table_alias:String?=nil,&amp;block)-instance-method","name":"right_join","doc":"Adds `RIGHT JOIN` of the *source*'s class table to the request.\n\nAlias for `join(source, table_alias, :right)`.","summary":"<p>Adds <code>RIGHT JOIN</code> of the <em>source</em>'s class table to the request.</p>","abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"}],"args_string":"(source : Class, table_alias : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/joining.cr#L87","def":{"name":"right_join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":null,"return_type":"","visibility":"Public","body":"join(source, table_alias, :right) do |own_table, joined_table|\n  with joined_table yield own_table, joined_table\nend"}},{"id":"right_join(source:String,table_alias:String?=nil,&block)-instance-method","html_id":"right_join(source:String,table_alias:String?=nil,&amp;block)-instance-method","name":"right_join","doc":"# Adds `RIGHT JOIN` of *source* table to the request.\n\nAlias for `join(source, table_alias, :right)`.","summary":"<h1>Adds <code>RIGHT JOIN</code> of <em>source</em> table to the request.</h1>","abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"}],"args_string":"(source : String, table_alias : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/joining.cr#L94","def":{"name":"right_join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"table_alias","doc":null,"default_value":"nil","external_name":"table_alias","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":null,"return_type":"","visibility":"Public","body":"join(source, table_alias, :right) do |own_table, joined_table|\n  with joined_table yield own_table, joined_table\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/JSONSelector","path":"Jennifer/QueryBuilder/JSONSelector.html","kind":"class","full_name":"Jennifer::QueryBuilder::JSONSelector","name":"JSONSelector","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/json_selector.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/json_selector.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(criteria:Criteria,path,type)-class-method","html_id":"new(criteria:Criteria,path,type)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"criteria","doc":null,"default_value":"","external_name":"criteria","restriction":"Criteria"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(criteria : Criteria, path, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/json_selector.cr#L8","def":{"name":"new","args":[{"name":"criteria","doc":null,"default_value":"","external_name":"criteria","restriction":"Criteria"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(criteria, path, type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/json_selector.cr#L12","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"generator.json_path(self)"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/json_selector.cr#L6","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"path:Int32|String-instance-method","html_id":"path:Int32|String-instance-method","name":"path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32 | String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/json_selector.cr#L6","def":{"name":"path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32 | String","visibility":"Public","body":"@path"}},{"id":"type:Symbol-instance-method","html_id":"type:Symbol-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbol","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/json_selector.cr#L6","def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol","visibility":"Public","body":"@type"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LateralJoin","path":"Jennifer/QueryBuilder/LateralJoin.html","kind":"class","full_name":"Jennifer::QueryBuilder::LateralJoin","name":"LateralJoin","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Join","kind":"class","full_name":"Jennifer::QueryBuilder::Join","name":"Join"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Join","kind":"class","full_name":"Jennifer::QueryBuilder::Join","name":"Join"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/join.cr","line_number":88,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"type_definition-instance-method","html_id":"type_definition-instance-method","name":"type_definition","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/join.cr#L89","def":{"name":"type_definition","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(case @type\nwhen :left\n  \"LEFT JOIN \"\nwhen :right\n  \"RIGHT JOIN \"\nwhen :inner\n  \"JOIN \"\nwhen :full, :full_outer\n  \"FULL OUTER JOIN \"\nelse\n  raise(ArgumentError.new(\"Bad join type: #{@type}.\"))\nend) + \"LATERAL \""}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","path":"Jennifer/QueryBuilder/LogicOperator.html","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"}],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/And","kind":"class","full_name":"Jennifer::QueryBuilder::And","name":"And"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Or","kind":"class","full_name":"Jennifer::QueryBuilder::Or","name":"Or"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Xor","kind":"class","full_name":"Jennifer::QueryBuilder::Xor","name":"Xor"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(lhs,rhs)-class-method","html_id":"new(lhs,rhs)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""},{"name":"rhs","doc":null,"default_value":"","external_name":"rhs","restriction":""}],"args_string":"(lhs, rhs)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L36","def":{"name":"new","args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""},{"name":"rhs","doc":null,"default_value":"","external_name":"rhs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(lhs, rhs)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"==(other)-instance-method","html_id":"==(other)-instance-method","name":"==","doc":"Returns `false` (other can only be a `Value` here).","summary":"<p>Returns <code>false</code> (other can only be a <code>Value</code> here).</p>","abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"args_string":"(other)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L76","def":{"name":"==","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"eql?(other)"}},{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L45","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@rhs.alias_tables(aliases)\n@lhs.alias_tables(aliases)\n"}},{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L64","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"((((@lhs.as_sql(generator)) + \" \") + operator) + \" \") + (@rhs.as_sql(generator))"}},{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L60","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql(Adapter.default_adapter.sql_generator)"}},{"id":"change_table(old_name,new_name)-instance-method","html_id":"change_table(old_name,new_name)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L55","def":{"name":"change_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@rhs.change_table(old_name, new_name)\n@lhs.change_table(old_name, new_name)\n"}},{"id":"eql?(other:LogicOperator)-instance-method","html_id":"eql?(other:LogicOperator)-instance-method","name":"eql?","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator"}],"args_string":"(other : LogicOperator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L80","def":{"name":"eql?","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(@lhs.eql?(other.lhs)) && (@rhs.eql?(other.rhs))"}},{"id":"eql?(other)-instance-method","html_id":"eql?(other)-instance-method","name":"eql?","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"args_string":"(other)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L84","def":{"name":"eql?","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"false"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L72","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lhs.filterable? || @rhs.filterable?"}},{"id":"lhs:Operandable-instance-method","html_id":"lhs:Operandable-instance-method","name":"lhs","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Operandable","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L36","def":{"name":"lhs","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Operandable","visibility":"Public","body":"@lhs"}},{"id":"operator-instance-method","html_id":"operator-instance-method","name":"operator","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L39","def":{"name":"operator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"rhs:Operandable-instance-method","html_id":"rhs:Operandable-instance-method","name":"rhs","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Operandable","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L36","def":{"name":"rhs","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Operandable","visibility":"Public","body":"@rhs"}},{"id":"set_relation(table,name)-instance-method","html_id":"set_relation(table,name)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L50","def":{"name":"set_relation","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@rhs.set_relation(table, name)\n@lhs.set_relation(table, name)\n"}},{"id":"sql_args:Array(DBAny)-instance-method","html_id":"sql_args:Array(DBAny)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L68","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"@lhs.sql_args + @rhs.sql_args"}},{"id":"to_s-instance-method","html_id":"to_s-instance-method","name":"to_s","doc":"Returns a string representation of this object.\n\nDescendants must usually **not** override this method. Instead,\nthey must override `to_s(io)`, which must append to the given\nIO object.","summary":"<p>Returns a string representation of this object.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L41","def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operandable","path":"Jennifer/QueryBuilder/LogicOperator/Operandable.html","kind":"alias","full_name":"Jennifer::QueryBuilder::LogicOperator::Operandable","name":"Operandable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":32,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Jennifer::QueryBuilder::Condition | Jennifer::QueryBuilder::LogicOperator | Jennifer::QueryBuilder::SQLNode)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","path":"Jennifer/QueryBuilder/LogicOperator/Operators.html","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Condition","kind":"class","full_name":"Jennifer::QueryBuilder::Condition","name":"Condition"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Grouping","kind":"class","full_name":"Jennifer::QueryBuilder::Grouping","name":"Grouping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"&(other:Criteria)-instance-method","html_id":"&amp;(other:Criteria)-instance-method","name":"&","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"args_string":"(other : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L5","def":{"name":"&","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"And.new(self, other.to_condition)"}},{"id":"&(other:Operandable)-instance-method","html_id":"&amp;(other:Operandable)-instance-method","name":"&","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"args_string":"(other : Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L17","def":{"name":"&","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"And.new(self, other)"}},{"id":"xor(other:Criteria)-instance-method","html_id":"xor(other:Criteria)-instance-method","name":"xor","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"args_string":"(other : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L13","def":{"name":"xor","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Xor.new(self, other.to_condition)"}},{"id":"xor(other:Operandable)-instance-method","html_id":"xor(other:Operandable)-instance-method","name":"xor","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"args_string":"(other : Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L25","def":{"name":"xor","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Xor.new(self, other)"}},{"id":"|(other:Criteria)-instance-method","html_id":"|(other:Criteria)-instance-method","name":"|","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"args_string":"(other : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L9","def":{"name":"|","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Or.new(self, other.to_condition)"}},{"id":"|(other:Operandable)-instance-method","html_id":"|(other:Operandable)-instance-method","name":"|","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"args_string":"(other : Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L21","def":{"name":"|","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Or.new(self, other)"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LowerFunction","path":"Jennifer/QueryBuilder/LowerFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::LowerFunction","name":"LowerFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":176,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Converts the argument to lower-case.\n\n```\nJennifer::Query[\"users\"].where { lower(_name) == \"john\" }\n```","summary":"<p>Converts the argument to lower-case.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L184","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"LOWER(#{operand_sql(operands[0], generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/MaxFunction","path":"Jennifer/QueryBuilder/MaxFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::MaxFunction","name":"MaxFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":305,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the maximum value of given field.\n\n```\nJennifer::Query[\"users\"].select { [_gender, max(_age).alias(\"human_age\")] }.group(:gender)\n```","summary":"<p>Returns the maximum value of given field.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L313","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"MAX(#{operand_sql(operands[0], generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/MinFunction","path":"Jennifer/QueryBuilder/MinFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::MinFunction","name":"MinFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":318,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the minimum value of given field.\n\n```\nJennifer::Query[\"users\"].select { [_gender, min(_age).alias(\"human_age\")] }.group(:gender)\n```","summary":"<p>Returns the minimum value of given field.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L326","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"MIN(#{operand_sql(operands[0], generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ModelQuery","path":"Jennifer/QueryBuilder/ModelQuery.html","kind":"class","full_name":"Jennifer::QueryBuilder::ModelQuery(T)","name":"ModelQuery","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/IModelQuery","kind":"class","full_name":"Jennifer::QueryBuilder::IModelQuery","name":"IModelQuery"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/IModelQuery","kind":"class","full_name":"Jennifer::QueryBuilder::IModelQuery","name":"IModelQuery"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/EagerLoading","kind":"module","full_name":"Jennifer::QueryBuilder::EagerLoading","name":"EagerLoading"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Executables","kind":"module","full_name":"Jennifer::QueryBuilder::Executables","name":"Executables"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Joining","kind":"module","full_name":"Jennifer::QueryBuilder::Joining","name":"Joining"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Ordering","kind":"module","full_name":"Jennifer::QueryBuilder::Ordering","name":"Ordering"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Aggregations","kind":"module","full_name":"Jennifer::QueryBuilder::Aggregations","name":"Aggregations"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/model_query.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/model_query.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table)-class-method","html_id":"new(table)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/model_query.cr#L13","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = ModelQuery(T).allocate\n_.initialize(table)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/model_query.cr#L8","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = ModelQuery(T).allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"NOTE: can't be abstract because is already implemented by super class.","summary":"<p><span class=\"flag purple\">NOTE</span>  can't be abstract because is already implemented by super class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/model_query.cr#L24","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"find_by_sql(query:String,args:Array(DBAny)=[]ofDBAny)-instance-method","html_id":"find_by_sql(query:String,args:Array(DBAny)=[]ofDBAny)-instance-method","name":"find_by_sql","doc":"Perform search using given plain query and arguments and builds ` but also allow to preload\nrelated records using `#preload` method nad respects `#none`","summary":"<p>Perform search using given plain query and arguments and builds ` but also allow to preload related records using <code>#preload</code> method nad respects <code>#none</code></p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array(DBAny)"}],"args_string":"(query : String, args : Array(DBAny) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DBAny</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/model_query.cr#L56","def":{"name":"find_by_sql","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array(DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"results = [] of T\nif do_nothing?\n  return results\nend\nadapter.query(query, args) do |rs|\n  begin\n    rs.each do\n      results << (T.new(rs))\n    end\n  rescue e : Exception\n    rs.read_to_end\n    raise(e)\n  end\nend\nadd_preloaded(results)\n"}},{"id":"model_class-instance-method","html_id":"model_class-instance-method","name":"model_class","doc":"NOTE: improperly detects source of #abstract_class if run sam with only Version model","summary":"<p><span class=\"flag purple\">NOTE</span>  improperly detects source of #abstract_class if run sam with only Version model</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/model_query.cr#L42","def":{"name":"model_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"T"}},{"id":"multi_query_relation_tree-instance-method","html_id":"multi_query_relation_tree-instance-method","name":"multi_query_relation_tree","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/model_query.cr#L50","def":{"name":"multi_query_relation_tree","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@multi_query_relation_tree || (@multi_query_relation_tree = MultiQueryRelationTree.new(T))"}},{"id":"nested_relation_tree:NestedRelationTree-instance-method","html_id":"nested_relation_tree:NestedRelationTree-instance-method","name":"nested_relation_tree","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : NestedRelationTree","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/model_query.cr#L46","def":{"name":"nested_relation_tree","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"NestedRelationTree","visibility":"Public","body":"@nested_relation_tree || (@nested_relation_tree = NestedRelationTree.new(T))"}},{"id":"to_a-instance-method","html_id":"to_a-instance-method","name":"to_a","doc":"Executes request and maps result set to objects with loading any requested related objects","summary":"<p>Executes request and maps result set to objects with loading any requested related objects</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/model_query.cr#L73","def":{"name":"to_a","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if do_nothing?\n  return [] of T\nend\nif @relation_used\n  add_aliases\nend\nif @eager_load\n  return to_a_with_relations\nend\nresult = [] of T\nadapter.select(self) do |rs|\n  rs.each do\n    begin\n      result << (T.new(rs))\n    rescue e : Exception\n      rs.read_to_end\n      raise(e)\n    end\n  end\nend\nadd_preloaded(result)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/MultiQueryRelationTree","path":"Jennifer/QueryBuilder/MultiQueryRelationTree.html","kind":"class","full_name":"Jennifer::QueryBuilder::MultiQueryRelationTree","name":"MultiQueryRelationTree","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RelationTree","kind":"class","full_name":"Jennifer::QueryBuilder::RelationTree","name":"RelationTree"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RelationTree","kind":"class","full_name":"Jennifer::QueryBuilder::RelationTree","name":"RelationTree"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/multi_query_relation_tree.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/multi_query_relation_tree.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"add_relation(query,rel,context=@klass,index:Int32=0)-instance-method","html_id":"add_relation(query,rel,context=@klass,index:Int32=0)-instance-method","name":"add_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"context","doc":null,"default_value":"@klass","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"0","external_name":"index","restriction":"Int32"}],"args_string":"(query, rel, context = @klass, index : Int32 = <span class=\"n\">0</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/multi_query_relation_tree.cr#L6","def":{"name":"add_relation","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"context","doc":null,"default_value":"@klass","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"0","external_name":"index","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"name = rel.to_s\nrelation = context.relation(name)\n@bucket << {index, relation}\n"}},{"id":"preload(collection)-instance-method","html_id":"preload(collection)-instance-method","name":"preload","doc":null,"summary":null,"abstract":false,"args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""}],"args_string":"(collection)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/multi_query_relation_tree.cr#L12","def":{"name":"preload","args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"repo = Array(Array(Model::Resource)).new(@bucket.size + 1)\n(@bucket.size + 1).times do |_|\n  repo << ([] of Model::Resource)\nend\ncollection.each do |c|\n  repo[0] << c\nend\npk_repo = Array(Hash(DBAny, Array(DBAny))).new(@bucket.size + 1)\n(@bucket.size + 1).times do |_|\n  pk_repo << ({} of DBAny => Array(DBAny))\nend\n@bucket.each_with_index do |pair, index|\n  pair[1].preload_relation(repo[pair[0]], repo[index + 1].as(Array(Model::Resource)), pk_repo[index])\nend\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/NestedRelationTree","path":"Jennifer/QueryBuilder/NestedRelationTree.html","kind":"class","full_name":"Jennifer::QueryBuilder::NestedRelationTree","name":"NestedRelationTree","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RelationTree","kind":"class","full_name":"Jennifer::QueryBuilder::RelationTree","name":"RelationTree"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RelationTree","kind":"class","full_name":"Jennifer::QueryBuilder::RelationTree","name":"RelationTree"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/nested_relation_tree.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/nested_relation_tree.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"add_relation(query,rel,context=@klass,index:Int32=0)-instance-method","html_id":"add_relation(query,rel,context=@klass,index:Int32=0)-instance-method","name":"add_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"context","doc":null,"default_value":"@klass","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"0","external_name":"index","restriction":"Int32"}],"args_string":"(query, rel, context = @klass, index : Int32 = <span class=\"n\">0</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/nested_relation_tree.cr#L6","def":{"name":"add_relation","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"context","doc":null,"default_value":"@klass","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"0","external_name":"index","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"name = rel.to_s\nrelation = context.relation(name)\nrelation.join_condition(query, :left)\n@bucket << {index, relation}\n"}},{"id":"read(rs,klass:T.class)forallT-instance-method","html_id":"read(rs,klass:T.class)forallT-instance-method","name":"read","doc":null,"summary":null,"abstract":false,"args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(rs, klass : <span class=\"t\">T</span>.<span class=\"k\">class</span>) forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/nested_relation_tree.cr#L26","def":{"name":"read","args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"h_result = {} of DBAny => T\nmodels = @bucket.map do |e|\n  e[1].model_class\nend\nexistence = @bucket.map do |_|\n  {} of DBAny => Set(DBAny)\nend\nrepo = @bucket.map do |_|\n  {} of DBAny => Model::Resource\nend\ncontext = Array(Model::Resource | ::Nil).new(@bucket.size + 1, nil)\nrs.each do\n  begin\n    h = build_hash(rs, T.actual_table_field_count)\n    main_field = T.primary_field_name\n    if h[main_field]?\n      obj = ((      __temp_43 = h[main_field]\n      h_result[__temp_43]? || (h_result[__temp_43] = (T.build(h, false)).as(T))))\n      context[0] = obj\n      models.each_with_index do |model, i|\n        related_context_index = @bucket[i][0]\n        related_context = context[related_context_index].not_nil!\n        relation = @bucket[i][1]\n        h = build_hash(rs, model.actual_table_field_count)\n        pfn = model.primary_field_name\n        if h[pfn].nil?\n          context[i + 1] = nil\n        else\n          if existence[i][h[pfn]]?.try(&.includes?(related_context.primary))\n            context[i + 1] = repo[i][h[pfn]]\n          else\n            if repo[i][h[pfn]]?\n              ((              __temp_45 = h[pfn]\n              __temp_46 = existence[i]\n              __temp_46[__temp_45]? || (__temp_46[__temp_45] = Set(DBAny).new))) << related_context.primary\n              context[i + 1] = (              repo[i][h[pfn]] = (related_context.append_relation(relation.name, repo[i][h[pfn]])).not_nil!)\n            else\n              ((              __temp_47 = h[pfn]\n              __temp_48 = existence[i]\n              __temp_48[__temp_47]? || (__temp_48[__temp_47] = Set(DBAny).new))) << related_context.primary\n              context[i + 1] = (              repo[i][h[pfn]] = (related_context.append_relation(relation.name, h)).not_nil!)\n            end\n          end\n        end\n        if related_context_index != 0\n          related_context.relation_retrieved(relation.name)\n        end\n      end\n    else\n      (rs.column_count - T.actual_table_field_count).times do |_|\n        rs.read\n      end\n    end\n  ensure\n    rs.read_to_end\n  end\nend\ncollection = h_result.values\n@bucket.each do |pair|\n  if pair[0] != 0\n    next\n  end\n  collection.each(&.relation_retrieved(pair[1].name))\nend\ncollection\n"}},{"id":"select_fields(query)-instance-method","html_id":"select_fields(query)-instance-method","name":"select_fields","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/nested_relation_tree.cr#L13","def":{"name":"select_fields","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"eb = query.expression_builder\nbuff = Array(Criteria).new(@bucket.size + 1)\nbuff << eb.star\n@bucket.each do |pair|\n  rel = pair[1]\n  table_name = query._table_aliases[rel.name]? || rel.table_name\n  buff << (eb.star(table_name))\nend\nbuff\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/NowFunction","path":"Jennifer/QueryBuilder/NowFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::NowFunction","name":"NowFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":220,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns current date and time.","summary":"<p>Returns current date and time.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L221","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"NOW()\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Or","path":"Jennifer/QueryBuilder/Or.html","kind":"class","full_name":"Jennifer::QueryBuilder::Or","name":"Or","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":99,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"OPERATOR","name":"OPERATOR","value":"\"OR\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L102","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"operator-instance-method","html_id":"operator-instance-method","name":"operator","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L104","def":{"name":"operator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"OPERATOR"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Ordering","path":"Jennifer/QueryBuilder/Ordering.html","kind":"module","full_name":"Jennifer::QueryBuilder::Ordering","name":"Ordering","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/ordering.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"order(opts:Hash(String,String|Symbol))-instance-method","html_id":"order(opts:Hash(String,String|Symbol))-instance-method","name":"order","doc":"Allow to specify an order by hash with string keys.\n\n```\nContact.all.order({ \"name\" => :asc })\n```","summary":"<p>Allow to specify an order by hash with string keys.</p>","abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String, String | Symbol)"}],"args_string":"(opts : Hash(String, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L23","def":{"name":"order","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts.each do |k, v|\n  expression = (@expression.sql(k.to_s, false)).asc\n  expression.direction = v\n  _order! << expression\nend\nself\n"}},{"id":"order(opts:Hash(Symbol,String|Symbol))-instance-method","html_id":"order(opts:Hash(Symbol,String|Symbol))-instance-method","name":"order","doc":"Allow to specify an order by hash with symbol keys.\n\n```\nContact.all.order({ :name => :asc })\n```","summary":"<p>Allow to specify an order by hash with symbol keys.</p>","abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Symbol, String | Symbol)"}],"args_string":"(opts : Hash(Symbol, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L37","def":{"name":"order","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Symbol, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts.each do |k, v|\n  expression = (@expression.c(k.to_s)).asc\n  expression.direction = v\n  _order! << expression\nend\nself\n"}},{"id":"order(opt:OrderItem)-instance-method","html_id":"order(opt:OrderItem)-instance-method","name":"order","doc":"Allow to specify an order by *OrderItem*.\n\n```\nContact.all.order(Contact._name.asc)\n```","summary":"<p>Allow to specify an order by <em>OrderItem</em>.</p>","abstract":false,"args":[{"name":"opt","doc":null,"default_value":"","external_name":"opt","restriction":"OrderItem"}],"args_string":"(opt : OrderItem)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L51","def":{"name":"order","args":[{"name":"opt","doc":null,"default_value":"","external_name":"opt","restriction":"OrderItem"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_order! << opt\nself\n"}},{"id":"order(opts:Array(OrderItem))-instance-method","html_id":"order(opts:Array(OrderItem))-instance-method","name":"order","doc":"Allow to specify an order by *OrderItem* array.\n\n```\nContact.all.order([Contact._name.asc])\n```","summary":"<p>Allow to specify an order by <em>OrderItem</em> array.</p>","abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Array(OrderItem)"}],"args_string":"(opts : Array(OrderItem))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L61","def":{"name":"order","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Array(OrderItem)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts.each do |opt|\n  _order! << opt\nend\nself\n"}},{"id":"order(opts:Hash(String|Symbol,String|Symbol))-instance-method","html_id":"order(opts:Hash(String|Symbol,String|Symbol))-instance-method","name":"order","doc":"TODO: it seems this doesn't work","summary":"<p><span class=\"flag orange\">TODO</span>  it seems this doesn't work</p>","abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String | Symbol, String | Symbol)"}],"args_string":"(opts : Hash(String | Symbol, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L67","def":{"name":"order","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String | Symbol, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts.each do |k, v|\n  key = k.is_a?(String) ? @expression.sql(k, false) : @expression.c(k.to_s)\n  _order![key] = v.to_s\nend\nself\n"}},{"id":"order(**opts)-instance-method","html_id":"order(**opts)-instance-method","name":"order","doc":"Allow to specify an order by splatted named tuple.\n\n```\nContact.all.order(name: :asc)\n```","summary":"<p>Allow to specify an order by splatted named tuple.</p>","abstract":false,"args":[],"args_string":"(**opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L9","def":{"name":"order","args":[],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts.each do |k, v|\n  expression = (@expression.c(k.to_s)).asc\n  expression.direction = v\n  _order! << expression\nend\nself\n"}},{"id":"order(&block)-instance-method","html_id":"order(&amp;block)-instance-method","name":"order","doc":"Allow to specify an order passing a block.\n\n```\nContact.all.order { _name.asc }\nContact.all.order { [_name.asc, _age.desc] }\n```","summary":"<p>Allow to specify an order passing a block.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L81","def":{"name":"order","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"order(with @expression yield)"}},{"id":"ordered?-instance-method","html_id":"ordered?-instance-method","name":"ordered?","doc":"Show whether order is specified.","summary":"<p>Show whether order is specified.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L125","def":{"name":"ordered?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"!(!_order?)"}},{"id":"reorder(opts:Hash(String,String|Symbol))-instance-method","html_id":"reorder(opts:Hash(String,String|Symbol))-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String, String | Symbol)"}],"args_string":"(opts : Hash(String, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L95","def":{"name":"reorder","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order = nil\norder(opts)\n"}},{"id":"reorder(opts:Hash(Symbol,String|Symbol))-instance-method","html_id":"reorder(opts:Hash(Symbol,String|Symbol))-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Symbol, String | Symbol)"}],"args_string":"(opts : Hash(Symbol, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L100","def":{"name":"reorder","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Symbol, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order = nil\norder(opts)\n"}},{"id":"reorder(opt:OrderItem)-instance-method","html_id":"reorder(opt:OrderItem)-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[{"name":"opt","doc":null,"default_value":"","external_name":"opt","restriction":"OrderItem"}],"args_string":"(opt : OrderItem)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L105","def":{"name":"reorder","args":[{"name":"opt","doc":null,"default_value":"","external_name":"opt","restriction":"OrderItem"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order = nil\norder(opt)\n"}},{"id":"reorder(opts:Array(OrderItem))-instance-method","html_id":"reorder(opts:Array(OrderItem))-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Array(OrderItem)"}],"args_string":"(opts : Array(OrderItem))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L110","def":{"name":"reorder","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Array(OrderItem)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order = nil\norder(opts)\n"}},{"id":"reorder(opts:Hash(String|Symbol,String|Symbol))-instance-method","html_id":"reorder(opts:Hash(String|Symbol,String|Symbol))-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String | Symbol, String | Symbol)"}],"args_string":"(opts : Hash(String | Symbol, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L115","def":{"name":"reorder","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String | Symbol, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order = nil\norder(opts)\n"}},{"id":"reorder(**opts)-instance-method","html_id":"reorder(**opts)-instance-method","name":"reorder","doc":"Replace an existing order with the newly specified.\n\n```\nContact.all.order(name: :asc).reorder(age: :desc) # ORDER BY contacts.age DESC\n```","summary":"<p>Replace an existing order with the newly specified.</p>","abstract":false,"args":[],"args_string":"(**opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L90","def":{"name":"reorder","args":[],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order = nil\norder(**opts)\n"}},{"id":"reorder(&block)-instance-method","html_id":"reorder(&amp;block)-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/ordering.cr#L120","def":{"name":"reorder","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"reorder(with @expression yield)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/OrderItem","path":"Jennifer/QueryBuilder/OrderItem.html","kind":"class","full_name":"Jennifer::QueryBuilder::OrderItem","name":"OrderItem","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/order_item.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(criteria:Criteria,direction,null_position=NullPosition::NONE)-class-method","html_id":"new(criteria:Criteria,direction,null_position=NullPosition::NONE)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"criteria","doc":null,"default_value":"","external_name":"criteria","restriction":"Criteria"},{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":""},{"name":"null_position","doc":null,"default_value":"NullPosition::NONE","external_name":"null_position","restriction":""}],"args_string":"(criteria : Criteria, direction, null_position = <span class=\"t\">NullPosition</span><span class=\"t\">::</span><span class=\"t\">NONE</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L19","def":{"name":"new","args":[{"name":"criteria","doc":null,"default_value":"","external_name":"criteria","restriction":"Criteria"},{"name":"direction","doc":null,"default_value":"","external_name":"direction","restriction":""},{"name":"null_position","doc":null,"default_value":"NullPosition::NONE","external_name":"null_position","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(criteria, direction, null_position)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"==(other:OrderItem)-instance-method","html_id":"==(other:OrderItem)-instance-method","name":"==","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"OrderItem"}],"args_string":"(other : OrderItem)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L31","def":{"name":"==","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"OrderItem"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"eql?(other)"}},{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L85","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@criteria.alias_tables(aliases)"}},{"id":"as_sql(sql_generator)-instance-method","html_id":"as_sql(sql_generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"sql_generator","doc":null,"default_value":"","external_name":"sql_generator","restriction":""}],"args_string":"(sql_generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L69","def":{"name":"as_sql","args":[{"name":"sql_generator","doc":null,"default_value":"","external_name":"sql_generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"sql_generator.order_expression(self)"}},{"id":"change_table(old_name,new_name)-instance-method","html_id":"change_table(old_name,new_name)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L89","def":{"name":"change_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@criteria.change_table(old_name, new_name)"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L23","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"criteria:Criteria-instance-method","html_id":"criteria:Criteria-instance-method","name":"criteria","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Criteria","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L19","def":{"name":"criteria","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Criteria","visibility":"Public","body":"@criteria"}},{"id":"direction:Direction-instance-method","html_id":"direction:Direction-instance-method","name":"direction","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Direction","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L19","def":{"name":"direction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Direction","visibility":"Public","body":"@direction"}},{"id":"direction=(value:Symbol|String)-instance-method","html_id":"direction=(value:Symbol|String)-instance-method","name":"direction=","doc":"Specify sorting direction by `String` or `Symbol` analogue.","summary":"<p>Specify sorting direction by <code>String</code> or <code>Symbol</code> analogue.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol | String"}],"args_string":"(value : Symbol | String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L42","def":{"name":"direction=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol | String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@direction = Direction.parse(value.to_s)"}},{"id":"eql?(other:OrderItem)-instance-method","html_id":"eql?(other:OrderItem)-instance-method","name":"eql?","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"OrderItem"}],"args_string":"(other : OrderItem)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L35","def":{"name":"eql?","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"OrderItem"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"((criteria.eql?(other.criteria)) && (direction == other.direction)) && (null_position == other.null_position)"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":"Returns whether node has an argument to be added to sql statement arguments.","summary":"<p>Returns whether node has an argument to be added to sql statement arguments.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L77","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@criteria.filterable?"}},{"id":"null_position:NullPosition-instance-method","html_id":"null_position:NullPosition-instance-method","name":"null_position","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : NullPosition","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L19","def":{"name":"null_position","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"NullPosition","visibility":"Public","body":"@null_position"}},{"id":"nulls_first-instance-method","html_id":"nulls_first-instance-method","name":"nulls_first","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L59","def":{"name":"nulls_first","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@null_position = NullPosition::FIRST\nself\n"}},{"id":"nulls_last-instance-method","html_id":"nulls_last-instance-method","name":"nulls_last","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L54","def":{"name":"nulls_last","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@null_position = NullPosition::LAST\nself\n"}},{"id":"nulls_unordered-instance-method","html_id":"nulls_unordered-instance-method","name":"nulls_unordered","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L64","def":{"name":"nulls_unordered","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@null_position = NullPosition::NONE\nself\n"}},{"id":"reverse-instance-method","html_id":"reverse-instance-method","name":"reverse","doc":"Reverse sorting order.\n\n`null` position isn't affected.","summary":"<p>Reverse sorting order.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L49","def":{"name":"reverse","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@direction = @direction.asc? ? Direction::DESC : Direction::ASC\nself\n"}},{"id":"set_relation(table,name)-instance-method","html_id":"set_relation(table,name)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L81","def":{"name":"set_relation","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@criteria.set_relation(table, name)"}},{"id":"sql_args:Array(DBAny)-instance-method","html_id":"sql_args:Array(DBAny)-instance-method","name":"sql_args","doc":"Returns array of SQL query arguments.","summary":"<p>Returns array of SQL query arguments.</p>","abstract":false,"args":[],"args_string":" : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L73","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"@criteria.sql_args"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/OrderItem/Direction","path":"Jennifer/QueryBuilder/OrderItem/Direction.html","kind":"enum","full_name":"Jennifer::QueryBuilder::OrderItem::Direction","name":"Direction","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"github.com/imdrasil/jennifer.cr/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/imdrasil/jennifer.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/order_item.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":true,"alias":false,"aliased":"","const":false,"constants":[{"id":"ASC","name":"ASC","value":"0","doc":null,"summary":null},{"id":"DESC","name":"DESC","value":"1","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/OrderItem","kind":"class","full_name":"Jennifer::QueryBuilder::OrderItem","name":"OrderItem"},"doc":"Sorting direction","summary":"<p>Sorting direction</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"asc?-instance-method","html_id":"asc?-instance-method","name":"asc?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L6","def":{"name":"asc?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == ASC"}},{"id":"desc?-instance-method","html_id":"desc?-instance-method","name":"desc?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L7","def":{"name":"desc?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == DESC"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/OrderItem/NullPosition","path":"Jennifer/QueryBuilder/OrderItem/NullPosition.html","kind":"enum","full_name":"Jennifer::QueryBuilder::OrderItem::NullPosition","name":"NullPosition","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"github.com/imdrasil/jennifer.cr/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/imdrasil/jennifer.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/order_item.cr","line_number":11,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":true,"alias":false,"aliased":"","const":false,"constants":[{"id":"NONE","name":"NONE","value":"0","doc":null,"summary":null},{"id":"LAST","name":"LAST","value":"1","doc":null,"summary":null},{"id":"FIRST","name":"FIRST","value":"2","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/OrderItem","kind":"class","full_name":"Jennifer::QueryBuilder::OrderItem","name":"OrderItem"},"doc":"Specifies position of `null` values in the ordered collection.","summary":"<p>Specifies position of <code>null</code> values in the ordered collection.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"first?-instance-method","html_id":"first?-instance-method","name":"first?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L14","def":{"name":"first?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == FIRST"}},{"id":"last?-instance-method","html_id":"last?-instance-method","name":"last?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L13","def":{"name":"last?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == LAST"}},{"id":"none?-instance-method","html_id":"none?-instance-method","name":"none?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/order_item.cr#L12","def":{"name":"none?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == NONE"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","path":"Jennifer/QueryBuilder/Query.html","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Executables","kind":"module","full_name":"Jennifer::QueryBuilder::Executables","name":"Executables"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Joining","kind":"module","full_name":"Jennifer::QueryBuilder::Joining","name":"Joining"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Ordering","kind":"module","full_name":"Jennifer::QueryBuilder::Ordering","name":"Ordering"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Aggregations","kind":"module","full_name":"Jennifer::QueryBuilder::Aggregations","name":"Aggregations"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/query.cr","line_number":8,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Aggregations","kind":"module","full_name":"Jennifer::QueryBuilder::Aggregations","name":"Aggregations"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Executables","kind":"module","full_name":"Jennifer::QueryBuilder::Executables","name":"Executables"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Joining","kind":"module","full_name":"Jennifer::QueryBuilder::Joining","name":"Joining"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Ordering","kind":"module","full_name":"Jennifer::QueryBuilder::Ordering","name":"Ordering"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"}],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/IModelQuery","kind":"class","full_name":"Jennifer::QueryBuilder::IModelQuery","name":"IModelQuery"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[{"id":"[](*opts)-class-method","html_id":"[](*opts)-class-method","name":"[]","doc":"Alias for `.build`.\n\n```\nJennifer::Query[\"contacts\"].where { _name == \"Jack London\" }\n```","summary":"<p>Alias for <code><a href=\"../../Jennifer/QueryBuilder/Query.html#build(*opts)-class-method\">.build</a></code>.</p>","abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L223","def":{"name":"[]","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"build(*opts)"}},{"id":"build(*opts)-class-method","html_id":"build(*opts)-class-method","name":"build","doc":"Builds query with related expression builder.\n\nShould be used instead of `.new`.\n\n```\nJennifer::Query.build(\"contacts\").where { _name == \"Jack London\" }\n```","summary":"<p>Builds query with related expression builder.</p>","abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L212","def":{"name":"build","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"q = new(*opts)\nq.expression_builder.query = q\nq\n"}},{"id":"null(table=&quot;&quot;)-class-method","html_id":"null(table=&amp;quot;&amp;quot;)-class-method","name":"null","doc":"Alias for `new(table).none`.","summary":"<p>Alias for <code>new(table)<a href=\"../../Jennifer/QueryBuilder/Query.html#none-instance-method\">.none</a></code>.</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"\"\"","external_name":"table","restriction":""}],"args_string":"(table = <span class=\"s\">&quot;&quot;</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L105","def":{"name":"null","args":[{"name":"table","doc":null,"default_value":"\"\"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(new(table)).none"}}],"constructors":[{"id":"new(table)-class-method","html_id":"new(table)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L70","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L63","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"_select_fields:Array(Criteria)-instance-method","html_id":"_select_fields:Array(Criteria)-instance-method","name":"_select_fields","doc":"Returns array of `Criteria` for `SELECT` query statement.","summary":"<p>Returns array of <code><a href=\"../../Jennifer/QueryBuilder/Criteria.html\">Criteria</a></code> for <code>SELECT</code> query statement.</p>","abstract":false,"args":[],"args_string":" : Array(Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L197","def":{"name":"_select_fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Criteria)","visibility":"Public","body":"if @select_fields.nil?\n  [@expression.star] of Criteria\nelse\n  @select_fields.as(Array(Criteria))\nend"}},{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L231","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"generator.select(self)"}},{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L227","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql(adapter.sql_generator)"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Creates a clone of the query.\n\n```\nquery = Jennifer::Query[\"contacts\"].where { _city == \"Kyiv\" }\nquery.clone.where { _name.like(\"John%\") }\nquery.clone.where { _name.like(\"Peter%\") }\n```","summary":"<p>Creates a clone of the query.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L152","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone.expression_builder.query = clone\nclone\n"}},{"id":"distinct-instance-method","html_id":"distinct-instance-method","name":"distinct","doc":"Specifies whether the records should be unique or not.","summary":"<p>Specifies whether the records should be unique or not.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L378","def":{"name":"distinct","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@distinct = true\nself\n"}},{"id":"do_nothing?:Bool-instance-method","html_id":"do_nothing?:Bool-instance-method","name":"do_nothing?","doc":"Returns whether query should be executed.","summary":"<p>Returns whether query should be executed.</p>","abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L110","def":{"name":"do_nothing?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@do_nothing"}},{"id":"empty?-instance-method","html_id":"empty?-instance-method","name":"empty?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L257","def":{"name":"empty?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(((@tree.nil? && @limit.nil?) && @offset.nil?) && @joins.nil?) && @order.nil?"}},{"id":"eql?(other:Query)-instance-method","html_id":"eql?(other:Query)-instance-method","name":"eql?","doc":"Compare current object with given comparing generated sql query and parameters.\n\nIs used for testing.","summary":"<p>Compare current object with given comparing generated sql query and parameters.</p>","abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Query"}],"args_string":"(other : Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L137","def":{"name":"eql?","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(sql_args == other.sql_args) && (as_sql == other.as_sql)"}},{"id":"eql?(other:Statement|LogicOperator)-instance-method","html_id":"eql?(other:Statement|LogicOperator)-instance-method","name":"eql?","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Statement | LogicOperator"}],"args_string":"(other : Statement | LogicOperator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L141","def":{"name":"eql?","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Statement | LogicOperator"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"false"}},{"id":"except(parts:Array(String))-instance-method","html_id":"except(parts:Array(String))-instance-method","name":"except","doc":"Creates a clone of the query without specified *parts*.\n\nAllowed values for *parts*:\n\n* select\n* raw_select\n* from\n* where\n* having\n* limit\n* offset\n* lock\n* distinct\n* order\n* join\n* union\n* group\n* none\n* cte\n\nAny eager loading isn't copied to a new query.\n\n```\nJennifer::Query[\"contacts\"].where { _city == \"Paris\" }.except([\"where\"])\n```","summary":"<p>Creates a clone of the query without specified <em>parts</em>.</p>","abstract":false,"args":[{"name":"parts","doc":null,"default_value":"","external_name":"parts","restriction":"Array(String)"}],"args_string":"(parts : Array(String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L184","def":{"name":"except","args":[{"name":"parts","doc":null,"default_value":"","external_name":"parts","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy_without(self, parts)\nclone.expression_builder.query = clone\nclone\n"}},{"id":"exec(&block)-instance-method","html_id":"exec(&amp;block)-instance-method","name":"exec","doc":"Allows executing a block in the query context.\n\n```\nJennifer::Query[\"contacts\"].exec { where { _name == \"Jack London\" } }\n```","summary":"<p>Allows executing a block in the query context.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L267","def":{"name":"exec","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"with self yield\nself\n"}},{"id":"expression_builder:Jennifer::QueryBuilder::ExpressionBuilder-instance-method","html_id":"expression_builder:Jennifer::QueryBuilder::ExpressionBuilder-instance-method","name":"expression_builder","doc":"Returns current query expression builder.","summary":"<p>Returns current query expression builder.</p>","abstract":false,"args":[],"args_string":" : Jennifer::QueryBuilder::ExpressionBuilder","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L192","def":{"name":"expression_builder","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@expression"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":"Returns whether node has an argument to be added to sql statement arguments.","summary":"<p>Returns whether node has an argument to be added to sql statement arguments.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L555","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(((((select_filterable_arguments? || (@from.is_a?(Query) && (@from.as(Query)).filterable?)) || (_joins? && _joins!.any?(&.filterable?))) || ((!@tree.nil?) && @tree.not_nil!.filterable?)) || ((!@having.nil?) && @having.not_nil!.filterable?)) || ((!@unions.nil?) && _unions!.any? do |__arg1|\n  __arg1[:query].filterable?\nend)) || ((!@ctes.nil?) && _ctes!.any?(&.filterable?))"}},{"id":"from(from:String|Query)-instance-method","html_id":"from(from:String|Query)-instance-method","name":"from","doc":"Specifies table *from* which the records will be fetched.\n\nCan accept other query.\n\n```\n# FROM contacts\nJennifer::Query[\"\"].from(\"contacts\") # FROM contacts\n# FROM (SELECT users.* WHERE users.active)\nJennifer::Query[\"contacts\"].from(Jennifer::Query[\"users\"].where { _active })\n```","summary":"<p>Specifies table <em>from</em> which the records will be fetched.</p>","abstract":false,"args":[{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":"String | Query"}],"args_string":"(from : String | Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L336","def":{"name":"from","args":[{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":"String | Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@from = from\nself\n"}},{"id":"group(column:Criteria)-instance-method","html_id":"group(column:Criteria)-instance-method","name":"group","doc":null,"summary":null,"abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"Criteria"}],"args_string":"(column : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L415","def":{"name":"group","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if column.is_a?(RawSql)\n  (column.as(RawSql)).without_brackets\nend\n_groups! << column\nself\n"}},{"id":"group(&block)-instance-method","html_id":"group(&amp;block)-instance-method","name":"group","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L421","def":{"name":"group","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"fields = with @expression yield\nfields.each do |f|\n  if f.is_a?(RawSql)\n    (f.as(RawSql)).without_brackets\n  end\nend\n_groups!.concat(fields)\nself\n"}},{"id":"group(*columns:Symbol)-instance-method","html_id":"group(*columns:Symbol)-instance-method","name":"group","doc":"Groups by given columns realizes them as current table's ones","summary":"<p>Groups by given columns realizes them as current table's ones</p>","abstract":false,"args":[{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":"Symbol"}],"args_string":"(*columns : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L410","def":{"name":"group","args":[{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":"Symbol"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"columns.each do |c|\n  _groups! << (@expression.c(c.to_s))\nend\nself\n"}},{"id":"group(*columns:String)-instance-method","html_id":"group(*columns:String)-instance-method","name":"group","doc":"Groups by given columns realizes them as are","summary":"<p>Groups by given columns realizes them as are</p>","abstract":false,"args":[{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":"String"}],"args_string":"(*columns : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L404","def":{"name":"group","args":[{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"columns.each do |c|\n  _groups! << (@expression.sql(c, false))\nend\nself\n"}},{"id":"group(column:Symbol)-instance-method","html_id":"group(column:Symbol)-instance-method","name":"group","doc":"Groups by given *column* realizing it as a current table's field.\n\n```\nJennifer::Query[\"contacts\"].group(:name)\n```","summary":"<p>Groups by given <em>column</em> realizing it as a current table's field.</p>","abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"Symbol"}],"args_string":"(column : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L398","def":{"name":"group","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_groups! << (@expression.c(column.to_s))\nself\n"}},{"id":"group(column:String)-instance-method","html_id":"group(column:String)-instance-method","name":"group","doc":"Groups by given column realizes it as is.\n\n```\nJennifer::Query[\"contacts\"].group(\"first_name || last_name\")\n```","summary":"<p>Groups by given column realizes it as is.</p>","abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"String"}],"args_string":"(column : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L388","def":{"name":"group","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_groups! << (@expression.sql(column, false))\nself\n"}},{"id":"having(&block)-instance-method","html_id":"having(&amp;block)-instance-method","name":"having","doc":"Allows to specify a HAVING clause.\n\nNote that you cant use HAVING without also specifying a GROUP clause.","summary":"<p>Allows to specify a HAVING clause.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L354","def":{"name":"having","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"other = with @expression yield\nif @having.nil?\n  @having = other\nelse\n  @having = @having.not_nil! & other\nend\nself\n"}},{"id":"limit(count:Int32)-instance-method","html_id":"limit(count:Int32)-instance-method","name":"limit","doc":"Specifies a limit for the number of records to retrieve.\n\n```\nJennifer::Query[\"contacts\"].limit(10)\n```","summary":"<p>Specifies a limit for the number of records to retrieve.</p>","abstract":false,"args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"Int32"}],"args_string":"(count : Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L494","def":{"name":"limit","args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@limit = count\nself\n"}},{"id":"lock(type:String|Bool=true)-instance-method","html_id":"lock(type:String|Bool=true)-instance-method","name":"lock","doc":"Specifies locking settings.\n\n`true` is default value. Also string declaration can be provide.\n\nAlso `SKIP LOCKED` construction can be used with manual mode:\n\n```\nQueue.all.where do\n  _id == g(Queue.all.limit(1).lock(\"FOR UPDATE SKIP LOCKED\"))\nend.delete\n```","summary":"<p>Specifies locking settings.</p>","abstract":false,"args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"args_string":"(type : String | Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L520","def":{"name":"lock","args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lock = type\nself\n"}},{"id":"merge(other:self)-instance-method","html_id":"merge(other:self)-instance-method","name":"merge","doc":"Merges other query into current one.\n\nThis method merges the following query components:\n\n- `JOIN`s\n- `GROUP BY`s\n- `ORDER`s\n- `CTE`s\n- `HAVING`s\n- `WHERE`s\n- do nothing\n\n```\n# returns contacts that have main address\naddresses_condition = Jennifer::Query[\"addresses\"].where { _main }\nJennifer::Query[\"contacts\"].join(\"addresses\") { _contact_id == _contacts__id }\n  .merge(addresses_condition)\n```\n\nThis method provides mechanism to reuse some predefined queries for involved tables.\nIt makes real sense when is used in the scope of `ModelQuery` and models.\n\n```\nContacts.all.relation(:addresses).merge(Address.all.main)\n```","summary":"<p>Merges other query into current one.</p>","abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"self"}],"args_string":"(other : <span class=\"k\">self</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L469","def":{"name":"merge","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"self"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% for segment in [\"order\", \"joins\", \"groups\", \"ctes\"] of ::String %}\n          _{{ segment.id }}!.concat(other._{{ segment.id }}!) if other._{{ segment.id }}?\n        {% end %}\nif other._having?\n  @having = if _having?\n    _having! & other._having!\n  else\n    other._having!\n  end\nend\nif other.tree\n  set_tree(other.tree)\nend\n@do_nothing = @do_nothing || other.do_nothing?\nself\n"}},{"id":"none-instance-method","html_id":"none-instance-method","name":"none","doc":"Returns a chainable query with zero records.\n\n```\nJennifer::Query[\"contacts\"].where { _name == \"Jack London\" }.none\n```","summary":"<p>Returns a chainable query with zero records.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L346","def":{"name":"none","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@do_nothing = true\nself\n"}},{"id":"offset(count:Int32)-instance-method","html_id":"offset(count:Int32)-instance-method","name":"offset","doc":"Specifies the number of rows to skip before returning rows.\n\n```\nJennifer::Query[\"contacts\"].offset(10)\n```","summary":"<p>Specifies the number of rows to skip before returning rows.</p>","abstract":false,"args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"Int32"}],"args_string":"(count : Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L504","def":{"name":"offset","args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@offset = count\nself\n"}},{"id":"select(&block)-instance-method","html_id":"select(&amp;block)-instance-method","name":"select","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L317","def":{"name":"select","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"fields = with @expression yield\nfields.each do |f|\n  if f.is_a?(RawSql)\n    (f.as(RawSql)).without_brackets\n  end\nend\n_select_fields!.concat(fields)\nself\n"}},{"id":"select(*fields:Symbol)-instance-method","html_id":"select(*fields:Symbol)-instance-method","name":"select","doc":"Specifies column names to be used in SELECT clause.","summary":"<p>Specifies column names to be used in SELECT clause.</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Symbol"}],"args_string":"(*fields : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L307","def":{"name":"select","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Symbol"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"fields.each do |f|\n  _select_fields! << (@expression.c(f.to_s))\nend\nself\n"}},{"id":"select(fields:Array(Criteria))-instance-method","html_id":"select(fields:Array(Criteria))-instance-method","name":"select","doc":null,"summary":null,"abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Criteria)"}],"args_string":"(fields : Array(Criteria))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L312","def":{"name":"select","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Criteria)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"fields.each do |f|\n  self.select(f)\nend\nself\n"}},{"id":"select(field:Criteria)-instance-method","html_id":"select(field:Criteria)-instance-method","name":"select","doc":"Specifies criterion to be used in SELECT clause.\n\n```\nJennifer::Query[\"contacts\"].exec { select(expression._name.alias(\"first_name\")) }.results\n```","summary":"<p>Specifies criterion to be used in SELECT clause.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Criteria"}],"args_string":"(field : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L300","def":{"name":"select","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_select_fields! << field\nif field.is_a?(RawSql)\n  (field.as(RawSql)).without_brackets\nend\nself\n"}},{"id":"select(raw_sql:String)-instance-method","html_id":"select(raw_sql:String)-instance-method","name":"select","doc":"Specifies raw SELECT clause value.\n\n```\nJennifer::Query[\"contacts\"].select(\"name as first_name, age as count\").results\n```","summary":"<p>Specifies raw SELECT clause value.</p>","abstract":false,"args":[{"name":"raw_sql","doc":null,"default_value":"","external_name":"raw_sql","restriction":"String"}],"args_string":"(raw_sql : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L290","def":{"name":"select","args":[{"name":"raw_sql","doc":null,"default_value":"","external_name":"raw_sql","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@raw_select = raw_sql\nself\n"}},{"id":"set_tree(other:SQLNode)-instance-method","html_id":"set_tree(other:SQLNode)-instance-method","name":"set_tree","doc":"Joins given *other* condition statement to the main condition tree.","summary":"<p>Joins given <em>other</em> condition statement to the main condition tree.</p>","abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"SQLNode"}],"args_string":"(other : SQLNode)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L546","def":{"name":"set_tree","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"SQLNode"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"set_tree(other.to_condition)"}},{"id":"set_tree(other:LogicOperator|Condition)-instance-method","html_id":"set_tree(other:LogicOperator|Condition)-instance-method","name":"set_tree","doc":"Joins given *other* condition statement to the main condition tree.","summary":"<p>Joins given <em>other</em> condition statement to the main condition tree.</p>","abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator | Condition"}],"args_string":"(other : LogicOperator | Condition)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L530","def":{"name":"set_tree","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator | Condition"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tree = if @tree\n  (@tree.as(Condition | LogicOperator)) & other\nelse\n  other\nend\nself\n"}},{"id":"set_tree(other:Nil)-instance-method","html_id":"set_tree(other:Nil)-instance-method","name":"set_tree","doc":"Joins given *other* condition statement to the main condition tree.","summary":"<p>Joins given <em>other</em> condition statement to the main condition tree.</p>","abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Nil"}],"args_string":"(other : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L551","def":{"name":"set_tree","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(ArgumentError.new(\"Condition tree can't be blank.\"))"}},{"id":"set_tree(other:Query)-instance-method","html_id":"set_tree(other:Query)-instance-method","name":"set_tree","doc":"Joins given *other* condition statement to the main condition tree.","summary":"<p>Joins given <em>other</em> condition statement to the main condition tree.</p>","abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Query"}],"args_string":"(other : Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L541","def":{"name":"set_tree","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"set_tree(other.tree)"}},{"id":"sql_args:Array(DBAny)-instance-method","html_id":"sql_args:Array(DBAny)-instance-method","name":"sql_args","doc":"Returns array of SQL query arguments.","summary":"<p>Returns array of SQL query arguments.</p>","abstract":false,"args":[],"args_string":" : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L235","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"args = [] of DBAny\nif select_filterable_arguments?\n  args.concat(select_filterable_arguments)\nend\nif @from.is_a?(Query)\n  args.concat((@from.as(Query)).sql_args)\nend\nif @joins\n  _joins!.each do |join|\n    args.concat(join.sql_args)\n  end\nend\nif @tree\n  args.concat(@tree.not_nil!.sql_args)\nend\nif @having\n  args.concat(@having.not_nil!.sql_args)\nend\nif @ctes\n  _ctes!.each do |cte|\n    args.concat(cte.sql_args)\n  end\nend\nif @unions\n  _unions!.each do |union_tuple|\n    args.concat(union_tuple[:query].sql_args)\n  end\nend\nargs\n"}},{"id":"table:String-instance-method","html_id":"table:String-instance-method","name":"table","doc":"Table name to be specified in `FROM` clause.","summary":"<p>Table name to be specified in <code>FROM</code> clause.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L44","def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table"}},{"id":"to_s-instance-method","html_id":"to_s-instance-method","name":"to_s","doc":"Returns a string representation of this object.\n\nDescendants must usually **not** override this method. Instead,\nthey must override `to_s(io)`, which must append to the given\nIO object.","summary":"<p>Returns a string representation of this object.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L525","def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql"}},{"id":"tree:Condition|LogicOperator|Nil-instance-method","html_id":"tree:Condition|LogicOperator|Nil-instance-method","name":"tree","doc":"Query filter to be rendered in `WHERE` clause.","summary":"<p>Query filter to be rendered in <code>WHERE</code> clause.</p>","abstract":false,"args":[],"args_string":" : Condition | LogicOperator | Nil","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L63","def":{"name":"tree","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Condition | LogicOperator | ::Nil","visibility":"Public","body":"@tree"}},{"id":"tree=(tree:Condition|LogicOperator|Nil)-instance-method","html_id":"tree=(tree:Condition|LogicOperator|Nil)-instance-method","name":"tree=","doc":"Query filter to be rendered in `WHERE` clause.","summary":"<p>Query filter to be rendered in <code>WHERE</code> clause.</p>","abstract":false,"args":[{"name":"tree","doc":null,"default_value":"","external_name":"tree","restriction":"Condition | LogicOperator | ::Nil"}],"args_string":"(tree : Condition | LogicOperator | Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L67","def":{"name":"tree=","args":[{"name":"tree","doc":null,"default_value":"","external_name":"tree","restriction":"Condition | LogicOperator | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tree = tree"}},{"id":"union(query,all:Bool=false)-instance-method","html_id":"union(query,all:Bool=false)-instance-method","name":"union","doc":"Adds *query* to `UNION`.\n\nTo use `UNION ALL` pass `true` as a second argument.\n\n```\nJennifer::Query[\"contacts\"].union(Jennifer::Query[\"users\"])\nJennifer::Query[\"contacts\"].union(Jennifer::Query[\"users\"], true)\n```","summary":"<p>Adds <em>query</em> to <code>UNION</code>.</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"all","doc":null,"default_value":"false","external_name":"all","restriction":"Bool"}],"args_string":"(query, all : Bool = <span class=\"n\">false</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L372","def":{"name":"union","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"all","doc":null,"default_value":"false","external_name":"all","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_unions! << {query: query, all: all}\nself\n"}},{"id":"where(&block)-instance-method","html_id":"where(&amp;block)-instance-method","name":"where","doc":"Mutates query applying all modification returned from the block.\n\nYields the expression builder and block is also executed with expression builder context.\n\n```\nUser.where { _email == \"example@test.com\" }\n```","summary":"<p>Mutates query applying all modification returned from the block.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L279","def":{"name":"where","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"other = (with @expression yield @expression)\nset_tree(other)\nself\n"}},{"id":"with(name:String|Symbol,query:self,recursive:Bool=false)-instance-method","html_id":"with(name:String|Symbol,query:self,recursive:Bool=false)-instance-method","name":"with","doc":"Adds CTE (common table expression) to the query.\n\nYou can define multiple CTE for one query.\n\n```\n# WITH RECURSIVE test AS (SELECT users.* FROM users )\nJennifer::Query[\"contacts\"].with(\"test\", Jennifer::Query[\"users\"])\n\n# WITH RECURSIVE test AS (SELECT users.* FROM users )\nJennifer::Query[\"contacts\"].with(\"test\", Jennifer::Query[\"users\"], true)\n```","summary":"<p>Adds CTE (common table expression) to the query.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"self"},{"name":"recursive","doc":null,"default_value":"false","external_name":"recursive","restriction":"Bool"}],"args_string":"(name : String | Symbol, query : <span class=\"k\">self</span>, recursive : Bool = <span class=\"n\">false</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr#L439","def":{"name":"with","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"self"},{"name":"recursive","doc":null,"default_value":"false","external_name":"recursive","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ctes! << (CommonTableExpression.new(name.to_s, query, recursive))\nself\n"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query/UnionType","path":"Jennifer/QueryBuilder/Query/UnionType.html","kind":"alias","full_name":"Jennifer::QueryBuilder::Query::UnionType","name":"UnionType","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/query.cr","line_number":15,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"NamedTuple(query: Jennifer::QueryBuilder::Query, all: Bool)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/QueryObject","path":"Jennifer/QueryBuilder/QueryObject.html","kind":"class","full_name":"Jennifer::QueryBuilder::QueryObject","name":"QueryObject","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/query_object.cr","line_number":33,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query_object.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Base abstract class for query object.\n\n```\nclass OrderedArticlesQuery < Jennifer::QueryBuilder::QueryObject\n  SORTABLE_FIELDS = %w(by_date by_title by_author)\n\n  private getter field : Sting, order : String\n\n  def initialize(relation, field, order)\n    super(relation)\n    @order = order == \"asc\" ? order : \"desc\"\n    @field = SORTABLE_FIELDS.includes?(field) ? field : \"by_date\"\n  end\n\n  def call\n    relation.order { article_order }\n  end\n\n  private def article_order\n    Article.c(field).tap { |article_order| article_order.direction = order }\n  end\nend\n\nclass Article < Jennifer::Model::Base\n  # ...\n  scope :ordered, OrderedArticlesQuery\nend\n\nArticle.all.ordered(\"by_date\", \"desc\")\n```","summary":"<p>Base abstract class for query object.</p>","class_methods":[],"constructors":[{"id":"new(relation)-class-method","html_id":"new(relation)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"args_string":"(relation)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query_object.cr#L36","def":{"name":"new","args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"call-instance-method","html_id":"call-instance-method","name":"call","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query_object.cr#L39","def":{"name":"call","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"relation:Jennifer::QueryBuilder::IModelQuery-instance-method","html_id":"relation:Jennifer::QueryBuilder::IModelQuery-instance-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Jennifer::QueryBuilder::IModelQuery","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/query_object.cr#L36","def":{"name":"relation","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Jennifer::QueryBuilder::IModelQuery","visibility":"Public","body":"@relation"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RawSql","path":"Jennifer/QueryBuilder/RawSql.html","kind":"class","full_name":"Jennifer::QueryBuilder::RawSql","name":"RawSql","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/raw_sql.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(field,args:Array=[]ofDBAny,use_brackets=true)-class-method","html_id":"new(field,args:Array=[]ofDBAny,use_brackets=true)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":""}],"args_string":"(field, args : Array = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DBAny</span>, use_brackets = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr#L10","def":{"name":"new","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(field, args, use_brackets)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(field,use_brackets)-class-method","html_id":"new(field,use_brackets)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"use_brackets","doc":null,"default_value":"","external_name":"use_brackets","restriction":""}],"args_string":"(field, use_brackets)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr#L16","def":{"name":"new","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"use_brackets","doc":null,"default_value":"","external_name":"use_brackets","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(field, use_brackets)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr#L29","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr#L8","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":"Returns whether node has an argument to be added to sql statement arguments.","summary":"<p>Returns whether node has an argument to be added to sql statement arguments.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr#L39","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@params.any?"}},{"id":"identifier-instance-method","html_id":"identifier-instance-method","name":"identifier","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr#L31","def":{"name":"identifier","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@use_brackets ? (\"(\" + @field) + \")\" : @field"}},{"id":"sql_args:Array(DBAny)-instance-method","html_id":"sql_args:Array(DBAny)-instance-method","name":"sql_args","doc":"Returns array of SQL query arguments.","summary":"<p>Returns array of SQL query arguments.</p>","abstract":false,"args":[],"args_string":" : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr#L35","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"@params"}},{"id":"with_brackets-instance-method","html_id":"with_brackets-instance-method","name":"with_brackets","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr#L21","def":{"name":"with_brackets","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@use_brackets = true"}},{"id":"without_brackets-instance-method","html_id":"without_brackets-instance-method","name":"without_brackets","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/raw_sql.cr#L25","def":{"name":"without_brackets","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@use_brackets = false"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RelationTree","path":"Jennifer/QueryBuilder/RelationTree.html","kind":"class","full_name":"Jennifer::QueryBuilder::RelationTree","name":"RelationTree","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/relation_tree.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/MultiQueryRelationTree","kind":"class","full_name":"Jennifer::QueryBuilder::MultiQueryRelationTree","name":"MultiQueryRelationTree"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/NestedRelationTree","kind":"class","full_name":"Jennifer::QueryBuilder::NestedRelationTree","name":"NestedRelationTree"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(klass:Model::Resource.class)-class-method","html_id":"new(klass:Model::Resource.class)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"Model::Resource.class"}],"args_string":"(klass : <span class=\"t\">Model</span><span class=\"t\">::</span><span class=\"t\">Resource</span>.<span class=\"k\">class</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr#L13","def":{"name":"new","args":[{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"Model::Resource.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(klass)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"add_deep_relation(query,rel,nested_rel:Symbol,context=@klass,index:Int32=0)-instance-method","html_id":"add_deep_relation(query,rel,nested_rel:Symbol,context=@klass,index:Int32=0)-instance-method","name":"add_deep_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"nested_rel","doc":null,"default_value":"","external_name":"nested_rel","restriction":"Symbol"},{"name":"context","doc":null,"default_value":"@klass","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"0","external_name":"index","restriction":"Int32"}],"args_string":"(query, rel, nested_rel : Symbol, context = @klass, index : Int32 = <span class=\"n\">0</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr#L34","def":{"name":"add_deep_relation","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"nested_rel","doc":null,"default_value":"","external_name":"nested_rel","restriction":"Symbol"},{"name":"context","doc":null,"default_value":"@klass","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"0","external_name":"index","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"existing_relation_index = find_index_or_add_relation(index, rel.to_s, context, query)\nexisting_relation = @bucket[existing_relation_index][1]\nadd_relation(query, nested_rel, existing_relation.model_class, existing_relation_index + 1)\n"}},{"id":"add_deep_relation(query,rel,nested_rels:Array,context=@klass,index:Int32=0)-instance-method","html_id":"add_deep_relation(query,rel,nested_rels:Array,context=@klass,index:Int32=0)-instance-method","name":"add_deep_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"nested_rels","doc":null,"default_value":"","external_name":"nested_rels","restriction":"Array"},{"name":"context","doc":null,"default_value":"@klass","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"0","external_name":"index","restriction":"Int32"}],"args_string":"(query, rel, nested_rels : Array, context = @klass, index : Int32 = <span class=\"n\">0</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr#L41","def":{"name":"add_deep_relation","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"nested_rels","doc":null,"default_value":"","external_name":"nested_rels","restriction":"Array"},{"name":"context","doc":null,"default_value":"@klass","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"0","external_name":"index","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"nested_rels.each do |nested_rel|\n  add_deep_relation(query, rel, nested_rel, context, index)\nend"}},{"id":"add_deep_relation(query,rel,nested_rels:Hash|NamedTuple,context=@klass,index:Int32=0)-instance-method","html_id":"add_deep_relation(query,rel,nested_rels:Hash|NamedTuple,context=@klass,index:Int32=0)-instance-method","name":"add_deep_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"nested_rels","doc":null,"default_value":"","external_name":"nested_rels","restriction":"Hash | NamedTuple"},{"name":"context","doc":null,"default_value":"@klass","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"0","external_name":"index","restriction":"Int32"}],"args_string":"(query, rel, nested_rels : Hash | NamedTuple, context = @klass, index : Int32 = <span class=\"n\">0</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr#L45","def":{"name":"add_deep_relation","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"nested_rels","doc":null,"default_value":"","external_name":"nested_rels","restriction":"Hash | NamedTuple"},{"name":"context","doc":null,"default_value":"@klass","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"0","external_name":"index","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new_index = find_index_or_add_relation(index, rel.to_s, context, query)\nnew_context = (context.relation(rel.to_s)).model_class\nnested_rels.each do |name, nested_rel|\n  add_deep_relation(query, name, nested_rel, new_context, new_index + 1)\nend\n"}},{"id":"add_relation(query,rel,context,index:Int32)-instance-method","html_id":"add_relation(query,rel,context,index:Int32)-instance-method","name":"add_relation","doc":null,"summary":null,"abstract":true,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"context","doc":null,"default_value":"","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int32"}],"args_string":"(query, rel, context, index : Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr#L32","def":{"name":"add_relation","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""},{"name":"context","doc":null,"default_value":"","external_name":"context","restriction":""},{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"add_relation(rel)-instance-method","html_id":"add_relation(rel)-instance-method","name":"add_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""}],"args_string":"(rel)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr#L28","def":{"name":"add_relation","args":[{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@bucket << {0, @klass.relation(rel.to_s)}"}},{"id":"bucket:Array(Element)-instance-method","html_id":"bucket:Array(Element)-instance-method","name":"bucket","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Element)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr#L13","def":{"name":"bucket","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Element)","visibility":"Public","body":"@bucket"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr#L17","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RelationTree/Element","path":"Jennifer/QueryBuilder/RelationTree/Element.html","kind":"alias","full_name":"Jennifer::QueryBuilder::RelationTree::Element","name":"Element","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/relation_tree.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/relation_tree.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"Tuple(Int32, Jennifer::Relation::IRelation)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RelationTree","kind":"class","full_name":"Jennifer::QueryBuilder::RelationTree","name":"RelationTree"},"doc":"First tuple component present index of parent context; 0 value present top level collection, any positive value *i* -\n*i*-th relation in ~bucket~ (with 1-based indexing).","summary":"<p>First tuple component present index of parent context; 0 value present top level collection, any positive value <em>i</em> - <em>i</em>-th relation in ~bucket~ (with 1-based indexing).</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RoundFunction","path":"Jennifer/QueryBuilder/RoundFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::RoundFunction","name":"RoundFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":357,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the rounded value of given first argument to a specific number of decimal places.\n\nBy default, it rounds to the closes integer.\n\n```\nJennifer::Query[\"users\"].where { round(_rating) > 4 }\nJennifer::Query[\"users\"].where { round(_rating, 1) > 4.5 }\n```","summary":"<p>Returns the rounded value of given first argument to a specific number of decimal places.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L368","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |io|\n  io << \"ROUND(\"\n  io << (operand_sql(operands[0], generator))\n  if operands.size > 1\n    (io << \", \") << (operand_sql(operands[1], generator))\n  end\n  io << ')'\nend"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","path":"Jennifer/QueryBuilder/SQLNode.html","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/sql_node.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/sql_node.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"}],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/All","kind":"class","full_name":"Jennifer::QueryBuilder::All","name":"All"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Any","kind":"class","full_name":"Jennifer::QueryBuilder::Any","name":"Any"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Cast","kind":"class","full_name":"Jennifer::QueryBuilder::Cast","name":"Cast"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Grouping","kind":"class","full_name":"Jennifer::QueryBuilder::Grouping","name":"Grouping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/OrderItem","kind":"class","full_name":"Jennifer::QueryBuilder::OrderItem","name":"OrderItem"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Values","kind":"class","full_name":"Jennifer::QueryBuilder::Values","name":"Values"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/sql_node.cr#L22","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":"Converts node to SQL using default adaptor.","summary":"<p>Converts node to SQL using default adaptor.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/sql_node.cr#L15","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql(Adapter.default_adapter.sql_generator)"}},{"id":"change_table(old_name,new_name)-instance-method","html_id":"change_table(old_name,new_name)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/sql_node.cr#L25","def":{"name":"change_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"eql?(other)-instance-method","html_id":"eql?(other)-instance-method","name":"eql?","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"args_string":"(other)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/sql_node.cr#L10","def":{"name":"eql?","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"false"}},{"id":"set_relation(table,name)-instance-method","html_id":"set_relation(table,name)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/sql_node.cr#L19","def":{"name":"set_relation","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"to_condition-instance-method","html_id":"to_condition-instance-method","name":"to_condition","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/sql_node.cr#L6","def":{"name":"to_condition","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Star","path":"Jennifer/QueryBuilder/Star.html","kind":"class","full_name":"Jennifer::QueryBuilder::Star","name":"Star","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/star.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/star.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Presents SQL star identifier.\n\nAka `users.*`.","summary":"<p>Presents SQL star identifier.</p>","class_methods":[],"constructors":[{"id":"new(table:String)-class-method","html_id":"new(table:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"}],"args_string":"(table : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/star.cr#L7","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","path":"Jennifer/QueryBuilder/Statement.html","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/statement.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/statement.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Condition","kind":"class","full_name":"Jennifer::QueryBuilder::Condition","name":"Condition"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(sql_generator)-instance-method","html_id":"as_sql(sql_generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":true,"args":[{"name":"sql_generator","doc":null,"default_value":"","external_name":"sql_generator","restriction":""}],"args_string":"(sql_generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/statement.cr#L5","def":{"name":"as_sql","args":[{"name":"sql_generator","doc":null,"default_value":"","external_name":"sql_generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":"Returns whether node has an argument to be added to sql statement arguments.","summary":"<p>Returns whether node has an argument to be added to sql statement arguments.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/statement.cr#L11","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"sql_args:Array(DBAny)-instance-method","html_id":"sql_args:Array(DBAny)-instance-method","name":"sql_args","doc":"Returns array of SQL query arguments.","summary":"<p>Returns array of SQL query arguments.</p>","abstract":true,"args":[],"args_string":" : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/statement.cr#L8","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SumFunction","path":"Jennifer/QueryBuilder/SumFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::SumFunction","name":"SumFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":331,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Returns the sum of given field values.\n\n```\nJennifer::Query[\"users\"].select { [_gender, sum(_age).alias(\"human_age\")] }.group(:gender)\n```","summary":"<p>Returns the sum of given field values.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L339","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"SUM(#{operand_sql(operands[0], generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/UpperFunction","path":"Jennifer/QueryBuilder/UpperFunction.html","kind":"class","full_name":"Jennifer::QueryBuilder::UpperFunction","name":"UpperFunction","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Function","kind":"class","full_name":"Jennifer::QueryBuilder::Function","name":"Function"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/function.cr","line_number":189,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Converts the argument to upper-case.\n\n```\nJennifer::Query[\"users\"].where { upper(_name) == \"JOHN\" }\n```","summary":"<p>Converts the argument to upper-case.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql(generator)-instance-method","html_id":"as_sql(generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"args_string":"(generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/function.cr#L197","def":{"name":"as_sql","args":[{"name":"generator","doc":null,"default_value":"","external_name":"generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"UPPER(#{operand_sql(operands[0], generator)})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Values","path":"Jennifer/QueryBuilder/Values.html","kind":"class","full_name":"Jennifer::QueryBuilder::Values","name":"Values","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Statement","kind":"module","full_name":"Jennifer::QueryBuilder::Statement","name":"Statement"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/values.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/values.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":"Present reference to the `VALUES` related to the row with duplicate key during upsert.","summary":"<p>Present reference to the <code>VALUES</code> related to the row with duplicate key during upsert.</p>","class_methods":[],"constructors":[{"id":"new(field:Symbol)-class-method","html_id":"new(field:Symbol)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"}],"args_string":"(field : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/values.cr#L4","def":{"name":"new","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(field)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"*(value:SQLNode|DBAny)-instance-method","html_id":"*(value:SQLNode|DBAny)-instance-method","name":"*","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"SQLNode | DBAny"}],"args_string":"(value : SQLNode | DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/values.cr#L9","def":{"name":"*","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"SQLNode | DBAny"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :*, value)"}},{"id":"+(value:SQLNode|DBAny)-instance-method","html_id":"+(value:SQLNode|DBAny)-instance-method","name":"+","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"SQLNode | DBAny"}],"args_string":"(value : SQLNode | DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/values.cr#L9","def":{"name":"+","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"SQLNode | DBAny"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :+, value)"}},{"id":"-(value:SQLNode|DBAny)-instance-method","html_id":"-(value:SQLNode|DBAny)-instance-method","name":"-","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"SQLNode | DBAny"}],"args_string":"(value : SQLNode | DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/values.cr#L9","def":{"name":"-","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"SQLNode | DBAny"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :-, value)"}},{"id":"/(value:SQLNode|DBAny)-instance-method","html_id":"/(value:SQLNode|DBAny)-instance-method","name":"/","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"SQLNode | DBAny"}],"args_string":"(value : SQLNode | DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/values.cr#L9","def":{"name":"/","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"SQLNode | DBAny"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :/, value)"}},{"id":"as_sql(sql_generator)-instance-method","html_id":"as_sql(sql_generator)-instance-method","name":"as_sql","doc":"Converts node to SQL using *sql_generator* SQLGenerator.","summary":"<p>Converts node to SQL using <em>sql_generator</em> SQLGenerator.</p>","abstract":false,"args":[{"name":"sql_generator","doc":null,"default_value":"","external_name":"sql_generator","restriction":""}],"args_string":"(sql_generator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/values.cr#L15","def":{"name":"as_sql","args":[{"name":"sql_generator","doc":null,"default_value":"","external_name":"sql_generator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"sql_generator.values_expression(@field)"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/values.cr#L7","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"filterable?-instance-method","html_id":"filterable?-instance-method","name":"filterable?","doc":"Returns whether node has an argument to be added to sql statement arguments.","summary":"<p>Returns whether node has an argument to be added to sql statement arguments.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/values.cr#L23","def":{"name":"filterable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"false"}},{"id":"sql_args:Array(DBAny)-instance-method","html_id":"sql_args:Array(DBAny)-instance-method","name":"sql_args","doc":"Returns array of SQL query arguments.","summary":"<p>Returns array of SQL query arguments.</p>","abstract":false,"args":[],"args_string":" : Array(DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/values.cr#L19","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DBAny)","visibility":"Public","body":"[] of DBAny"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Xor","path":"Jennifer/QueryBuilder/Xor.html","kind":"class","full_name":"Jennifer::QueryBuilder::Xor","name":"Xor","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":109,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"OPERATOR","name":"OPERATOR","value":"\"XOR\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L112","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nif clone.responds_to?(:finalize)\n  GC.add_finalizer(clone)\nend\nclone\n"}},{"id":"operator-instance-method","html_id":"operator-instance-method","name":"operator","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/query_builder/logic_operator.cr#L114","def":{"name":"operator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"OPERATOR"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Record","path":"Jennifer/Record.html","kind":"struct","full_name":"Jennifer::Record","name":"Record","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/imdrasil/jennifer.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/record.cr","line_number":10,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"General data structure for the raw data retrieved for the DB.\n\nDynamically generates getters using `.method_missing`. If class `T` is passed\nas an argument - return value is automatically casted to it.\n\n```\nJennifer::Query[\"users\"].first.name(String)\n```","summary":"<p>General data structure for the raw data retrieved for the DB.</p>","class_methods":[],"constructors":[{"id":"new(attributes:Hash(String,DBAny))-class-method","html_id":"new(attributes:Hash(String,DBAny))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"attributes","doc":null,"default_value":"","external_name":"attributes","restriction":"Hash(String, DBAny)"}],"args_string":"(attributes : Hash(String, DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr#L13","def":{"name":"new","args":[{"name":"attributes","doc":null,"default_value":"","external_name":"attributes","restriction":"Hash(String, DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(attributes)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(result_set:DB::ResultSet)-class-method","html_id":"new(result_set:DB::ResultSet)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"result_set","doc":null,"default_value":"","external_name":"result_set","restriction":"DB::ResultSet"}],"args_string":"(result_set : DB::ResultSet)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr#L16","def":{"name":"new","args":[{"name":"result_set","doc":null,"default_value":"","external_name":"result_set","restriction":"DB::ResultSet"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(result_set)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr#L21","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](name:Symbol|String)-instance-method","html_id":"[](name:Symbol|String)-instance-method","name":"[]","doc":"Alias for #attribute.","summary":"<p>Alias for #attribute.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol | String"}],"args_string":"(name : Symbol | String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr#L31","def":{"name":"[]","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol | String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"attribute(name)"}},{"id":"attribute(name:String|Symbol,type:T.class):TforallT-instance-method","html_id":"attribute(name:String|Symbol,type:T.class):TforallT-instance-method","name":"attribute","doc":"Returns casted value of attribute *name* to the type *type*.","summary":"<p>Returns casted value of attribute <em>name</em> to the type <em>type</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"T.class"}],"args_string":"(name : String | Symbol, type : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : T forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr#L48","def":{"name":"attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"value = attribute(name)\nif value.is_a?(T)\n  value\nelse\n  raise(BaseException.new(\"Field \\\"#{name}\\\" (#{value.class}) is not of type #{T}.\"))\nend\n"}},{"id":"attribute(name:String)-instance-method","html_id":"attribute(name:String)-instance-method","name":"attribute","doc":"Returns value by attribute *name*.","summary":"<p>Returns value by attribute <em>name</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr#L36","def":{"name":"attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  @attributes[name]\nrescue e : KeyError\n  raise(BaseException.new(\"Column '#{name}' is missing\"))\nend"}},{"id":"attribute(name:Symbol)-instance-method","html_id":"attribute(name:Symbol)-instance-method","name":"attribute","doc":"Returns value by attribute *name*.","summary":"<p>Returns value by attribute <em>name</em>.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr#L43","def":{"name":"attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"attribute(name.to_s)"}},{"id":"attributes:Hash(String,Array(Char)|Array(Float32)|Array(Float64)|Array(Int16)|Array(Int32)|Array(Int64)|Array(String)|Bool|Char|Float32|Float64|Int16|Int32|Int64|Int8|JSON::Any|PG::Geo::Box|PG::Geo::Circle|PG::Geo::Line|PG::Geo::LineSegment|PG::Geo::Path|PG::Geo::Point|PG::Geo::Polygon|PG::Numeric|Slice(UInt8)|String|Time|Time::Span|UInt32|Nil)-instance-method","html_id":"attributes:Hash(String,Array(Char)|Array(Float32)|Array(Float64)|Array(Int16)|Array(Int32)|Array(Int64)|Array(String)|Bool|Char|Float32|Float64|Int16|Int32|Int64|Int8|JSON::Any|PG::Geo::Box|PG::Geo::Circle|PG::Geo::Line|PG::Geo::LineSegment|PG::Geo::Path|PG::Geo::Point|PG::Geo::Polygon|PG::Numeric|Slice(UInt8)|String|Time|Time::Span|UInt32|Nil)-instance-method","name":"attributes","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | Time::Span | UInt32 | Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr#L11","def":{"name":"attributes","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@attributes"}},{"id":"fields-instance-method","html_id":"fields-instance-method","name":"fields","doc":"Returns names of fields.","summary":"<p>Returns names of fields.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr#L26","def":{"name":"fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@attributes.keys"}}],"macros":[{"id":"method_missing(call)-macro","html_id":"method_missing(call)-macro","name":"method_missing","doc":null,"summary":null,"abstract":false,"args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"args_string":"(call)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/adapter/record.cr#L57","def":{"name":"method_missing","args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      \n{% if call.args.size == 0 %}\n        def {{ call.name.id }}\n          @attributes[{{ call.name.id.stringify }}]\n        end\n      {% else %}{% if call.args.size == 1 %}\n        def {{ call.name.id }}(type : T.class) : T forall T\n          attribute({{ call.name.stringify }}, T)\n        end\n      {% end %}{% end %}\n\n    \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordExists","path":"Jennifer/RecordExists.html","kind":"class","full_name":"Jennifer::RecordExists","name":"RecordExists","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":119,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(record,relation)-class-method","html_id":"new(record,relation)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"args_string":"(record, relation)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L120","def":{"name":"new","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(record, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordInvalid","path":"Jennifer/RecordInvalid.html","kind":"class","full_name":"Jennifer::RecordInvalid","name":"RecordInvalid","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":104,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(errors:Array(String))-class-method","html_id":"new(errors:Array(String))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"errors","doc":null,"default_value":"","external_name":"errors","restriction":"Array(String)"}],"args_string":"(errors : Array(String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L107","def":{"name":"new","args":[{"name":"errors","doc":null,"default_value":"","external_name":"errors","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(errors)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"errors:Array(String)-instance-method","html_id":"errors:Array(String)-instance-method","name":"errors","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L105","def":{"name":"errors","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@errors"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordNotFound","path":"Jennifer/RecordNotFound.html","kind":"class","full_name":"Jennifer::RecordNotFound","name":"RecordNotFound","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":78,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"Presents case when record is expected but is not found.","summary":"<p>Presents case when record is expected but is not found.</p>","class_methods":[{"id":"from_query(query,adapter)-class-method","html_id":"from_query(query,adapter)-class-method","name":"from_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""}],"args_string":"(query, adapter)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L83","def":{"name":"from_query","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new(BadQuery.format_query(*adapter.parse_query(adapter.sql_generator.select(query), query.sql_args)))"}}],"constructors":[{"id":"new(query)-class-method","html_id":"new(query)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L79","def":{"name":"new","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","path":"Jennifer/Relation.html","kind":"module","full_name":"Jennifer::Relation","name":"Relation","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/relation/base.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr"},{"filename":"jennifer/relation/belongs_to.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr"},{"filename":"jennifer/relation/has_many.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/has_many.cr"},{"filename":"jennifer/relation/has_one.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/has_one.cr"},{"filename":"jennifer/relation/many_to_many.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr"},{"filename":"jennifer/relation/polymorphic_belongs_to.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr"},{"filename":"jennifer/relation/polymorphic_has_many.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr"},{"filename":"jennifer/relation/polymorphic_has_one.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","path":"Jennifer/Relation/Base.html","kind":"class","full_name":"Jennifer::Relation::Base(T, Q)","name":"Base","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/base.cr","line_number":24,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/BelongsTo","kind":"class","full_name":"Jennifer::Relation::BelongsTo(T, Q)","name":"BelongsTo"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/HasMany","kind":"class","full_name":"Jennifer::Relation::HasMany(T, Q)","name":"HasMany"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/HasOne","kind":"class","full_name":"Jennifer::Relation::HasOne(T, Q)","name":"HasOne"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/ManyToMany","kind":"class","full_name":"Jennifer::Relation::ManyToMany(T, Q)","name":"ManyToMany"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/PolymorphicHasMany","kind":"class","full_name":"Jennifer::Relation::PolymorphicHasMany(T, Q)","name":"PolymorphicHasMany"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/PolymorphicHasOne","kind":"class","full_name":"Jennifer::Relation::PolymorphicHasOne(T, Q)","name":"PolymorphicHasOne"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":"Base generic relation class.\n\n*T* - related model\n*Q* - parent model","summary":"<p>Base generic relation class.</p>","class_methods":[],"constructors":[{"id":"new(name,foreign:String|Symbol?,primary:String|Symbol?,query:QueryBuilder::Query,through=nil)-class-method","html_id":"new(name,foreign:String|Symbol?,primary:String|Symbol?,query:QueryBuilder::Query,through=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":"String | Symbol | ::Nil"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"String | Symbol | ::Nil"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"},{"name":"through","doc":null,"default_value":"nil","external_name":"through","restriction":""}],"args_string":"(name, foreign : String | Symbol?, primary : String | Symbol?, query : QueryBuilder::Query, through = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L29","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":"String | Symbol | ::Nil"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"String | Symbol | ::Nil"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"},{"name":"through","doc":null,"default_value":"nil","external_name":"through","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = Base(T, Q).allocate\n_.initialize(name, foreign, primary, query, through)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"adapter-instance-method","html_id":"adapter-instance-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L40","def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Q.adapter"}},{"id":"condition_clause(ids:Array)-instance-method","html_id":"condition_clause(ids:Array)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"args_string":"(ids : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L54","def":{"name":"condition_clause","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tree = (T.c(foreign_field, @name)).in(ids)\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"condition_clause(id)-instance-method","html_id":"condition_clause(id)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L49","def":{"name":"condition_clause","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tree = (T.c(foreign_field, @name)) == id\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"condition_clause-instance-method","html_id":"condition_clause-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L44","def":{"name":"condition_clause","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tree = (T.c(foreign_field, @name)) == (Q.c(primary_field))\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"foreign:String?-instance-method","html_id":"foreign:String?-instance-method","name":"foreign","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L28","def":{"name":"foreign","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@foreign"}},{"id":"foreign_field-instance-method","html_id":"foreign_field-instance-method","name":"foreign_field","doc":"Foreign key on *T* model side","summary":"<p>Foreign key on <em>T</em> model side</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L96","def":{"name":"foreign_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@foreign || (@foreign = Q.foreign_key_name)"}},{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L80","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"rel.set_attribute(foreign_field, obj.attribute(primary_field))\nrel.save!\nrel\n"}},{"id":"insert(obj:Q,rel:Hash(Symbol,Jennifer::DBAny))-instance-method","html_id":"insert(obj:Q,rel:Hash(Symbol,Jennifer::DBAny))-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(Symbol, Jennifer::DBAny)"}],"args_string":"(obj : Q, rel : Hash(Symbol, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L76","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(Symbol, Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"insert(obj, Ifrit.stringify_hash(rel, Jennifer::DBAny))"}},{"id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","html_id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"args_string":"(obj : Q, rel : Hash(String, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L71","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"rel[foreign_field] = obj.attribute(primary_field)\nT.create!(rel)\n"}},{"id":"join_condition(query,type)-instance-method","html_id":"join_condition(query,type)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(query, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L59","def":{"name":"join_condition","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\nquery.join(model_class, type: type, relation: @name) do\n  this.condition_clause.not_nil!\nend\n"}},{"id":"join_query:QueryBuilder::Condition|QueryBuilder::LogicOperator|Nil-instance-method","html_id":"join_query:QueryBuilder::Condition|QueryBuilder::LogicOperator|Nil-instance-method","name":"join_query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : QueryBuilder::Condition | QueryBuilder::LogicOperator | Nil","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L27","def":{"name":"join_query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"QueryBuilder::Condition | QueryBuilder::LogicOperator | ::Nil","visibility":"Public","body":"@join_query"}},{"id":"model_class-instance-method","html_id":"model_class-instance-method","name":"model_class","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L36","def":{"name":"model_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"T"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L29","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@name"}},{"id":"preload_relation(collection,out_collection:Array(Model::Resource),pk_repo)-instance-method","html_id":"preload_relation(collection,out_collection:Array(Model::Resource),pk_repo)-instance-method","name":"preload_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""},{"name":"out_collection","doc":null,"default_value":"","external_name":"out_collection","restriction":"Array(Model::Resource)"},{"name":"pk_repo","doc":null,"default_value":"","external_name":"pk_repo","restriction":""}],"args_string":"(collection, out_collection : Array(Model::Resource), pk_repo)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L104","def":{"name":"preload_relation","args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""},{"name":"out_collection","doc":null,"default_value":"","external_name":"out_collection","restriction":"Array(Model::Resource)"},{"name":"pk_repo","doc":null,"default_value":"","external_name":"pk_repo","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if collection.empty?\n  return\nend\nif pk_repo.has_key?(primary_field)\nelse\n  array = pk_repo[primary_field] = Array(DBAny).new(collection.size)\n  collection.each do |e|\n    array << (e.attribute(primary_field))\n  end\nend\nnew_collection = (query(pk_repo[primary_field])).db_results\nname = self.name\nif new_collection.empty?\n  collection.each(&.relation_retrieved(name))\nelse\n  primary_fields = pk_repo[primary_field]\n  collection.each_with_index do |mod, i|\n    pv = primary_fields[i]\n    new_collection.each do |hash|\n      if hash[foreign_field] == pv\n        out_collection << (mod.append_relation(name, hash))\n      end\n    end\n  end\nend\n"}},{"id":"primary:String?-instance-method","html_id":"primary:String?-instance-method","name":"primary","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L28","def":{"name":"primary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@primary"}},{"id":"primary_field-instance-method","html_id":"primary_field-instance-method","name":"primary_field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L100","def":{"name":"primary_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@primary || (@primary = Q.primary_field_name)"}},{"id":"query(primary_value)-instance-method","html_id":"query(primary_value)-instance-method","name":"query","doc":"Returns query for given primary field values","summary":"<p>Returns query for given primary field values</p>","abstract":false,"args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"args_string":"(primary_value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L66","def":{"name":"query","args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"condition = condition_clause(primary_value)\nT.where do\n  condition\nend\n"}},{"id":"remove(obj:Q,rel:T)-instance-method","html_id":"remove(obj:Q,rel:T)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L86","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (rel.attribute(foreign_field)) == (obj.attribute(primary_field))\n  rel.update_column(foreign_field, nil)\nend\nrel\n"}},{"id":"table_name-instance-method","html_id":"table_name-instance-method","name":"table_name","doc":"TODO: remove this method - it isn't used anywhere","summary":"<p><span class=\"flag orange\">TODO</span>  remove this method - it isn't used anywhere</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L91","def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"T.table_name"}},{"id":"through:Symbol?-instance-method","html_id":"through:Symbol?-instance-method","name":"through","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbol?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L28","def":{"name":"through","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol | ::Nil","visibility":"Public","body":"@through"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/BelongsTo","path":"Jennifer/Relation/BelongsTo.html","kind":"class","full_name":"Jennifer::Relation::BelongsTo(T, Q)","name":"BelongsTo","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/belongs_to.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(*opts)-class-method","html_id":"new(*opts)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L4","def":{"name":"new","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = BelongsTo(T, Q).allocate\n_.initialize(*opts)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"condition_clause(ids:Array)-instance-method","html_id":"condition_clause(ids:Array)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"args_string":"(ids : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L20","def":{"name":"condition_clause","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_tree = (T.c(primary_field)).in(ids)\n@join_query ? _tree & @join_query.not_nil!.clone : _tree\n"}},{"id":"condition_clause(id)-instance-method","html_id":"condition_clause(id)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L15","def":{"name":"condition_clause","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_tree = (T.c(primary_field)) == id\n@join_query ? _tree & @join_query.not_nil!.clone : _tree\n"}},{"id":"condition_clause-instance-method","html_id":"condition_clause-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L8","def":{"name":"condition_clause","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_foreign = foreign_field\n_primary = primary_field\ntree = (T.c(_primary, @name)) == (Q.c(_foreign))\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"foreign_field-instance-method","html_id":"foreign_field-instance-method","name":"foreign_field","doc":"Foreign key on *T* model side","summary":"<p>Foreign key on <em>T</em> model side</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L66","def":{"name":"foreign_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@foreign || (@foreign = T.foreign_key_name)"}},{"id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","html_id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"args_string":"(obj : Q, rel : Hash(String, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L44","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"main_obj = T.create!(rel)\nobj.update_column(foreign_field, main_obj.attribute(primary_field))\nmain_obj\n"}},{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L50","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if obj.attribute(foreign_field).nil?\nelse\n  raise(BaseException.new(\"Object already belongs to another object\"))\nend\nobj.set_attribute(foreign_field, rel.attribute(primary_field))\nif rel.new_record?\n  rel.save!\nend\nrel\n"}},{"id":"join_condition(query,type)-instance-method","html_id":"join_condition(query,type)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(query, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L25","def":{"name":"join_condition","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\nquery.join(model_class, type: type, relation: @name) do\n  this.condition_clause.not_nil!\nend\n"}},{"id":"join_condition(query,type,&block)-instance-method","html_id":"join_condition(query,type,&amp;block)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(query, type, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L32","def":{"name":"join_condition","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\nquery.join(model_class, type: type, relation: @name) do |eb|\n  this.condition_clause.not_nil! & (yield eb)\nend\n"}},{"id":"preload_relation(collection,out_collection:Array(Model::Resource),pk_repo)-instance-method","html_id":"preload_relation(collection,out_collection:Array(Model::Resource),pk_repo)-instance-method","name":"preload_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""},{"name":"out_collection","doc":null,"default_value":"","external_name":"out_collection","restriction":"Array(Model::Resource)"},{"name":"pk_repo","doc":null,"default_value":"","external_name":"pk_repo","restriction":""}],"args_string":"(collection, out_collection : Array(Model::Resource), pk_repo)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L74","def":{"name":"preload_relation","args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""},{"name":"out_collection","doc":null,"default_value":"","external_name":"out_collection","restriction":"Array(Model::Resource)"},{"name":"pk_repo","doc":null,"default_value":"","external_name":"pk_repo","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if collection.empty?\n  return\nend\n_primary = primary_field\n_foreign = foreign_field\nif pk_repo.has_key?(_foreign)\nelse\n  array = pk_repo[_foreign] = Array(DBAny).new(collection.size)\n  collection.each do |e|\n    array << (e.attribute(_foreign))\n  end\nend\nnew_collection = (query(pk_repo[_foreign])).db_results\nname = self.name\nif new_collection.empty?\n  collection.each(&.relation_retrieved(name))\nelse\n  foreign_fields = pk_repo[_foreign]\n  collection.each_with_index do |mod, i|\n    fk = foreign_fields[i]\n    new_collection.each do |hash|\n      if hash[_primary] == fk\n        out_collection << (mod.append_relation(name, hash))\n      end\n    end\n  end\nend\n"}},{"id":"primary_field-instance-method","html_id":"primary_field-instance-method","name":"primary_field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L70","def":{"name":"primary_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@primary || (@primary = T.primary_field_name)"}},{"id":"query(primary_value)-instance-method","html_id":"query(primary_value)-instance-method","name":"query","doc":"Returns query for given primary field values","summary":"<p>Returns query for given primary field values</p>","abstract":false,"args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"args_string":"(primary_value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L39","def":{"name":"query","args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"condition = condition_clause(primary_value)\nT.where do\n  condition\nend\n"}},{"id":"remove(obj:Q,rel:T)-instance-method","html_id":"remove(obj:Q,rel:T)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L57","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (obj.attribute(foreign_field)) == (rel.attribute(primary_field))\n  obj.update_column(foreign_field, nil)\nend\nrel\n"}},{"id":"remove(obj:Q)-instance-method","html_id":"remove(obj:Q)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"}],"args_string":"(obj : Q)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/belongs_to.cr#L62","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"obj.update_column(foreign_field, nil)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/HasMany","path":"Jennifer/Relation/HasMany.html","kind":"class","full_name":"Jennifer::Relation::HasMany(T, Q)","name":"HasMany","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/has_many.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/has_many.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(*opts)-class-method","html_id":"new(*opts)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/has_many.cr#L4","def":{"name":"new","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = HasMany(T, Q).allocate\n_.initialize(*opts)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/has_many.cr#L8","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"rel.set_attribute(foreign_field, obj.attribute(primary_field))\nrel.save!\nrel\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/HasOne","path":"Jennifer/Relation/HasOne.html","kind":"class","full_name":"Jennifer::Relation::HasOne(T, Q)","name":"HasOne","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/has_one.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/has_one.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(*opts)-class-method","html_id":"new(*opts)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/has_one.cr#L4","def":{"name":"new","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = HasOne(T, Q).allocate\n_.initialize(*opts)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/has_one.cr#L8","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if obj.attribute(foreign_field).nil?\nelse\n  raise(BaseException.new(\"Object already has one another object\"))\nend\nsuper(obj, rel)\n"}},{"id":"remove(obj:Q)-instance-method","html_id":"remove(obj:Q)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"}],"args_string":"(obj : Q)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/has_one.cr#L13","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\n_pf = obj.attribute(primary_field)\nT.all.where do\n  (T.c(this.foreign_field)) == _pf\nend.update({foreign_field => nil})\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IPolymorphicBelongsTo","path":"Jennifer/Relation/IPolymorphicBelongsTo.html","kind":"class","full_name":"Jennifer::Relation::IPolymorphicBelongsTo","name":"IPolymorphicBelongsTo","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/polymorphic_belongs_to.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"DEFAULT_PRIMARY_FIELD","name":"DEFAULT_PRIMARY_FIELD","value":"\"id\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,foreign:String|Symbol?,primary:String|Symbol?,foreign_type:String|Symbol?)-class-method","html_id":"new(name,foreign:String|Symbol?,primary:String|Symbol?,foreign_type:String|Symbol?)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":"String | Symbol | ::Nil"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"String | Symbol | ::Nil"},{"name":"foreign_type","doc":null,"default_value":"","external_name":"foreign_type","restriction":"String | Symbol | ::Nil"}],"args_string":"(name, foreign : String | Symbol?, primary : String | Symbol?, foreign_type : String | Symbol?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L9","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":"String | Symbol | ::Nil"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"String | Symbol | ::Nil"},{"name":"foreign_type","doc":null,"default_value":"","external_name":"foreign_type","restriction":"String | Symbol | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, foreign, primary, foreign_type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"build(opts:Hash,polymorphic_type)-instance-method","html_id":"build(opts:Hash,polymorphic_type)-instance-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash"},{"name":"polymorphic_type","doc":null,"default_value":"","external_name":"polymorphic_type","restriction":""}],"args_string":"(opts : Hash, polymorphic_type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L60","def":{"name":"build","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash"},{"name":"polymorphic_type","doc":null,"default_value":"","external_name":"polymorphic_type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(related_model(polymorphic_type)).new(opts, false)"}},{"id":"condition_clause(id,polymorphic_type:String?)-instance-method","html_id":"condition_clause(id,polymorphic_type:String?)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"polymorphic_type","doc":null,"default_value":"","external_name":"polymorphic_type","restriction":"String | ::Nil"}],"args_string":"(id, polymorphic_type : String?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L18","def":{"name":"condition_clause","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"polymorphic_type","doc":null,"default_value":"","external_name":"polymorphic_type","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"model = related_model(polymorphic_type)\n_tree = (model.c(primary_field, @name)) == id\n_tree\n"}},{"id":"condition_clause(id)-instance-method","html_id":"condition_clause(id)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L156","def":{"name":"condition_clause","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(\"condition_clause\", self))"}},{"id":"condition_clause-instance-method","html_id":"condition_clause-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L152","def":{"name":"condition_clause","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(\"condition_clause\", self))"}},{"id":"foreign:String-instance-method","html_id":"foreign:String-instance-method","name":"foreign","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L8","def":{"name":"foreign","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@foreign"}},{"id":"foreign_field:String-instance-method","html_id":"foreign_field:String-instance-method","name":"foreign_field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L33","def":{"name":"foreign_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@foreign"}},{"id":"foreign_type:String-instance-method","html_id":"foreign_type:String-instance-method","name":"foreign_type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L9","def":{"name":"foreign_type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@foreign_type"}},{"id":"insert(obj:Model::Base,rel:Model::Base)-instance-method","html_id":"insert(obj:Model::Base,rel:Model::Base)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Model::Base"}],"args_string":"(obj : Model::Base, rel : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L49","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if obj.attribute(foreign_field).nil?\nelse\n  raise(::Jennifer::BaseException.new(\"Object already belongs to another object\"))\nend\nobj.update_columns({foreign_field => rel.attribute(primary_field), foreign_type => rel.class.to_s})\nif rel.new_record?\n  rel.save!\nend\nrel\n"}},{"id":"insert(obj:Model::Base,rel:Hash(String,Jennifer::DBAny))-instance-method","html_id":"insert(obj:Model::Base,rel:Hash(String,Jennifer::DBAny))-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"args_string":"(obj : Model::Base, rel : Hash(String, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L41","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if rel.has_key?(foreign_type)\nelse\n  raise(::Jennifer::BaseException.new(\"Given hash has no #{foreign_type} field.\"))\nend\ntype_field = rel[foreign_type].as(String)\nmain_obj = create!(rel, type_field)\nobj.update_columns({foreign_field => main_obj.attribute(primary_field), foreign_type => type_field})\nmain_obj\n"}},{"id":"join_condition(query,type)-instance-method","html_id":"join_condition(query,type)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(query, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L160","def":{"name":"join_condition","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(::Jennifer::BaseException.new(\"Polymorphic belongs_to relation can't be dynamically joined.\"))"}},{"id":"join_query-instance-method","html_id":"join_query-instance-method","name":"join_query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L144","def":{"name":"join_query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(\"join_query\", self))"}},{"id":"model_class-instance-method","html_id":"model_class-instance-method","name":"model_class","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L140","def":{"name":"model_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(\"model_class\", self))"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L9","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@name"}},{"id":"preload_relation(collection,out_collection:Array(Jennifer::Model::Resource),pk_repo)-instance-method","html_id":"preload_relation(collection,out_collection:Array(Jennifer::Model::Resource),pk_repo)-instance-method","name":"preload_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""},{"name":"out_collection","doc":null,"default_value":"","external_name":"out_collection","restriction":"Array(::Jennifer::Model::Resource)"},{"name":"pk_repo","doc":null,"default_value":"","external_name":"pk_repo","restriction":""}],"args_string":"(collection, out_collection : Array(Jennifer::Model::Resource), pk_repo)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L164","def":{"name":"preload_relation","args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""},{"name":"out_collection","doc":null,"default_value":"","external_name":"out_collection","restriction":"Array(::Jennifer::Model::Resource)"},{"name":"pk_repo","doc":null,"default_value":"","external_name":"pk_repo","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(::Jennifer::BaseException.new(\"Polymorphic belongs_to relation can't be preloaded.\"))"}},{"id":"primary:String-instance-method","html_id":"primary:String-instance-method","name":"primary","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L8","def":{"name":"primary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@primary"}},{"id":"primary_field:String-instance-method","html_id":"primary_field:String-instance-method","name":"primary_field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L37","def":{"name":"primary_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@primary"}},{"id":"query(id,polymorphic_type:String)-instance-method","html_id":"query(id,polymorphic_type:String)-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"polymorphic_type","doc":null,"default_value":"","external_name":"polymorphic_type","restriction":"String"}],"args_string":"(id, polymorphic_type : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L28","def":{"name":"query","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"polymorphic_type","doc":null,"default_value":"","external_name":"polymorphic_type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"condition = condition_clause(id, polymorphic_type)\nQuery[table_name(polymorphic_type)].where do\n  condition\nend\n"}},{"id":"query(id,polymorphic_type:Nil)-instance-method","html_id":"query(id,polymorphic_type:Nil)-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"polymorphic_type","doc":null,"default_value":"","external_name":"polymorphic_type","restriction":"Nil"}],"args_string":"(id, polymorphic_type : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L24","def":{"name":"query","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"polymorphic_type","doc":null,"default_value":"","external_name":"polymorphic_type","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Query.null"}},{"id":"query(a)-instance-method","html_id":"query(a)-instance-method","name":"query","doc":"Returns query for given primary field values","summary":"<p>Returns query for given primary field values</p>","abstract":false,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"args_string":"(a)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L148","def":{"name":"query","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(\"query\", self))"}},{"id":"remove(obj:Model::Base)-instance-method","html_id":"remove(obj:Model::Base)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L56","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"obj.update_columns({foreign_field => nil, foreign_type => nil})"}},{"id":"table_name-instance-method","html_id":"table_name-instance-method","name":"table_name","doc":"TODO: remove this method - it isn't used anywhere","summary":"<p><span class=\"flag orange\">TODO</span>  remove this method - it isn't used anywhere</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L136","def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(\"table_name\", self))"}}],"macros":[{"id":"define_relation_class(name,klass,related_class,types,request)-macro","html_id":"define_relation_class(name,klass,related_class,types,request)-macro","name":"define_relation_class","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"related_class","doc":null,"default_value":"","external_name":"related_class","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""},{"name":"request","doc":null,"default_value":"","external_name":"request","restriction":""}],"args_string":"(name, klass, related_class, types, request)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_belongs_to.cr#L72","def":{"name":"define_relation_class","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"related_class","doc":null,"default_value":"","external_name":"related_class","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""},{"name":"request","doc":null,"default_value":"","external_name":"request","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n# :nodoc:\n\n        class \n{{ name.id.camelcase }}\nRelation < ::Jennifer::Relation::IPolymorphicBelongsTo\n          private def related_model(type : String)\n            case type\n            \n{% for type in types %}\n            when {{ type }}.to_s\n              {{ type }}\n            {% end %}\n\n            \nelse\n              raise ::Jennifer::BaseException.new(\"Unknown polymorphic type #{type}\")\n            \nend\n          \nend\n\n          \n{% if request %}\n            def query(id, polymorphic_type : String)\n              condition = condition_clause(id, polymorphic_type)\n              Query[table_name(polymorphic_type)].where { condition }.exec {{ request }}\n            end\n          {% end %}\n\n\n          def create!(opts : Hash, polymorphic_type)\n            case polymorphic_type\n            \n{% for type in types %}\n            when {{ type }}.to_s\n              {{ type }}.create!(opts)\n            {% end %}\n\n            \nelse\n              raise ::Jennifer::BaseException.new(\"Unknown polymorphic type #{polymorphic_type}\")\n            \nend\n          \nend\n\n          def load(foreign_field, polymorphic_type : String?)\n            return if foreign_field.nil? || polymorphic_type.nil?\n            condition = condition_clause(foreign_field, polymorphic_type)\n            case polymorphic_type\n            \n{% for type in types %}\n            when {{ type }}.to_s\n              {{ type }}.where { condition }.first\n            {% end %}\n\n            \nelse\n              raise ::Jennifer::BaseException.new(\"Unknown polymorphic type #{polymorphic_type}\")\n            \nend\n          \nend\n\n          \n# Destroys related to *obj* object. Is called on `dependent: :destroy`.\n\n          def destroy(obj : \n{{ klass }}\n)\n            foreign_field = obj.attribute(foreign)\n            polymorphic_type = obj.attribute(foreign_type).as(String?)\n            return if foreign_field.nil? || polymorphic_type.nil?\n\n            condition = condition_clause(foreign_field, polymorphic_type)\n            case polymorphic_type\n            \n{% for type in types %}\n            when {{ type }}.to_s\n              {{ type }}.where { condition }.destroy\n            {% end %}\n\n            \nelse\n              raise ::Jennifer::BaseException.new(\"Unknown polymorphic type #{polymorphic_type}\")\n            \nend\n          \nend\n        \nend\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","path":"Jennifer/Relation/IRelation.html","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/base.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base(T, Q)","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IPolymorphicBelongsTo","kind":"class","full_name":"Jennifer::Relation::IPolymorphicBelongsTo","name":"IPolymorphicBelongsTo"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":"Relation interface.","summary":"<p>Relation interface.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"condition_clause(a)-instance-method","html_id":"condition_clause(a)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":true,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"args_string":"(a)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L11","def":{"name":"condition_clause","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"condition_clause-instance-method","html_id":"condition_clause-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L10","def":{"name":"condition_clause","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"insert(a,b)-instance-method","html_id":"insert(a,b)-instance-method","name":"insert","doc":null,"summary":null,"abstract":true,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"args_string":"(a, b)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L15","def":{"name":"insert","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"join_condition(a,b)-instance-method","html_id":"join_condition(a,b)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":true,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"args_string":"(a, b)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L12","def":{"name":"join_condition","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"join_query-instance-method","html_id":"join_query-instance-method","name":"join_query","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L9","def":{"name":"join_query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"model_class-instance-method","html_id":"model_class-instance-method","name":"model_class","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L8","def":{"name":"model_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"name-instance-method","html_id":"name-instance-method","name":"name","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L5","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"preload_relation(collection,out_collection,pk_repo)-instance-method","html_id":"preload_relation(collection,out_collection,pk_repo)-instance-method","name":"preload_relation","doc":"Preloads relation into *collection* from *out_collection* depending on keys from *pk_repo*.","summary":"<p>Preloads relation into <em>collection</em> from <em>out_collection</em> depending on keys from <em>pk_repo</em>.</p>","abstract":true,"args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""},{"name":"out_collection","doc":null,"default_value":"","external_name":"out_collection","restriction":""},{"name":"pk_repo","doc":null,"default_value":"","external_name":"pk_repo","restriction":""}],"args_string":"(collection, out_collection, pk_repo)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L17","def":{"name":"preload_relation","args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""},{"name":"out_collection","doc":null,"default_value":"","external_name":"out_collection","restriction":""},{"name":"pk_repo","doc":null,"default_value":"","external_name":"pk_repo","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"query(primary_value)-instance-method","html_id":"query(primary_value)-instance-method","name":"query","doc":"Returns query for given primary field values","summary":"<p>Returns query for given primary field values</p>","abstract":true,"args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"args_string":"(primary_value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L14","def":{"name":"query","args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"table_name-instance-method","html_id":"table_name-instance-method","name":"table_name","doc":"TODO: remove this method - it isn't used anywhere","summary":"<p><span class=\"flag orange\">TODO</span>  remove this method - it isn't used anywhere</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/base.cr#L7","def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/ManyToMany","path":"Jennifer/Relation/ManyToMany.html","kind":"class","full_name":"Jennifer::Relation::ManyToMany(T, Q)","name":"ManyToMany","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/many_to_many.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,foreign:String|Symbol?,primary:String|Symbol?,query,join_table=nil,_join_foreign=nil)-class-method","html_id":"new(name,foreign:String|Symbol?,primary:String|Symbol?,query,join_table=nil,_join_foreign=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":"String | Symbol | ::Nil"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"String | Symbol | ::Nil"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"_join_foreign","doc":null,"default_value":"nil","external_name":"_join_foreign","restriction":""}],"args_string":"(name, foreign : String | Symbol?, primary : String | Symbol?, query, join_table = <span class=\"n\">nil</span>, _join_foreign = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr#L6","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":"String | Symbol | ::Nil"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"String | Symbol | ::Nil"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"_join_foreign","doc":null,"default_value":"nil","external_name":"_join_foreign","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = ManyToMany(T, Q).allocate\n_.initialize(name, foreign, primary, query, join_table, _join_foreign)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"association_foreign:String?-instance-method","html_id":"association_foreign:String?-instance-method","name":"association_foreign","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr#L6","def":{"name":"association_foreign","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@association_foreign"}},{"id":"association_foreign_key-instance-method","html_id":"association_foreign_key-instance-method","name":"association_foreign_key","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr#L71","def":{"name":"association_foreign_key","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@association_foreign || (Inflector.foreign_key(T.to_s))"}},{"id":"insert(obj:Q,rel:Hash)-instance-method","html_id":"insert(obj:Q,rel:Hash)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash"}],"args_string":"(obj : Q, rel : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr#L18","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new_obj = T.create!(rel)\nadd_join_table_record(obj, new_obj)\nnew_obj\n"}},{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr#L24","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if rel.new_record?\n  rel.save!\nend\nadd_join_table_record(obj, rel)\nrel\n"}},{"id":"join_condition(query,type)-instance-method","html_id":"join_condition(query,type)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(query, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr#L56","def":{"name":"join_condition","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_foreign = foreign_field\n_primary = primary_field\njt = join_table!\nq = (query.join(jt, type: type) do\n  (Q.c(_primary)) == (c(_foreign))\nend).join(T, type: type) do\n  T.primary == (c(association_foreign_key, jt))\nend\nif @join_query\n  _tree = @join_query.not_nil!\n  q.where do\n    _tree\n  end\nelse\n  q\nend\n"}},{"id":"join_table:String?-instance-method","html_id":"join_table:String?-instance-method","name":"join_table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr#L6","def":{"name":"join_table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@join_table"}},{"id":"join_table!-instance-method","html_id":"join_table!-instance-method","name":"join_table!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr#L14","def":{"name":"join_table!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@join_table ? @join_table.not_nil! : adapter.class.join_table_name(Q.table_name, T.table_name)"}},{"id":"preload_relation(collection,out_collection:Array(Model::Resource),pk_repo)-instance-method","html_id":"preload_relation(collection,out_collection:Array(Model::Resource),pk_repo)-instance-method","name":"preload_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""},{"name":"out_collection","doc":null,"default_value":"","external_name":"out_collection","restriction":"Array(Model::Resource)"},{"name":"pk_repo","doc":null,"default_value":"","external_name":"pk_repo","restriction":""}],"args_string":"(collection, out_collection : Array(Model::Resource), pk_repo)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr#L75","def":{"name":"preload_relation","args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""},{"name":"out_collection","doc":null,"default_value":"","external_name":"out_collection","restriction":"Array(Model::Resource)"},{"name":"pk_repo","doc":null,"default_value":"","external_name":"pk_repo","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if collection.empty?\n  return\nend\n_primary = primary_field\nif pk_repo.has_key?(_primary)\nelse\n  array = pk_repo[_primary] = Array(DBAny).new(collection.size)\n  collection.each do |e|\n    array << (e.attribute(_primary))\n  end\nend\njoin_fk = \"__join_fk__\"\nquery = query(pk_repo[_primary])\nfields = query._select_fields\nfields << ((QueryBuilder::Criteria.new(foreign_field, join_table!)).alias(join_fk))\nnew_collection = (query.select(fields)).db_results\nname = self.name\nif new_collection.empty?\n  collection.each(&.relation_retrieved(name))\nelse\n  primary_fields = pk_repo[_primary]\n  collection.each_with_index do |mod, i|\n    pv = primary_fields[i]\n    new_collection.each do |hash|\n      if hash[join_fk] == pv\n        out_collection << (mod.append_relation(name, hash))\n      end\n    end\n  end\nend\n"}},{"id":"query(primary_value)-instance-method","html_id":"query(primary_value)-instance-method","name":"query","doc":"Returns query for given primary field values","summary":"<p>Returns query for given primary field values</p>","abstract":false,"args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"args_string":"(primary_value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr#L40","def":{"name":"query","args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"afk = association_foreign_key\n_primary_value = primary_value\nmfk = foreign_field\nq = T.all.join(join_table!) do\n  ((c(afk)) == T.primary) & (_primary_value.is_a?(Array) ? (c(mfk)).in(_primary_value) : (c(mfk)) == _primary_value)\nend\nif @join_query\n  _tree = @join_query.not_nil!\n  q.where do\n    _tree\n  end\nelse\n  q\nend\n"}},{"id":"remove(obj:Q,rel:T)-instance-method","html_id":"remove(obj:Q,rel:T)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/many_to_many.cr#L30","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\nprimary_value = obj.attribute(primary_field)\nassociation_primary_value = rel.primary\n(QueryBuilder::Query.new(join_table!)).where do\n  ((c(this.foreign_field)) == primary_value) & ((c(this.association_foreign_key)) == association_primary_value)\nend.delete\nrel\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/PolymorphicHasMany","path":"Jennifer/Relation/PolymorphicHasMany.html","kind":"class","full_name":"Jennifer::Relation::PolymorphicHasMany(T, Q)","name":"PolymorphicHasMany","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/polymorphic_has_many.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,foreign,primary,query,foreign_type:String|Symbol?,inverse_of:String|Symbol)-class-method","html_id":"new(name,foreign,primary,query,foreign_type:String|Symbol?,inverse_of:String|Symbol)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"foreign_type","doc":null,"default_value":"","external_name":"foreign_type","restriction":"String | Symbol | ::Nil"},{"name":"inverse_of","doc":null,"default_value":"","external_name":"inverse_of","restriction":"String | Symbol"}],"args_string":"(name, foreign, primary, query, foreign_type : String | Symbol?, inverse_of : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr#L6","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"foreign_type","doc":null,"default_value":"","external_name":"foreign_type","restriction":"String | Symbol | ::Nil"},{"name":"inverse_of","doc":null,"default_value":"","external_name":"inverse_of","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = PolymorphicHasMany(T, Q).allocate\n_.initialize(name, foreign, primary, query, foreign_type, inverse_of)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"condition_clause(ids:Array)-instance-method","html_id":"condition_clause(ids:Array)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"args_string":"(ids : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr#L22","def":{"name":"condition_clause","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tree = ((T.c(foreign_field, @name)).in(ids)) & ((T.c(foreign_type, @name)) == polymorphic_type_value)\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"condition_clause(id)-instance-method","html_id":"condition_clause(id)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr#L17","def":{"name":"condition_clause","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tree = ((T.c(foreign_field, @name)) == id) & ((T.c(foreign_type, @name)) == polymorphic_type_value)\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"condition_clause-instance-method","html_id":"condition_clause-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr#L12","def":{"name":"condition_clause","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tree = ((T.c(foreign_field, @name)) == (Q.c(primary_field))) & ((T.c(foreign_type, @name)) == polymorphic_type_value)\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"foreign_type:String-instance-method","html_id":"foreign_type:String-instance-method","name":"foreign_type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr#L6","def":{"name":"foreign_type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@foreign_type"}},{"id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","html_id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"args_string":"(obj : Q, rel : Hash(String, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr#L27","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"rel[foreign_field] = obj.attribute(primary_field)\nrel[foreign_type] = polymorphic_type_value\nT.create!(rel)\n"}},{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr#L33","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"rel.set_attribute(foreign_field, obj.attribute(primary_field))\nrel.set_attribute(foreign_type, polymorphic_type_value)\nrel.save!\nrel\n"}},{"id":"polymorphic_type_value-instance-method","html_id":"polymorphic_type_value-instance-method","name":"polymorphic_type_value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr#L47","def":{"name":"polymorphic_type_value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@polymorphic_type_value || (@polymorphic_type_value = Q.to_s)"}},{"id":"remove(obj:Q,rel:T)-instance-method","html_id":"remove(obj:Q,rel:T)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_many.cr#L40","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if ((rel.attribute(foreign_field)) == (obj.attribute(primary_field))) && ((rel.attribute(foreign_type)) == polymorphic_type_value)\n  rel.update_columns({foreign_field => nil, foreign_type => nil})\nend\nrel\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/PolymorphicHasOne","path":"Jennifer/Relation/PolymorphicHasOne.html","kind":"class","full_name":"Jennifer::Relation::PolymorphicHasOne(T, Q)","name":"PolymorphicHasOne","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/polymorphic_has_one.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,foreign,primary,query,foreign_type:String|Symbol?,inverse_of:String|Symbol)-class-method","html_id":"new(name,foreign,primary,query,foreign_type:String|Symbol?,inverse_of:String|Symbol)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"foreign_type","doc":null,"default_value":"","external_name":"foreign_type","restriction":"String | Symbol | ::Nil"},{"name":"inverse_of","doc":null,"default_value":"","external_name":"inverse_of","restriction":"String | Symbol"}],"args_string":"(name, foreign, primary, query, foreign_type : String | Symbol?, inverse_of : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr#L6","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"foreign_type","doc":null,"default_value":"","external_name":"foreign_type","restriction":"String | Symbol | ::Nil"},{"name":"inverse_of","doc":null,"default_value":"","external_name":"inverse_of","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = PolymorphicHasOne(T, Q).allocate\n_.initialize(name, foreign, primary, query, foreign_type, inverse_of)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"condition_clause(ids:Array)-instance-method","html_id":"condition_clause(ids:Array)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"args_string":"(ids : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr#L22","def":{"name":"condition_clause","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tree = ((T.c(foreign_field, @name)).in(ids)) & ((T.c(foreign_type, @name)) == polymorphic_type_value)\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"condition_clause(id)-instance-method","html_id":"condition_clause(id)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr#L17","def":{"name":"condition_clause","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tree = ((T.c(foreign_field, @name)) == id) & ((T.c(foreign_type, @name)) == polymorphic_type_value)\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"condition_clause-instance-method","html_id":"condition_clause-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr#L12","def":{"name":"condition_clause","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tree = ((T.c(foreign_field, @name)) == (Q.c(primary_field))) & ((T.c(foreign_type, @name)) == polymorphic_type_value)\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"foreign_type:String-instance-method","html_id":"foreign_type:String-instance-method","name":"foreign_type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr#L6","def":{"name":"foreign_type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@foreign_type"}},{"id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","html_id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"args_string":"(obj : Q, rel : Hash(String, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr#L27","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"rel[foreign_field] = obj.attribute(primary_field)\nrel[foreign_type] = polymorphic_type_value\nT.create!(rel)\n"}},{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr#L34","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if rel.attribute(foreign_field).nil?\nelse\n  raise(BaseException.new(\"Object already has one another object\"))\nend\nrel.set_attribute(foreign_field, obj.attribute(primary_field))\nrel.set_attribute(foreign_type, polymorphic_type_value)\nrel.save!\nrel\n"}},{"id":"polymorphic_type_value-instance-method","html_id":"polymorphic_type_value-instance-method","name":"polymorphic_type_value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr#L56","def":{"name":"polymorphic_type_value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@polymorphic_type_value || (@polymorphic_type_value = Q.to_s)"}},{"id":"remove(obj:Q,rel:T)-instance-method","html_id":"remove(obj:Q,rel:T)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr#L42","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if ((rel.attribute(foreign_field)) == (obj.attribute(primary_field))) && ((rel.attribute(foreign_type)) == polymorphic_type_value)\n  rel.update_columns({foreign_field => nil, foreign_type => nil})\nend\nrel\n"}},{"id":"remove(obj:Q)-instance-method","html_id":"remove(obj:Q)-instance-method","name":"remove","doc":"Removes related instance of class *T* from DB without it's id.","summary":"<p>Removes related instance of class <em>T</em> from DB without it's id.</p>","abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"}],"args_string":"(obj : Q)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/relation/polymorphic_has_one.cr#L50","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\n_pf = obj.attribute(primary_field)\n(T.all.where do\n  (T.c(this.foreign_field)) == _pf\nend.limit(1)).update({foreign_field => nil, foreign_type => nil})\n"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Skip","path":"Jennifer/Skip.html","kind":"class","full_name":"Jennifer::Skip","name":"Skip","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":113,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"Is used to stop callback invocation.","summary":"<p>Is used to stop callback invocation.</p>","class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L114","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/UnknownRelation","path":"Jennifer/UnknownRelation.html","kind":"class","full_name":"Jennifer::UnknownRelation","name":"UnknownRelation","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":88,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(owner,exception:KeyError)-class-method","html_id":"new(owner,exception:KeyError)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"owner","doc":null,"default_value":"","external_name":"owner","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":"KeyError"}],"args_string":"(owner, exception : KeyError)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L89","def":{"name":"new","args":[{"name":"owner","doc":null,"default_value":"","external_name":"owner","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":"KeyError"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(owner, exception)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(owner,relation)-class-method","html_id":"new(owner,relation)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"owner","doc":null,"default_value":"","external_name":"owner","restriction":""},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"args_string":"(owner, relation)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L93","def":{"name":"new","args":[{"name":"owner","doc":null,"default_value":"","external_name":"owner","restriction":""},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(owner, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/UnknownSTIType","path":"Jennifer/UnknownSTIType.html","kind":"class","full_name":"Jennifer::UnknownSTIType","name":"UnknownSTIType","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":161,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(parent_klass,type)-class-method","html_id":"new(parent_klass,type)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"parent_klass","doc":null,"default_value":"","external_name":"parent_klass","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(parent_klass, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/exceptions.cr#L162","def":{"name":"new","args":[{"name":"parent_klass","doc":null,"default_value":"","external_name":"parent_klass","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(parent_klass, type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","path":"Jennifer/Validations.html","kind":"module","full_name":"Jennifer::Validations","name":"Validations","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/validations/validator.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/validator.cr"},{"filename":"jennifer/validations/absence.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/absence.cr"},{"filename":"jennifer/validations/acceptance.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/acceptance.cr"},{"filename":"jennifer/validations/confirmation.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/confirmation.cr"},{"filename":"jennifer/validations/exclusion.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/exclusion.cr"},{"filename":"jennifer/validations/format.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/format.cr"},{"filename":"jennifer/validations/inclusion.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/inclusion.cr"},{"filename":"jennifer/validations/length.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/length.cr"},{"filename":"jennifer/validations/numericality.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/numericality.cr"},{"filename":"jennifer/validations/presence.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/presence.cr"},{"filename":"jennifer/validations/uniqueness.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/uniqueness.cr"},{"filename":"jennifer/validations/macros.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Absence","path":"Jennifer/Validations/Absence.html","kind":"class","full_name":"Jennifer::Validations::Absence","name":"Absence","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/validations/absence.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/absence.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":"Absence validation class.\n\nFor more details see `Macros.validates_absence`.","summary":"<p>Absence validation class.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"Absence validation class.\n\nFor more details see `Macros.validates_absence`.","summary":"<p>Absence validation class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/absence.cr#L6","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = new)"}}],"constructors":[],"instance_methods":[{"id":"validate(record,field,value,allow_blank)-instance-method","html_id":"validate(record,field,value,allow_blank)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":""}],"args_string":"(record, field, value, allow_blank)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/absence.cr#L7","def":{"name":"validate","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if value.present?\n  record.errors.add(field, :present)\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Acceptance","path":"Jennifer/Validations/Acceptance.html","kind":"class","full_name":"Jennifer::Validations::Acceptance","name":"Acceptance","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/validations/acceptance.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/acceptance.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":"Acceptance validation class.\n\nFor more details see `Macros.validates_acceptance`.","summary":"<p>Acceptance validation class.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"Acceptance validation class.\n\nFor more details see `Macros.validates_acceptance`.","summary":"<p>Acceptance validation class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/acceptance.cr#L6","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = new)"}}],"constructors":[],"instance_methods":[{"id":"validate(record,field:Symbol,value,_allow_blank:Bool,accept:Array?=nil)-instance-method","html_id":"validate(record,field:Symbol,value,_allow_blank:Bool,accept:Array?=nil)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"_allow_blank","doc":null,"default_value":"","external_name":"_allow_blank","restriction":"Bool"},{"name":"accept","doc":null,"default_value":"nil","external_name":"accept","restriction":"Array | ::Nil"}],"args_string":"(record, field : Symbol, value, _allow_blank : Bool, accept : Array? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/acceptance.cr#L7","def":{"name":"validate","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"_allow_blank","doc":null,"default_value":"","external_name":"_allow_blank","restriction":"Bool"},{"name":"accept","doc":null,"default_value":"nil","external_name":"accept","restriction":"Array | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if value.nil?\n  return true\nend\ninvalid = if accept.nil?\n  ((value != true) && (value != \"1\")) && (value != \"true\")\nelse\n  !(accept.not_nil!.includes?(value))\nend\nif invalid\n  record.errors.add(field, :accepted)\nend\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Confirmation","path":"Jennifer/Validations/Confirmation.html","kind":"class","full_name":"Jennifer::Validations::Confirmation","name":"Confirmation","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/validations/confirmation.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/confirmation.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":"Confirmation validation class.\n\nFor more details see `Macros.validates_confirmation`.","summary":"<p>Confirmation validation class.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"Confirmation validation class.\n\nFor more details see `Macros.validates_confirmation`.","summary":"<p>Confirmation validation class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/confirmation.cr#L6","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = new)"}}],"constructors":[],"instance_methods":[{"id":"validate(record,field:Symbol,value,allow_blank:Bool,confirmation,case_sensitive)-instance-method","html_id":"validate(record,field:Symbol,value,allow_blank:Bool,confirmation,case_sensitive)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"confirmation","doc":null,"default_value":"","external_name":"confirmation","restriction":""},{"name":"case_sensitive","doc":null,"default_value":"","external_name":"case_sensitive","restriction":""}],"args_string":"(record, field : Symbol, value, allow_blank : Bool, confirmation, case_sensitive)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/confirmation.cr#L7","def":{"name":"validate","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"confirmation","doc":null,"default_value":"","external_name":"confirmation","restriction":""},{"name":"case_sensitive","doc":null,"default_value":"","external_name":"case_sensitive","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if confirmation.nil?\n  return true\nend\nwith_blank_validation do\n  if (value.not_nil!.compare(confirmation.not_nil!, !case_sensitive)) == 0\n    return true\n  end\n  record.errors.add(field, :confirmation, options: {:attribute => record.class.human_attribute_name(field)})\nend\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Exclusion","path":"Jennifer/Validations/Exclusion.html","kind":"class","full_name":"Jennifer::Validations::Exclusion","name":"Exclusion","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/validations/exclusion.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/exclusion.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":"Exclusion validation class.\n\nFor more details see `Macros.validates_exclusion`.","summary":"<p>Exclusion validation class.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"Exclusion validation class.\n\nFor more details see `Macros.validates_exclusion`.","summary":"<p>Exclusion validation class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/exclusion.cr#L6","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = new)"}}],"constructors":[],"instance_methods":[{"id":"validate(record,field:Symbol,value,allow_blank:Bool,collection)-instance-method","html_id":"validate(record,field:Symbol,value,allow_blank:Bool,collection)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""}],"args_string":"(record, field : Symbol, value, allow_blank : Bool, collection)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/exclusion.cr#L7","def":{"name":"validate","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"with_blank_validation do\n  if collection.includes?(value.not_nil!)\n    record.errors.add(field, :exclusion)\n  end\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Format","path":"Jennifer/Validations/Format.html","kind":"class","full_name":"Jennifer::Validations::Format","name":"Format","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/validations/format.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/format.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":"Text format validation class.\n\nFor more details see `Macros.validates_format`.","summary":"<p>Text format validation class.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"Text format validation class.\n\nFor more details see `Macros.validates_format`.","summary":"<p>Text format validation class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/format.cr#L6","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = new)"}}],"constructors":[],"instance_methods":[{"id":"validate(record,field:Symbol,value,allow_blank:Bool,format)-instance-method","html_id":"validate(record,field:Symbol,value,allow_blank:Bool,format)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":""}],"args_string":"(record, field : Symbol, value, allow_blank : Bool, format)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/format.cr#L7","def":{"name":"validate","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"format","doc":null,"default_value":"","external_name":"format","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"with_blank_validation do\n  if format =~ value\n  else\n    record.errors.add(field, :invalid)\n  end\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Inclusion","path":"Jennifer/Validations/Inclusion.html","kind":"class","full_name":"Jennifer::Validations::Inclusion","name":"Inclusion","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/validations/inclusion.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/inclusion.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":"Inclusion validation class.\n\nFor more details see `Macros.validates_inclusion`.","summary":"<p>Inclusion validation class.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"Inclusion validation class.\n\nFor more details see `Macros.validates_inclusion`.","summary":"<p>Inclusion validation class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/inclusion.cr#L6","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = new)"}}],"constructors":[],"instance_methods":[{"id":"validate(record,field:Symbol,value,allow_blank:Bool,collection)-instance-method","html_id":"validate(record,field:Symbol,value,allow_blank:Bool,collection)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""}],"args_string":"(record, field : Symbol, value, allow_blank : Bool, collection)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/inclusion.cr#L7","def":{"name":"validate","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"with_blank_validation do\n  if collection.includes?(value.not_nil!)\n  else\n    record.errors.add(field, :inclusion)\n  end\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Length","path":"Jennifer/Validations/Length.html","kind":"class","full_name":"Jennifer::Validations::Length","name":"Length","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/validations/length.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/length.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":"Length validation class.\n\nFor more details see `Macros.validates_length`.","summary":"<p>Length validation class.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"Length validation class.\n\nFor more details see `Macros.validates_length`.","summary":"<p>Length validation class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/length.cr#L6","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = new)"}}],"constructors":[],"instance_methods":[{"id":"validate(record,field:Symbol,value,allow_blank:Bool,in=nil,is=nil,minimum=nil,maximum=nil)-instance-method","html_id":"validate(record,field:Symbol,value,allow_blank:Bool,in=nil,is=nil,minimum=nil,maximum=nil)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"in","doc":null,"default_value":"nil","external_name":"in","restriction":""},{"name":"is","doc":null,"default_value":"nil","external_name":"is","restriction":""},{"name":"minimum","doc":null,"default_value":"nil","external_name":"minimum","restriction":""},{"name":"maximum","doc":null,"default_value":"nil","external_name":"maximum","restriction":""}],"args_string":"(record, field : Symbol, value, allow_blank : Bool, in = <span class=\"n\">nil</span>, is = <span class=\"n\">nil</span>, minimum = <span class=\"n\">nil</span>, maximum = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/length.cr#L7","def":{"name":"validate","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"in","doc":null,"default_value":"nil","external_name":"in","restriction":""},{"name":"is","doc":null,"default_value":"nil","external_name":"is","restriction":""},{"name":"minimum","doc":null,"default_value":"nil","external_name":"minimum","restriction":""},{"name":"maximum","doc":null,"default_value":"nil","external_name":"maximum","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"with_blank_validation do\n  size = value.not_nil!.size\n  errors = record.errors\n  if in\n    if in.max < size\n      errors.add(field, :too_long, in.max)\n    else\n      if in.min > size\n        errors.add(field, :too_short, in.min)\n      end\n    end\n  else\n    if is && (is != size)\n      errors.add(field, :wrong_length, is)\n    else\n      if minimum && minimum > size\n        errors.add(field, :too_short, minimum)\n      else\n        if maximum && maximum < size\n          errors.add(field, :too_long, maximum)\n        end\n      end\n    end\n  end\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Macros","path":"Jennifer/Validations/Macros.html","kind":"module","full_name":"Jennifer::Validations::Macros","name":"Macros","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/validations/macros.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Validation","kind":"module","full_name":"Jennifer::Model::Validation","name":"Validation"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"validates_absence(field,ifif_value=nil)-macro","html_id":"validates_absence(field,ifif_value=nil)-macro","name":"validates_absence","doc":"Validates that the specified attribute is absent.\n\n```\nclass Article < Jennifer::Model::Base\n  mapping( # ...\n)\n\n  validates_absence :title\nend\n```","summary":"<p>Validates that the specified attribute is absent.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(field, if if_value = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L223","def":{"name":"validates_absence","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n, if: \n{{ if_value }}\n)\n\n        \n# :nodoc:\n\n        def \n%validate_method\n\n          ::Jennifer::Validations::Absence.instance.validate(self, \n{{ field }}\n, \n{{ field.id }}\n, true)\n        \nend\n      \n"}},{"id":"validates_acceptance(field,accept=nil,ifif_value=nil)-macro","html_id":"validates_acceptance(field,accept=nil,ifif_value=nil)-macro","name":"validates_acceptance","doc":"Encapsulates the pattern of wanting to validate the acceptance of a terms of service check\nbox (or similar agreement).\n\nThis check is performed only if *field* is not nil.\n\n```\nclass User < Jennifer::Model::Base\n  mapping( # ...\n)\n\n  property terms_of_service = false\n  property eula : String?\n\n  validates_acceptance :terms_of_service\n  validates_acceptance :eula, accept: %w(true accept yes)\nend\n```","summary":"<p>Encapsulates the pattern of wanting to validate the acceptance of a terms of service check box (or similar agreement).</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"accept","doc":null,"default_value":"nil","external_name":"accept","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(field, accept = <span class=\"n\">nil</span>, if if_value = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L280","def":{"name":"validates_acceptance","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"accept","doc":null,"default_value":"nil","external_name":"accept","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n, if: \n{{ if_value }}\n)\n\n        \n# :nodoc:\n\n        def \n%validate_method\n\n          ::Jennifer::Validations::Acceptance.instance.validate(self, \n{{ field }}\n, \n{{ field.id }}\n, false, \n{{ accept }}\n)\n        \nend\n      \n"}},{"id":"validates_confirmation(field,case_sensitive=true,ifif_value=nil)-macro","html_id":"validates_confirmation(field,case_sensitive=true,ifif_value=nil)-macro","name":"validates_confirmation","doc":"Encapsulates the pattern of wanting to validate a password or email address field with a confirmation.\n\n```\nclass User < Jennifer::Model::Base\n  mapping(\n    # ...\n    email: String?,\n    address: String?\n  )\n\n  property email_confirmation : String?, address_confirmation : String?\n\n  validates_confirmation :email\n  validates_confirmation :address, case_insensitive: true\nend\n```","summary":"<p>Encapsulates the pattern of wanting to validate a password or email address field with a confirmation.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"case_sensitive","doc":null,"default_value":"true","external_name":"case_sensitive","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(field, case_sensitive = <span class=\"n\">true</span>, if if_value = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L305","def":{"name":"validates_confirmation","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"case_sensitive","doc":null,"default_value":"true","external_name":"case_sensitive","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n, if: \n{{ if_value }}\n)\n\n        \n# :nodoc:\n\n        def \n%validate_method\n\n          ::Jennifer::Validations::Confirmation.instance\n            .validate(self, \n{{ field }}\n, \n{{ field.id }}\n, false, \n{{ field.id }}\n_confirmation, \n{{ case_sensitive }}\n)\n        \nend\n      \n"}},{"id":"validates_exclusion(field,in,allow_blank=false,ifif_value=nil)-macro","html_id":"validates_exclusion(field,in,allow_blank=false,ifif_value=nil)-macro","name":"validates_exclusion","doc":"Validates that the value of the specified attribute is not in the given enumerable object.\n\n```\nclass Country < Jennifer::Base::Model\n  mapping(\n    # ...\n    code: String\n  )\n\n  validates_exclusion :code, in: %w(AA DD)\nend\n```","summary":"<p>Validates that the value of the specified attribute is not in the given enumerable object.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"in","doc":null,"default_value":"","external_name":"in","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(field, in, allow_blank = <span class=\"n\">false</span>, if if_value = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L87","def":{"name":"validates_exclusion","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"in","doc":null,"default_value":"","external_name":"in","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n, if: \n{{ if_value }}\n)\n\n        \n# :nodoc:\n\n        def \n%validate_method\n\n          ::Jennifer::Validations::Exclusion.instance.validate(self, \n{{ field }}\n, \n{{ field.id }}\n, \n{{ allow_blank }}\n, \n{{ in }}\n)\n        \nend\n      \n"}},{"id":"validates_format(field,value,allow_blank=false,ifif_value=nil)-macro","html_id":"validates_format(field,value,allow_blank=false,ifif_value=nil)-macro","name":"validates_format","doc":"Validates whether the value of the specified attribute *field* is of the correct form by matching it\nagainst the regular expression *value*.\n\n```\nclass Contact < Jennifer::Model::Base\n  mapping(\n    # ...\n    street: String\n  )\n\n  validates_format :street, /st\\.|street/i\nend\n```","summary":"<p>Validates whether the value of the specified attribute <em>field</em> is of the correct form by matching it against the regular expression <em>value</em>.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(field, value, allow_blank = <span class=\"n\">false</span>, if if_value = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L109","def":{"name":"validates_format","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n, if: \n{{ if_value }}\n)\n\n        \n# :nodoc:\n\n        def \n%validate_method\n\n          ::Jennifer::Validations::Format.instance.validate(self, \n{{ field }}\n, \n{{ field.id }}\n, \n{{ allow_blank }}\n, \n{{ value }}\n)\n        \nend\n      \n"}},{"id":"validates_inclusion(field,in,allow_blank=false,ifif_value=nil)-macro","html_id":"validates_inclusion(field,in,allow_blank=false,ifif_value=nil)-macro","name":"validates_inclusion","doc":"Validate whether the value of the specified attribute is included in the given enumerable object.\n\n```\nclass User < Jennifer::Base::Model\n  mapping(\n    # ...\n    country_code: String\n  )\n\n  validates_inclusion :code, in: Country::KNOWN_COUNTRIES\nend\n```","summary":"<p>Validate whether the value of the specified attribute is included in the given enumerable object.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"in","doc":null,"default_value":"","external_name":"in","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(field, in, allow_blank = <span class=\"n\">false</span>, if if_value = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L66","def":{"name":"validates_inclusion","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"in","doc":null,"default_value":"","external_name":"in","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n, if: \n{{ if_value }}\n)\n\n        \n# :nodoc:\n\n        def \n%validate_method\n\n          ::Jennifer::Validations::Inclusion.instance.validate(self, \n{{ field }}\n, \n{{ field.id }}\n, \n{{ allow_blank }}\n, \n{{ in }}\n)\n        \nend\n      \n"}},{"id":"validates_length(field,ifif_value=nil,**options)-macro","html_id":"validates_length(field,ifif_value=nil,**options)-macro","name":"validates_length","doc":"Validates that the specified attribute matches the length restrictions supplied.\n\nOnly one option can be used at a time:\n- minimum\n- maximum\n- is\n- in\n\n```\nclass User < Jennifer::Model::Base\n  mapping( # ...\n)\n\n  validates_length :name, minimum: 2\n  validates_length :login, in: 4..16\n  validates_length :uid, is: 16\nend\n```","summary":"<p>Validates that the specified attribute matches the length restrictions supplied.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(field, if if_value = <span class=\"n\">nil</span>, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L136","def":{"name":"validates_length","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% options[:allow_blank] = options[:allow_blank] == nil ? false : options[:allow_blank] %}\n\n        validates_with_method(\n%validate_method\n, if: \n{{ if_value }}\n)\n\n        \n# :nodoc:\n\n        def \n%validate_method\n\n          ::Jennifer::Validations::Length.instance.validate(self, \n{{ field }}\n, \n{{ field.id }}\n, \n{{ **options }}\n)\n        \nend\n      \n"}},{"id":"validates_numericality(field,ifif_value=nil,**options)-macro","html_id":"validates_numericality(field,ifif_value=nil,**options)-macro","name":"validates_numericality","doc":"Validates whether the value of the specified attribute satisfies given comparison condition.\n\nConfiguration options:\n- greater_than\n- greater_than_or_equal_to\n- equal_to\n- less_than\n- less_than_or_equal_to\n- odd\n- even\n\n```\nclass Player < Jennifer::Model::Base\n  mapping(\n    # ...\n    health: Float64,\n  )\n\n  validates_numericality :health, greater_than: 0\nend\n```","summary":"<p>Validates whether the value of the specified attribute satisfies given comparison condition.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(field, if if_value = <span class=\"n\">nil</span>, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L253","def":{"name":"validates_numericality","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% options[:allow_blank] = options[:allow_blank] == nil ? false : options[:allow_blank] %}\n\n        validates_with_method(\n%validate_method\n, if: \n{{ if_value }}\n)\n\n        \n# :nodoc:\n\n        def \n%validate_method\n\n          ::Jennifer::Validations::Numericality.instance.validate(self, \n{{ field }}\n, \n{{ field.id }}\n, \n{{ **options }}\n)\n        \nend\n      \n"}},{"id":"validates_presence(field,ifif_value=nil)-macro","html_id":"validates_presence(field,ifif_value=nil)-macro","name":"validates_presence","doc":"Validates that the specified attributes are not blank.\n\n```\nclass User < Jennifer::Model::Base\n  mapping(\n    # ...\n    email: String?\n  )\n\n  validates_presence :email\nend\n```","summary":"<p>Validates that the specified attributes are not blank.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(field, if if_value = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L204","def":{"name":"validates_presence","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n, if: \n{{ if_value }}\n)\n\n        \n# :nodoc:\n\n        def \n%validate_method\n\n          ::Jennifer::Validations::Presence.instance.validate(self, \n{{ field }}\n, \n{{ field.id }}\n, false)\n        \nend\n      \n"}},{"id":"validates_uniqueness(*fields,allow_blankallow_blank_value=false,ifif_value=nil)-macro","html_id":"validates_uniqueness(*fields,allow_blankallow_blank_value=false,ifif_value=nil)-macro","name":"validates_uniqueness","doc":"Validates whether the value of the specified attributes are unique across the system.\n\nBecause this check is performed outside the database there is still a chance that duplicate values will be\ninserted in two parallel transactions. To guarantee against this you should create a unique index on the field.\n\n```\nclass Country < Jennifer::Model::Base\n  mapping(\n    # ...\n    code: String\n  )\n\n  validate_uniqueness :code\nend\n```","summary":"<p>Validates whether the value of the specified attributes are unique across the system.</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},{"name":"allow_blank_value","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(*fields, allow_blank allow_blank_value = <span class=\"n\">false</span>, if if_value = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L161","def":{"name":"validates_uniqueness","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},{"name":"allow_blank_value","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n# raise a compile time error if a uniqueness validator is specified\n\n        \n# that does not define any properties\n\n        \n{% if fields.empty?\n  raise(\"A uniqueness check requires at least one field\")\nend %}\n\n\n        validates_with_method(\n%validate_method\n, if: \n{{ if_value }}\n)\n\n        \n# generate a query that fetches records based on the marked\n\n        \n# properties of the current entity\n\n        \n# (e.g. ... WHERE id = <id> AND name = <name> AND config = <config> ...)\n\n        \n{% normalized_fields = fields.map(&.id) %}\n\n\n        \n{% fields_condition = normalized_fields.map do |field|\n  \".where { self.class._#{field} == #{field} }\"\nend.join(\"\") %}\n\n\n        \n# builds a unique identifier for this set of properties\n\n        \n# (e.g. for uniqueness properties `:a`, `:b` this results in `:a_b`)\n\n        \n{% fields_identifier = normalized_fields.join(\"_\") %}\n\n\n        \n# :nodoc:\n\n        def \n%validate_method\n\n          ::Jennifer::Validations::Uniqueness.instance.validate(\n            self,\n            :\n{{ fields_identifier.id }}\n,\n            \n# pass on nil here to signal nil values in record\n\n            \n{{ normalized_fields }}\n.all?(&.nil?) ? nil : \n{{ normalized_fields }}\n,\n            \n{{ allow_blank_value }}\n,\n            self.class\n{{ fields_condition.id }}\n\n          )\n        \nend\n      \n"}},{"id":"validates_with(klass,*args,ifif_value=nil,**options)-macro","html_id":"validates_with(klass,*args,ifif_value=nil,**options)-macro","name":"validates_with","doc":"Passes the record off to an instance of the class specified and allows them to add errors based on more complex conditions.\n\n```\nclass EnnValidator < Jennifer::Validations::Validator\n  def validate(record : Passport)\n    record.errors.add(:enn, \"Invalid enn\") if record.enn!.size < 4\n  end\nend\n\nclass Passport < Jennifer::Model::Base\n  mapping(\n    enn: {type: String, primary: true}\n  )\n\n  validates_with EnnValidator\nend\n```","summary":"<p>Passes the record off to an instance of the class specified and allows them to add errors based on more complex conditions.</p>","abstract":false,"args":[{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(klass, *args, if if_value = <span class=\"n\">nil</span>, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L45","def":{"name":"validates_with","args":[{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":1,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n, if: \n{{ if_value }}\n)\n\n        \n# :nodoc:\n\n        def \n%validate_method\n\n          \n{{ klass }}\n.instance.validate(self\n{% if args.size > 0 %}, {{ *args }} {% end %}\n{% if options.size > 0 %}, {{ **options }} {% end %}\n)\n        \nend\n      \n"}},{"id":"validates_with_method(*names,ifif_value=nil)-macro","html_id":"validates_with_method(*names,ifif_value=nil)-macro","name":"validates_with_method","doc":"Adds a validation method to the class.\n\n```\nclass User < Jennifer::Model::Base\n  # ...\n\n  validates_with_method :thirteen\n\n  def thirteen\n    errors.add(:id, \"Can't be 13\") if id == 13\n  end\nend\n```","summary":"<p>Adds a validation method to the class.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"args_string":"(*names, if if_value = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/macros.cr#L20","def":{"name":"validates_with_method","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""},{"name":"if_value","doc":null,"default_value":"nil","external_name":"if","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% if if_value %}\n          {% names.reduce(VALIDATION_METHODS) do |arr, method|\n  arr << \"#{method.id} if #{if_value.id}\"\nend %}\n        {% else %}\n          {% names.reduce(VALIDATION_METHODS) do |arr, method|\n  arr << method.id.stringify\nend %}\n        {% end %}\n\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Numericality","path":"Jennifer/Validations/Numericality.html","kind":"class","full_name":"Jennifer::Validations::Numericality","name":"Numericality","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/validations/numericality.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/numericality.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":"Numericality validation class.\n\nFor more details see `Macros.validates_numericality`.","summary":"<p>Numericality validation class.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"Numericality validation class.\n\nFor more details see `Macros.validates_numericality`.","summary":"<p>Numericality validation class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/numericality.cr#L6","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = new)"}}],"constructors":[],"instance_methods":[{"id":"validate(record,field:Symbol,value,allow_blank:Bool,greater_than=nil,greater_than_or_equal_to=nil,equal_to=nil,less_than=nil,less_than_or_equal_to=nil,other_than=nil,odd=nil,even=nil)-instance-method","html_id":"validate(record,field:Symbol,value,allow_blank:Bool,greater_than=nil,greater_than_or_equal_to=nil,equal_to=nil,less_than=nil,less_than_or_equal_to=nil,other_than=nil,odd=nil,even=nil)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"greater_than","doc":null,"default_value":"nil","external_name":"greater_than","restriction":""},{"name":"greater_than_or_equal_to","doc":null,"default_value":"nil","external_name":"greater_than_or_equal_to","restriction":""},{"name":"equal_to","doc":null,"default_value":"nil","external_name":"equal_to","restriction":""},{"name":"less_than","doc":null,"default_value":"nil","external_name":"less_than","restriction":""},{"name":"less_than_or_equal_to","doc":null,"default_value":"nil","external_name":"less_than_or_equal_to","restriction":""},{"name":"other_than","doc":null,"default_value":"nil","external_name":"other_than","restriction":""},{"name":"odd","doc":null,"default_value":"nil","external_name":"odd","restriction":""},{"name":"even","doc":null,"default_value":"nil","external_name":"even","restriction":""}],"args_string":"(record, field : Symbol, value, allow_blank : Bool, greater_than = <span class=\"n\">nil</span>, greater_than_or_equal_to = <span class=\"n\">nil</span>, equal_to = <span class=\"n\">nil</span>, less_than = <span class=\"n\">nil</span>, less_than_or_equal_to = <span class=\"n\">nil</span>, other_than = <span class=\"n\">nil</span>, odd = <span class=\"n\">nil</span>, even = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/numericality.cr#L7","def":{"name":"validate","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"greater_than","doc":null,"default_value":"nil","external_name":"greater_than","restriction":""},{"name":"greater_than_or_equal_to","doc":null,"default_value":"nil","external_name":"greater_than_or_equal_to","restriction":""},{"name":"equal_to","doc":null,"default_value":"nil","external_name":"equal_to","restriction":""},{"name":"less_than","doc":null,"default_value":"nil","external_name":"less_than","restriction":""},{"name":"less_than_or_equal_to","doc":null,"default_value":"nil","external_name":"less_than_or_equal_to","restriction":""},{"name":"other_than","doc":null,"default_value":"nil","external_name":"other_than","restriction":""},{"name":"odd","doc":null,"default_value":"nil","external_name":"odd","restriction":""},{"name":"even","doc":null,"default_value":"nil","external_name":"even","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"with_blank_validation do\n  value = value.not_nil!\n  errors = record.errors\n  if greater_than.try(&.>=(value))\n    errors.add(field, :greater_than, {:value => greater_than})\n  end\n  if greater_than_or_equal_to.try(&.>(value))\n    errors.add(field, :greater_than_or_equal_to, {:value => greater_than_or_equal_to})\n  end\n  if equal_to.try(&.!=(value))\n    errors.add(field, :equal_to, {:value => equal_to})\n  end\n  if less_than.try(&.<=(value))\n    errors.add(field, :less_than, {:value => less_than})\n  end\n  if less_than_or_equal_to.try(&.<(value))\n    errors.add(field, :less_than_or_equal_to, {:value => less_than_or_equal_to})\n  end\n  if other_than.try(&.==(value))\n    errors.add(field, :other_than, {:value => other_than})\n  end\n  if odd && (even?(value))\n    errors.add(field, :odd)\n  end\n  if even && (odd?(value))\n    errors.add(field, :even)\n  end\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Presence","path":"Jennifer/Validations/Presence.html","kind":"class","full_name":"Jennifer::Validations::Presence","name":"Presence","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/validations/presence.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/presence.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":"Presence validation class.\n\nFor more details see `Macros.validates_presence`.","summary":"<p>Presence validation class.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"Presence validation class.\n\nFor more details see `Macros.validates_presence`.","summary":"<p>Presence validation class.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/presence.cr#L6","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = new)"}}],"constructors":[],"instance_methods":[{"id":"validate(record,field:Symbol,value,_allow_blank:Bool)-instance-method","html_id":"validate(record,field:Symbol,value,_allow_blank:Bool)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"_allow_blank","doc":null,"default_value":"","external_name":"_allow_blank","restriction":"Bool"}],"args_string":"(record, field : Symbol, value, _allow_blank : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/presence.cr#L7","def":{"name":"validate","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"_allow_blank","doc":null,"default_value":"","external_name":"_allow_blank","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if value.blank?\n  record.errors.add(field, :blank)\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Uniqueness","path":"Jennifer/Validations/Uniqueness.html","kind":"class","full_name":"Jennifer::Validations::Uniqueness","name":"Uniqueness","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/validations/uniqueness.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/uniqueness.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":"\nValidates that the given field(s) of a record are unique for this type.\n","summary":"<p>Validates that the given field(s) of a record are unique for this type.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"\nValidates that the given field(s) of a record are unique for this type.\n","summary":"<p>Validates that the given field(s) of a record are unique for this type.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/uniqueness.cr#L6","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = new)"}}],"constructors":[],"instance_methods":[{"id":"validate(record,field:Symbol,value,allow_blank:Bool,query)-instance-method","html_id":"validate(record,field:Symbol,value,allow_blank:Bool,query)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(record, field : Symbol, value, allow_blank : Bool, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/uniqueness.cr#L7","def":{"name":"validate","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":"Bool"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"with_blank_validation do\n  _query = query.clone\n  if record.new_record?\n  else\n    _query.where do\n      primary != record.primary\n    end\n  end\n  if _query.exists?\n    record.errors.add(field, :taken)\n  end\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator","path":"Jennifer/Validations/Validator.html","kind":"class","full_name":"Jennifer::Validations::Validator","name":"Validator","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/validations/validator.cr","line_number":21,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/validator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Validator/ClassMethods","kind":"module","full_name":"Jennifer::Validations::Validator::ClassMethods","name":"ClassMethods"}],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Absence","kind":"class","full_name":"Jennifer::Validations::Absence","name":"Absence"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Acceptance","kind":"class","full_name":"Jennifer::Validations::Acceptance","name":"Acceptance"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Confirmation","kind":"class","full_name":"Jennifer::Validations::Confirmation","name":"Confirmation"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Exclusion","kind":"class","full_name":"Jennifer::Validations::Exclusion","name":"Exclusion"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Format","kind":"class","full_name":"Jennifer::Validations::Format","name":"Format"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Inclusion","kind":"class","full_name":"Jennifer::Validations::Inclusion","name":"Inclusion"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Length","kind":"class","full_name":"Jennifer::Validations::Length","name":"Length"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Numericality","kind":"class","full_name":"Jennifer::Validations::Numericality","name":"Numericality"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Presence","kind":"class","full_name":"Jennifer::Validations::Presence","name":"Presence"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations/Uniqueness","kind":"class","full_name":"Jennifer::Validations::Uniqueness","name":"Uniqueness"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Validations","kind":"module","full_name":"Jennifer::Validations","name":"Validations"},"doc":"Base validation class.\n\nTake into account that Validator implement singleton pattern. This means that\nonly one instance of each validator will be created cross the application. As a result #validate\nmethod should be pure.\n\nTo implement own validator just inherit and define #validate class, which accepts *record* as a first\nargument\n\n```\nclass CustomValidator < Jennifer::Validations::Validator\n  def validate(record, field, message = nil)\n    if record.attribute(field) == \"invalid\"\n      record.errors.add(field, message || \"blank\")\n    end\n  end\nend\n```","summary":"<p>Base validation class.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"blank_validation(record,field,value,allow_blank)-instance-method","html_id":"blank_validation(record,field,value,allow_blank)-instance-method","name":"blank_validation","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":""}],"args_string":"(record, field, value, allow_blank)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/validator.cr#L32","def":{"name":"blank_validation","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if allow_blank\n  if value.nil?\n    return\n  end\nelse\n  if value.nil?\n    record.errors.add(field, :blank)\n    return false\n  end\nend\ntrue\n"}},{"id":"validate(record,*args,**opts)-instance-method","html_id":"validate(record,*args,**opts)-instance-method","name":"validate","doc":"Validates given *record* based on *args* and *opts*.","summary":"<p>Validates given <em>record</em> based on <em>args</em> and <em>opts</em>.</p>","abstract":true,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(record, *args, **opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/validator.cr#L30","def":{"name":"validate","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[{"id":"with_blank_validation-macro","html_id":"with_blank_validation-macro","name":"with_blank_validation","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/validations/validator.cr#L42","def":{"name":"with_blank_validation","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        case blank_validation(record, field, value, allow_blank)\n        when false\n          false\n        when nil\n          true\n        \nelse\n          \n{{ yield }}\n\n        \nend\n      \n"}}],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View","path":"Jennifer/View.html","kind":"module","full_name":"Jennifer::View","name":"View","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/view/mapping.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/mapping.cr"},{"filename":"jennifer/view/base.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr"},{"filename":"jennifer/view/materialized.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/materialized.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Base","path":"Jennifer/View/Base.html","kind":"class","full_name":"Jennifer::View::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource","kind":"class","full_name":"Jennifer::Model::Resource","name":"Resource"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Mapping","kind":"module","full_name":"Jennifer::View::Mapping","name":"Mapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping","kind":"module","full_name":"Jennifer::Model::Mapping","name":"Mapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/CommonMapping","kind":"module","full_name":"Jennifer::Model::CommonMapping","name":"CommonMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/FieldDeclaration","kind":"module","full_name":"Jennifer::Model::FieldDeclaration","name":"FieldDeclaration"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource","kind":"class","full_name":"Jennifer::Model::Resource","name":"Resource"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Macros","kind":"module","full_name":"Jennifer::Macros","name":"Macros"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationDefinition","kind":"module","full_name":"Jennifer::Model::RelationDefinition","name":"RelationDefinition"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Translation","kind":"module","full_name":"Jennifer::Model::Translation","name":"Translation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/view/base.cr","line_number":23,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Mapping","kind":"module","full_name":"Jennifer::View::Mapping","name":"Mapping"}],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Materialized","kind":"class","full_name":"Jennifer::View::Materialized","name":"Materialized"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View","kind":"module","full_name":"Jennifer::View","name":"View"},"doc":"Base class for a database [view](https://en.wikipedia.org/wiki/View_(SQL)).\n\nThe functionality provided by view is close to the one of `Model::Base` but has next limitations:\n\n* supports only `after_initialize` callback\n* doesn't support any relations\n* has no persistence mechanism\n* doesn't support virtual attributes\n\n```\nclass FemaleContact < BaseView\n  mapping({\n    id:   Primary32,\n    name: String,\n    }, false)\n  end\nend\n```","summary":"<p>Base class for a database <a href=\"https://en.wikipedia.org/wiki/View_(SQL\" target=\"_blank\">view</a>).</p>","class_methods":[{"id":"build(values:Hash|NamedTuple,new_record:Bool)-class-method","html_id":"build(values:Hash|NamedTuple,new_record:Bool)-class-method","name":"build","doc":"Alias for `.new`.","summary":"<p>Alias for <code>.new</code>.</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":"Bool"}],"args_string":"(values : Hash | NamedTuple, new_record : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr#L53","def":{"name":"build","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"build(values)"}},{"id":"build(pull:DB::ResultSet)-class-method","html_id":"build(pull:DB::ResultSet)-class-method","name":"build","doc":"Alias for `.new`.","summary":"<p>Alias for <code>.new</code>.</p>","abstract":false,"args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"DB::ResultSet"}],"args_string":"(pull : DB::ResultSet)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr#L48","def":{"name":"build","args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"DB::ResultSet"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new(pull)"}},{"id":"i18n_scope-class-method","html_id":"i18n_scope-class-method","name":"i18n_scope","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr#L57","def":{"name":"i18n_scope","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":":views"}},{"id":"relation(name)-class-method","html_id":"relation(name)-class-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr#L72","def":{"name":"relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(Jennifer::UnknownRelation.new(self, KeyError.new(name)))"}},{"id":"view_name(value:String)-class-method","html_id":"view_name(value:String)-class-method","name":"view_name","doc":"Sets view name.\n\nAn alias for `.table_name(value : String)`.","summary":"<p>Sets view name.</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr#L43","def":{"name":"view_name","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"table_name(value)"}},{"id":"view_name-class-method","html_id":"view_name-class-method","name":"view_name","doc":"Returns view name.\n\nAn alias for `.table_name`.","summary":"<p>Returns view name.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr#L36","def":{"name":"view_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"table_name"}},{"id":"views-class-method","html_id":"views-class-method","name":"views","doc":"Returns array of all registered views or `[] of Jennifer::View::Base.class` if nothing.","summary":"<p>Returns array of all registered views or <code>[] of Jennifer::View::Base.class</code> if nothing.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr#L62","def":{"name":"views","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n          {% if @type.all_subclasses.size > 1 %}\n            [{{ (@type.all_subclasses.join(\", \")).id }}] - [Jennifer::View::Materialized]\n          {% else %}\n            [] of Jennifer::View::Base.class\n          {% end %}\n        {% end %}"}}],"constructors":[],"instance_methods":[{"id":"reload-instance-method","html_id":"reload-instance-method","name":"reload","doc":"Reloads the record from the database.\n\nThis method finds record by its primary key and modifies the receiver in-place.\n\n```\nuser = AdminUser.first!\nuser.name = \"John\"\nuser.reload # => #<AdminUser id: 1, name: \"Will\">\n```","summary":"<p>Reloads the record from the database.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr#L85","def":{"name":"reload","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\n(self.class.all.where do\n  this.class.primary == this.primary\nend.limit(1)).each_result_set do |rs|\n  init_attributes(rs)\nend\nself\n"}}],"macros":[{"id":"after_initialize(*names)-macro","html_id":"after_initialize(*names)-macro","name":"after_initialize","doc":"Allows registering `after_initialize` callbacks.","summary":"<p>Allows registering <code><a href=\"../../Jennifer/View/Base.html#after_initialize(*names)-macro\">after_initialize</a></code> callbacks.</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/base.cr#L27","def":{"name":"after_initialize","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for name in names %}\n          {% AFTER_INITIALIZE_CALLBACKS << name.id.stringify %}\n        {% end %}\n\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Mapping","path":"Jennifer/View/Mapping.html","kind":"module","full_name":"Jennifer::View::Mapping","name":"Mapping","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping","kind":"module","full_name":"Jennifer::Model::Mapping","name":"Mapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/CommonMapping","kind":"module","full_name":"Jennifer::Model::CommonMapping","name":"CommonMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/FieldDeclaration","kind":"module","full_name":"Jennifer::Model::FieldDeclaration","name":"FieldDeclaration"}],"locations":[{"filename":"jennifer/view/mapping.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/mapping.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping","kind":"module","full_name":"Jennifer::Model::Mapping","name":"Mapping"}],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Base","kind":"class","full_name":"Jennifer::View::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View","kind":"module","full_name":"Jennifer::View","name":"View"},"doc":"Module with mapping macros for views.\n\nHeavily uses `Model::Mapping`.","summary":"<p>Module with mapping macros for views.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Materialized","path":"Jennifer/View/Materialized.html","kind":"class","full_name":"Jennifer::View::Materialized","name":"Materialized","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Base","kind":"class","full_name":"Jennifer::View::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Base","kind":"class","full_name":"Jennifer::View::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Mapping","kind":"module","full_name":"Jennifer::View::Mapping","name":"Mapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping","kind":"module","full_name":"Jennifer::Model::Mapping","name":"Mapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/CommonMapping","kind":"module","full_name":"Jennifer::Model::CommonMapping","name":"CommonMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/FieldDeclaration","kind":"module","full_name":"Jennifer::Model::FieldDeclaration","name":"FieldDeclaration"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Resource","kind":"class","full_name":"Jennifer::Model::Resource","name":"Resource"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Macros","kind":"module","full_name":"Jennifer::Macros","name":"Macros"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationDefinition","kind":"module","full_name":"Jennifer::Model::RelationDefinition","name":"RelationDefinition"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Translation","kind":"module","full_name":"Jennifer::Model::Translation","name":"Translation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/view/materialized.cr","line_number":7,"url":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/materialized.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View","kind":"module","full_name":"Jennifer::View","name":"View"},"doc":"Base class for a database [materialized view](https://en.wikipedia.org/wiki/View_(SQL)#Materialized_views).\n\nThe only difference from `Base` is one additional method `.refresh` which allows refreshing data of the view.\nAlso this class usage makes sense only if you use PostgreSQL as only it has native support of materialized views.","summary":"<p>Base class for a database <a href=\"https://en.wikipedia.org/wiki/View_(SQL\" target=\"_blank\">materialized view</a>#Materialized_views).</p>","class_methods":[{"id":"refresh-class-method","html_id":"refresh-class-method","name":"refresh","doc":"Refresh materialized view data in th DB.","summary":"<p>Refresh materialized view data in th DB.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/219318ec8e24b819a85cbb9eb65149a44b55169c/src/jennifer/view/materialized.cr#L9","def":{"name":"refresh","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.refresh_materialized_view(view_name)"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]}]}]}}