{"repository_name":"github.com/imdrasil/jennifer.cr","body":"# Jennifer [![Build Status](https://travis-ci.org/imdrasil/jennifer.cr.svg)](https://travis-ci.org/imdrasil/jennifer.cr) [![Latest Release](https://img.shields.io/github/release/imdrasil/jennifer.cr.svg)](https://github.com/imdrasil/jennifer.cr/releases) [![Docs](https://img.shields.io/badge/docs-available-brightgreen.svg)](https://imdrasil.github.io/jennifer.cr/docs/)\n\nAnother ActiveRecord pattern implementation for Crystal with a great query DSL and migration mechanism.\n\n## Installation\n\nAdd this to your application's `shard.yml`:\n\n```yaml\ndependencies:\n  jennifer:\n    github: imdrasil/jennifer.cr\n    version: \"~> 0.4.3\"\n```\n\n#### Requirements \n\n- you need to choose one of existing adapters for your db: [mysql](https://github.com/crystal-lang/crystal-mysql) or [postgres](https://github.com/will/crystal-pg);\n- if you prefer to use crystal `<0.23.1` - use jennifer `<0.4.2` (crystal `0.23.0` is buggy and not supported).\n\n## Usage\n\nJennifer allows you to maintain everything for your models - from db migrations and field mapping to callbacks and building queries. For detailed information see the [guide](https://imdrasil.github.io/jennifer.cr/docs/) or [api documentation](https://imdrasil.github.io/jennifer.cr/versions).\n\n#### Migration\n\nTo start using Jennifer you'll first need to generate a migration:\n\n```shell\n$ crystal sam.cr -- generate:migration CreateContact\n```\n\nthen fill the created migration file with content:\n\n```crystal\nclass CreateContact20170119011451314 < Jennifer::Migration::Base\n  def up\n    create_enum(:gender_enum, [\"male\", \"female\"]) # postgres specific command\n    create_table(:contacts) do |t|\n      t.string :name, {:size => 30}\n      t.integer :age\n      t.integer :tags, {:array => true}\n      t.field :gender, :gender_enum\n      t.timestamps\n    end\n  end\n\n  def down\n    drop_table :contacts\n    drop_enum(:gender_enum)\n  end\nend\n```\n\nand run\n\n```shell\n$ crystal sam.cr -- db:setup\n```\n\nto create the database and run the newly created migration.\n> For command management Jennifer uses [Sam](https://github.com/imdrasil/sam.cr).\n\n#### Model\n\nSeveral model examples\n```crystal\nclass Contact < Jennifer::Model::Base\n  with_timestamps\n  mapping(\n    id: Primary32,\n    name: String,\n    gender: {type: String?, default: \"male\"},\n    age: {type: Int32, default: 10},\n    description: String?,\n    created_at: Time?,\n    updated_at: Time?\n  )\n\n  has_many :facebook_profiles, FacebookProfile\n  has_and_belongs_to_many :countries, Country\n  has_and_belongs_to_many :facebook_many_profiles, FacebookProfile, join_foreign: :profile_id\n  has_one :passport, Passport\n\n  validates_inclucion :age, 13..75\n  validates_length :name, minimum: 1, maximum: 15\n  validates_with_method :name_check\n\n  scope :main { where { _age > 18 } }\n  scope :older { |age| where { _age >= age } }\n  scope :ordered { order(name: :asc) }\n\n  def name_check\n    if @description && @description.not_nil!.size > 10\n      errors.add(:description, \"Too large description\")\n    end\n  end\nend\n\nclass Passport < Jennifer::Model::Base\n  mapping(\n    enn: {type: String, primary: true},\n    contact_id: Int32?\n  )\n\n  validates_with [EnnValidator]\n  belongs_to :contact, Contact\nend\n\nclass Profile < Jennifer::Model::Base\n  mapping(\n    id: Primary32,\n    login: String,\n    contact_id: Int32?,\n    type: String\n  )\n\n  belongs_to :contact, Contact\nend\n\nclass FacebookProfile < Profile\n  sti_mapping(\n    uid: String\n  )\n\n  has_and_belongs_to_many :facebook_contacts, Contact, foreign: :profile_id\nend\n\nclass Country < Jennifer::Model::Base\n  mapping(\n    id: Primary32,\n    name: String\n  )\n\n  validates_exclusion :name, [\"asd\", \"qwe\"]\n  validates_uniqueness :name\n\n  has_and_belongs_to_many :contacts, Contact\nend\n```\n\n#### Quering\n\nJennifer allows you to query the db using a flexible DSL:\n```crystal\nContact.all.left_join(Passport) { _contact_id == _contact__id }\n            .order(id: :asc)\n            .with(:passport).to_a\nContact.all.eager_load(:countries).where { __countries { _name.like(\"%tan%\") } }\nContact.all.group(:gender).group_avg(:age, PG::Numeric)\n```\n\nMuch more about the query DSL can be found on the wiki [[page|Query-DSL]]\n\n### Important restrictions\n\n- sqlite3 has many limitations so its support won't be added any time soon\n\n### Versioning\n\nNow that Jennifer is under heavy development, there could be many breaking changes. So please check the release notes to check if any of the changes may prevent you from using it. Also, until this library reaches a beta version, the next version rules will be followed:\n\n- all bugfixies, new minor features or (sometimes) ones that don't break the existing API will be added as a patch number (e.g. 0.3.**4**);\n\n- all breaking changes and new important features (as well as reaching a milestone) will be added by bumping the minor digit (0.**4**.0);\n\nSo even a patch version change could bring a lot of new stuff.\n\nIf there is a branch for the next release - it will be removed 1 month after the release. So please use them only as a hotfix or for experiments or contibution.\n\n### Test\n\nThe fastest way to rollback all changes in the DB after test case is by using a transaction. So add:\n\n```crystal\nSpec.before_each do\n  Jennifer::Adapter.adapter.begin_transaction\nend\n\nSpec.after_each do\n  Jennifer::Adapter.adapter.rollback_transaction\nend\n```\n\nto your `spec_helper.cr`. NB. you could simply use regular deleting or truncation, but a transaction will provide a 15x speed up (at least for postgres; mysql gets less impact).\n\n> This functions can be safely used only under test environment.\n\n## Development\n\n> Before developing any feature please create an issue where you describe your idea.\n\nBefore development create the db user (see `/spec/config.cr` file) by running:\n```shell\n# Postgres\n$ crystal examples/run.cr -- db:setup\n\n# Mysql\n$ DB=mysql crystal examples/run.cr -- db:setup\n```\n\nPostgreSQL is used by default, but MySql is also supported while running tests by using:\n```shell\n$ DB=mysql crystal spec\n```\n\nIn case you need to set the database user or password, use:\n```shell\n$ DB_USER=user DB_PASSWORD=pass crystal spec\n```\n\nAlso you can override used user name and password using `DB_USER` and `DB_PASSWORD` env variables.\n\n## Documentation\n\nSelf documentation is not fully support yet but docs can be compiled using this shell script:\n\n```shell\n$ ./generate-docs.sh\n```\n\nNB. It also depends on then choosen adapter (postgres by default).\n\n## Similar shards\n\n- [active_record.cr](https://github.com/waterlink/active_record.cr) - small simple AR realization\n\n- [crecto](https://github.com/vladfaust/core.cr) - based on Phoenix's ecto lib and follows the repository pattern;\n\n- [granite-orm](https://github.com/amberframework/granite-orm) - light weight orm focusing on mapping fields from request to your objects\n\n- [topaz](https://github.com/topaz-crystal/topaz) - inspired by AR ORM with migration mechanism\n\n- [micrate](https://github.com/juanedi/micrate) - standalone migration tool for crystal\n\n## Contributing\n\n1. [Fork it]( https://github.com/imdrasil/jennifer.cr/fork )\n2. Create your feature branch (git checkout -b my-new-feature)\n3. Commit your changes (git commit -am 'Add some feature')\n4. Push to the branch (git push origin my-new-feature)\n5. Create a new Pull Request\n\nPlease ask me before starting work on smth.\n\nAlso if you want to use it in your application (NB. shard is almost ready for use in production) - please ping me at the email you can find in my profile.\n\nTo run tests use the regular `crystal spec`. All migrations are under the `./examples/migrations` directory.\n\n## Contributors\n\n- [imdrasil](https://github.com/imdrasil) Roman Kalnytskyi - creator, maintainer\n","program":{"html_id":"github.com/imdrasil/jennifer.cr/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/imdrasil/jennifer.cr","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","path":"Jennifer.html","kind":"module","full_name":"Jennifer","name":"Jennifer","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/transactions.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr"},{"filename":"jennifer/adapter/result_parsers.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/result_parsers.cr"},{"filename":"jennifer/adapter/request_methods.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr"},{"filename":"jennifer/adapter/base.cr","line_number":7,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr"},{"filename":"jennifer/adapter.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr"},{"filename":"jennifer/adapter/postgres/sql_notation.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr"},{"filename":"jennifer/adapter/postgres.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr"},{"filename":"jennifer/adapter/postgres/exec_result.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr"},{"filename":"jennifer/macros.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/macros.cr"},{"filename":"jennifer/exceptions.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"},{"filename":"jennifer/adapter/record.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr"},{"filename":"jennifer/adapter/base_sql_generator.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr"},{"filename":"jennifer/adapter/sql_generator.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/sql_generator.cr"},{"filename":"jennifer/config.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr"},{"filename":"jennifer/version.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/version.cr"},{"filename":"jennifer/query_builder/sql_node.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr"},{"filename":"jennifer/query_builder/logic_operator.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr"},{"filename":"jennifer/query_builder/aggregations.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr"},{"filename":"jennifer/query_builder/all.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr"},{"filename":"jennifer/query_builder/any.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr"},{"filename":"jennifer/query_builder/json_selector.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr"},{"filename":"jennifer/query_builder/criteria.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr"},{"filename":"jennifer/query_builder/condition.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr"},{"filename":"jennifer/query_builder/executables.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr"},{"filename":"jennifer/query_builder/expression_builder.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr"},{"filename":"jennifer/query_builder/grouping.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr"},{"filename":"jennifer/query_builder/ordering.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr"},{"filename":"jennifer/query_builder/joining.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr"},{"filename":"jennifer/query_builder/query.cr","line_number":7,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr"},{"filename":"jennifer/query_builder/i_model_query.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr"},{"filename":"jennifer/query_builder/join.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr"},{"filename":"jennifer/query_builder/model_query.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr"},{"filename":"jennifer/query_builder/query_object.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr"},{"filename":"jennifer/query_builder/raw_sql.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr"},{"filename":"jennifer/query_builder/star.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/star.cr"},{"filename":"jennifer/relation/base.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr"},{"filename":"jennifer/relation/belongs_to.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr"},{"filename":"jennifer/relation/has_many.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_many.cr"},{"filename":"jennifer/relation/has_one.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_one.cr"},{"filename":"jennifer/relation/many_to_many.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr"},{"filename":"jennifer/model/mapping.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/mapping.cr"},{"filename":"jennifer/model/sti_mapping.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/sti_mapping.cr"},{"filename":"jennifer/model/validation_messages.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr"},{"filename":"jennifer/model/validation.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr"},{"filename":"jennifer/model/callback.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr"},{"filename":"jennifer/model/relation_definition.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr"},{"filename":"jennifer/model/scoping.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/scoping.cr"},{"filename":"jennifer/model/base.cr","line_number":8,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr"},{"filename":"jennifer/model/relation_container.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_container.cr"},{"filename":"jennifer/view/experimental_mapping.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/experimental_mapping.cr"},{"filename":"jennifer/view/base.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr"},{"filename":"jennifer/view/materialized.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/materialized.cr"},{"filename":"jennifer/migration/table_builder/base.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr"},{"filename":"jennifer/migration/table_builder/change_table.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr"},{"filename":"jennifer/migration/table_builder/create_index.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr"},{"filename":"jennifer/migration/table_builder/create_table.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr"},{"filename":"jennifer/migration/table_builder/create_view.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_view.cr"},{"filename":"jennifer/migration/table_builder/drop_index.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_index.cr"},{"filename":"jennifer/migration/table_builder/drop_table.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_table.cr"},{"filename":"jennifer/migration/table_builder/drop_view.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_view.cr"},{"filename":"jennifer/migration/table_builder/raw.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/raw.cr"},{"filename":"jennifer/migration/base.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr"},{"filename":"jennifer/migration/runner.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr"},{"filename":"jennifer/migration/version.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/version.cr"},{"filename":"jennifer.cr","line_number":29,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr"},{"filename":"jennifer/adapter/postgres/migration/base.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/change_enum.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_enum.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_enum.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"VERSION","value":"\"0.4.3\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"NOTE: WIP","summary":"<p><span class=\"flag purple\">NOTE</span>  WIP</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"after_load_hook-macro","html_id":"after_load_hook-macro","name":"after_load_hook","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L355","def":{"name":"after_load_hook","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    require \"./jennifer/adapter/postgres/criteria\"\n    require \"./jennifer/adapter/postgres/numeric\"\n    require \"./jennifer/adapter/postgres/migration/base\"\n    require \"./jennifer/adapter/postgres/migration/table_builder/*\"\n  "}}],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/AbstractMethod","path":"Jennifer/AbstractMethod.html","kind":"class","full_name":"Jennifer::AbstractMethod","name":"AbstractMethod","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(method,klass)-class-method","html_id":"new(method,klass)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(method, klass)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L5","def":{"name":"new","args":[{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(method, klass)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","path":"Jennifer/Adapter.html","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/transactions.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr"},{"filename":"jennifer/adapter/result_parsers.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/result_parsers.cr"},{"filename":"jennifer/adapter/request_methods.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr"},{"filename":"jennifer/adapter/base.cr","line_number":8,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr"},{"filename":"jennifer/adapter.cr","line_number":7,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr"},{"filename":"jennifer/adapter/postgres/sql_notation.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr"},{"filename":"jennifer/adapter/postgres.cr","line_number":12,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr"},{"filename":"jennifer/adapter/postgres/exec_result.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr"},{"filename":"jennifer/adapter/base_sql_generator.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr"},{"filename":"jennifer/adapter/sql_generator.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/sql_generator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DEFAULT_SIZES","value":"{:string => 254, :var_string => 254}","doc":null,"summary":null},{"name":"TABLE_LOCK_TYPES","value":"{\"as\" => \"ACCESS SHARE\", \"rs\" => \"ROW SHARE\", \"re\" => \"ROW EXCLUSIVE\", \"sue\" => \"SHARE UPDATE EXCLUSIVE\", \"s\" => \"SHARE\", \"sre\" => \"SHARE ROW EXCLUSIVE\", \"e\" => \"EXCLUSIVE\", \"ae\" => \"ACCESS EXCLUSIVE\", \"default\" => \"SHARE\"}","doc":null,"summary":null},{"name":"TYPE_TRANSLATIONS","value":"{:integer => \"int\", :short => \"SMALLINT\", :bigint => \"BIGINT\", :oid => \"oid\", :float => \"real\", :double => \"double precision\", :numeric => \"numeric\", :decimal => \"decimal\", :string => \"varchar\", :char => \"char\", :bool => \"boolean\", :text => \"text\", :var_string => \"varchar\", :varchar => \"varchar\", :blchar => \"blchar\", :uuid => \"uuid\", :timestamp => \"timestamp\", :timestamptz => \"timestamptz\", :date_time => \"datetime\", :blob => \"blob\", :bytea => \"bytea\", :json => \"json\", :jsonb => \"jsonb\", :xml => \"xml\", :point => \"point\", :lseg => \"lseg\", :path => \"path\", :box => \"box\", :polygon => \"polygon\", :line => \"line\", :circle => \"circle\"}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[{"id":"adapter-class-method","html_id":"adapter-class-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L28","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L28","def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@adapter || (@@adapter = begin\n  a = adapter_class.not_nil!.build\n  self.adapter = a\n  a.prepare\n  a\nend)"}},{"id":"adapter_class-class-method","html_id":"adapter_class-class-method","name":"adapter_class","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L37","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L37","def":{"name":"adapter_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@adapter_class || (@@adapter_class = adapters[Config.adapter])"}},{"id":"adapters-class-method","html_id":"adapters-class-method","name":"adapters","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L53","def":{"name":"adapters","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@adapters"}},{"id":"arg_replacement(rhs:Array(Bool|Float32|Int32|Jennifer::QueryBuilder::Criteria|String))-class-method","html_id":"arg_replacement(rhs:Array(Bool|Float32|Int32|Jennifer::QueryBuilder::Criteria|String))-class-method","name":"arg_replacement","doc":null,"summary":null,"abstract":false,"args":[{"name":"rhs","doc":null,"default_value":"","external_name":"rhs","restriction":"Array(Bool | Float32 | Int32 | Jennifer::QueryBuilder::Criteria | String)"}],"args_string":"(rhs : Array(Bool | Float32 | Int32 | Jennifer::QueryBuilder::Criteria | String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L45","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L45","def":{"name":"arg_replacement","args":[{"name":"rhs","doc":null,"default_value":"","external_name":"rhs","restriction":"Array(Bool | Float32 | Int32 | Jennifer::QueryBuilder::Criteria | String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter_class.arg_replacement(rhs)"}},{"id":"escape_string(size=1)-class-method","html_id":"escape_string(size=1)-class-method","name":"escape_string","doc":null,"summary":null,"abstract":false,"args":[{"name":"size","doc":null,"default_value":"1","external_name":"size","restriction":""}],"args_string":"(size = <span class=\"n\">1</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L49","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L49","def":{"name":"escape_string","args":[{"name":"size","doc":null,"default_value":"1","external_name":"size","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter_class.escape_string(size)"}},{"id":"exec(*opts)-class-method","html_id":"exec(*opts)-class-method","name":"exec","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L12","def":{"name":"exec","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(*opts)"}},{"id":"query(_query,args=[]ofDB::Any,&block)-class-method","html_id":"query(_query,args=[]ofDB::Any,&amp;block)-class-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":""},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":""}],"args_string":"(_query, args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DB</span><span class=\"t\">::</span><span class=\"t\">Any</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L18","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L18","def":{"name":"query","args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":""},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.query(_query, args) do |rs|\n  yield rs\nend"}},{"id":"register_adapter(name,adapter)-class-method","html_id":"register_adapter(name,adapter)-class-method","name":"register_adapter","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""}],"args_string":"(name, adapter)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L57","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L57","def":{"name":"register_adapter","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"adapter","doc":null,"default_value":"","external_name":"adapter","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapters[name] = adapter"}},{"id":"scalar(*opts)-class-method","html_id":"scalar(*opts)-class-method","name":"scalar","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L12","def":{"name":"scalar","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.scalar(*opts)"}},{"id":"t(value)-class-method","html_id":"t(value)-class-method","name":"t","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L41","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr#L41","def":{"name":"t","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter_class.t(value)"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","path":"Jennifer/Adapter/Base.html","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/RequestMethods","kind":"module","full_name":"Jennifer::Adapter::RequestMethods","name":"RequestMethods"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ResultParsers","kind":"module","full_name":"Jennifer::Adapter::ResultParsers","name":"ResultParsers"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Transactions","kind":"module","full_name":"Jennifer::Adapter::Transactions","name":"Transactions"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/base.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/RequestMethods","kind":"module","full_name":"Jennifer::Adapter::RequestMethods","name":"RequestMethods"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ResultParsers","kind":"module","full_name":"Jennifer::Adapter::ResultParsers","name":"ResultParsers"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Transactions","kind":"module","full_name":"Jennifer::Adapter::Transactions","name":"Transactions"}],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Postgres","kind":"class","full_name":"Jennifer::Adapter::Postgres","name":"Postgres"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[{"id":"arg_replacement(arr)-class-method","html_id":"arg_replacement(arr)-class-method","name":"arg_replacement","doc":null,"summary":null,"abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""}],"args_string":"(arr)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L171","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L171","def":{"name":"arg_replacement","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"escape_string(arr.size)"}},{"id":"build-class-method","html_id":"build-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L22","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L22","def":{"name":"build","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"a = new\na\n"}},{"id":"connection_string(*options)-class-method","html_id":"connection_string(*options)-class-method","name":"connection_string","doc":null,"summary":null,"abstract":false,"args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(*options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L140","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L140","def":{"name":"connection_string","args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"auth_part = Config.user\nif Config.password && (!Config.password.empty?)\n  auth_part = auth_part + \":#{Config.password}\"\nend\nhost_part = Config.host\nif Config.port && Config.port > 0\n  host_part = host_part + Config.port.to_s\nend\nString.build do |s|\n  ((((s << Config.adapter) << \"://\") << auth_part) << \"@\") << host_part\n  if options.includes?(:db)\n    (s << \"/\") << Config.db\n  end\n  s << \"?\"\n  {% if true %}\n          [\n            {% for arg in Config::CONNECTION_URI_PARAMS %}\n              \"{{ arg.id }}=#{Config.{{ arg.id }}}\",\n            {% end %}\n          ].join(\"&\", s)\n          {% end %}\nend\n"}},{"id":"create_database-class-method","html_id":"create_database-class-method","name":"create_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L185","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L185","def":{"name":"create_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"db_connection do |db|\n  db.exec(\"CREATE DATABASE #{Config.db}\")\nend"}},{"id":"db_connection(&block)-class-method","html_id":"db_connection(&amp;block)-class-method","name":"db_connection","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L127","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L127","def":{"name":"db_connection","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  DB.open(connection_string) do |db|\n    yield db\n  end\nrescue e\n  puts(e)\n  raise(e)\nend"}},{"id":"drop_database-class-method","html_id":"drop_database-class-method","name":"drop_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L179","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L179","def":{"name":"drop_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"db_connection do |db|\n  db.exec(\"DROP DATABASE #{Config.db}\")\nend"}},{"id":"escape_string(size:Int32=1)-class-method","html_id":"escape_string(size:Int32=1)-class-method","name":"escape_string","doc":null,"summary":null,"abstract":false,"args":[{"name":"size","doc":null,"default_value":"1","external_name":"size","restriction":"Int32"}],"args_string":"(size : Int32 = <span class=\"n\">1</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L175","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L175","def":{"name":"escape_string","args":[{"name":"size","doc":null,"default_value":"1","external_name":"size","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SqlGenerator.escape_string(size)"}},{"id":"extract_arguments(hash:Hash):NamedTuple()-class-method","html_id":"extract_arguments(hash:Hash):NamedTuple()-class-method","name":"extract_arguments","doc":null,"summary":null,"abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Hash"}],"args_string":"(hash : Hash) : NamedTuple()","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L161","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L161","def":{"name":"extract_arguments","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"NamedTuple(args: Array(Jennifer::DBAny), fields: Array(String))","visibility":"Public","body":"args = [] of DBAny\nfields = [] of String\nhash.each do |key, value|\n  fields << key.to_s\n  args << value\nend\n{args: args, fields: fields}\n"}},{"id":"generate_schema-class-method","html_id":"generate_schema-class-method","name":"generate_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L191","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L191","def":{"name":"generate_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"Not implemented\")"}},{"id":"join_table_name(table1:String|Symbol,table2:String|Symbol)-class-method","html_id":"join_table_name(table1:String|Symbol,table2:String|Symbol)-class-method","name":"join_table_name","doc":null,"summary":null,"abstract":false,"args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":"String | Symbol"},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":"String | Symbol"}],"args_string":"(table1 : String | Symbol, table2 : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L136","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L136","def":{"name":"join_table_name","args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":"String | Symbol"},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[table1.to_s, table2.to_s].sort.join(\"_\")"}},{"id":"load_schema-class-method","html_id":"load_schema-class-method","name":"load_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L195","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L195","def":{"name":"load_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"Not implemented\")"}},{"id":"t(field:Nil)-class-method","html_id":"t(field:Nil)-class-method","name":"t","doc":"filter out value; should be refactored","summary":"<p>filter out value; should be refactored</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Nil"}],"args_string":"(field : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L200","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L200","def":{"name":"t","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"NULL\""}},{"id":"t(field:String)-class-method","html_id":"t(field:String)-class-method","name":"t","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"}],"args_string":"(field : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L204","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L204","def":{"name":"t","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(\"'\" + field) + \"'\""}},{"id":"t(field)-class-method","html_id":"t(field)-class-method","name":"t","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"args_string":"(field)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L208","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L208","def":{"name":"t","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"field"}}],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L18","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L18","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"add_column(table:String|Symbol,name:String|Symbol,opts)-instance-method","html_id":"add_column(table:String|Symbol,name:String|Symbol,opts)-instance-method","name":"add_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(table : String | Symbol, name : String | Symbol, opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L253","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L253","def":{"name":"add_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = String.build do |s|\n  ((s << \"ALTER TABLE \") << table) << \" ADD COLUMN \"\n  column_definition(name, opts, s)\nend\nexec(query)\n"}},{"id":"add_index(table:String|Symbol,name:String|Symbol,options)-instance-method","html_id":"add_index(table:String|Symbol,name:String|Symbol,options)-instance-method","name":"add_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(table : String | Symbol, name : String | Symbol, options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L226","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L226","def":{"name":"add_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = String.build do |s|\n  s << \"CREATE \"\n  if options[:type]?\n    s << (index_type_translate(options[:type]))\n  end\n  ((((s << \"INDEX \") << name) << \" ON \") << table) << \"(\"\n  fields = (options.as(Hash))[:fields].as(Array)\n  fields.each_with_index do |f, i|\n    if i != 0\n      s << \",\"\n    end\n    s << f\n    if options[:length]? && (options[:length].as(Hash))[f]?\n      ((s << \"(\") << (options[:length].as(Hash))[f]) << \")\"\n    end\n    if options[:order]? && (options[:order].as(Hash))[f]?\n      (s << \" \") << (options[:order].as(Hash))[f].to_s.upcase\n    end\n  end\n  s << \")\"\nend\nexec(query)\n"}},{"id":"bulk_insert(collection:Array(Model::Base))-instance-method","html_id":"bulk_insert(collection:Array(Model::Base))-instance-method","name":"bulk_insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":"Array(Model::Base)"}],"args_string":"(collection : Array(Model::Base))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L100","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L100","def":{"name":"bulk_insert","args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":"Array(Model::Base)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if collection.empty?\n  return collection\nend\nklass = collection[0].class\nfields = collection[0].arguments_to_insert[:fields]\nvalues = collection.flat_map do |__arg1|\n  __arg1.arguments_to_insert[:args]\nend\nparsed_query = parse_query(SqlGenerator.bulk_insert(klass.table_name, fields, collection.size), values)\nwith_table_lock(klass.table_name) do\n  exec(parsed_query, values)\n  if klass.primary_auto_incrementable?\n    (((klass.all.order({klass.primary => :desc})).limit(collection.size)).pluck(:id)).reverse_each.each_with_index do |id, i|\n      collection[i].init_primary_field(id)\n    end\n  end\nend\ncollection\n"}},{"id":"bulk_insert(table:String,fields:Array(String),values:Array(Array(DBAny))):Nil-instance-method","html_id":"bulk_insert(table:String,fields:Array(String),values:Array(Array(DBAny))):Nil-instance-method","name":"bulk_insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(Array(DBAny))"}],"args_string":"(table : String, fields : Array(String), values : Array(Array(DBAny))) : Nil","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L118","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L118","def":{"name":"bulk_insert","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(Array(DBAny))"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"if values.empty?\n  return\nend\nwith_table_lock(table) do\n  flat_values = values.flatten\n  exec(parse_query(SqlGenerator.bulk_insert(table, fields, values.size), flat_values), flat_values)\nend\nnil\n"}},{"id":"change_column(table:String|Symbol,old_name:String|Symbol,new_name:String|Symbol,opts)-instance-method","html_id":"change_column(table:String|Symbol,old_name:String|Symbol,new_name:String|Symbol,opts)-instance-method","name":"change_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":"String | Symbol"},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String | Symbol"},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(table : String | Symbol, old_name : String | Symbol, new_name : String | Symbol, opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L262","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L262","def":{"name":"change_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":"String | Symbol"},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String | Symbol"},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = String.build do |s|\n  ((((s << \"ALTER TABLE \") << table) << \" CHANGE COLUMN \") << old_name) << \" \"\n  column_definition(new_name, opts, s)\nend\nexec(query)\n"}},{"id":"change_enum(name:String|Symbol,options)-instance-method","html_id":"change_enum(name:String|Symbol,options)-instance-method","name":"change_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L295","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L295","def":{"name":"change_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(BaseException.new(\"Current adapter doesn't support this method.\"))"}},{"id":"column_exists?(table,name)-instance-method","html_id":"column_exists?(table,name)-instance-method","name":"column_exists?","doc":null,"summary":null,"abstract":true,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L337","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L337","def":{"name":"column_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"count(query:QueryBuilder::Query)-instance-method","html_id":"count(query:QueryBuilder::Query)-instance-method","name":"count","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"args_string":"(query : QueryBuilder::Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L95","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L95","def":{"name":"count","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args = query.select_args\n((scalar(SqlGenerator.count(query), args)).as(Int64)).to_i\n"}},{"id":"create_enum(name:String|Symbol,options)-instance-method","html_id":"create_enum(name:String|Symbol,options)-instance-method","name":"create_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L287","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L287","def":{"name":"create_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(BaseException.new(\"Current adapter doesn't support this method.\"))"}},{"id":"create_table(builder:Migration::TableBuilder::CreateTable)-instance-method","html_id":"create_table(builder:Migration::TableBuilder::CreateTable)-instance-method","name":"create_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"Migration::TableBuilder::CreateTable"}],"args_string":"(builder : Migration::TableBuilder::CreateTable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L275","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L275","def":{"name":"create_table","args":[{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"Migration::TableBuilder::CreateTable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buffer = String.build do |s|\n  ((s << \"CREATE TABLE \") << builder.name) << \" (\"\n  builder.fields.each_with_index do |__arg2, i|\n    name = __arg2[0]\n    options = __arg2[1]\n    if i != 0\n      s << \", \"\n    end\n    column_definition(name, options, s)\n  end\n  s << \")\"\nend\nexec(buffer)\n"}},{"id":"create_view(name:String|Symbol,query,silent:Bool=true)-instance-method","html_id":"create_view(name:String|Symbol,query,silent:Bool=true)-instance-method","name":"create_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"silent","doc":null,"default_value":"true","external_name":"silent","restriction":"Bool"}],"args_string":"(name : String | Symbol, query, silent : Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L299","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L299","def":{"name":"create_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"silent","doc":null,"default_value":"true","external_name":"silent","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buff = String.build do |s|\n  s << \"CREATE \"\n  if silent\n    s << \"OR REPLACE \"\n  end\n  (((s << \"VIEW \") << name) << \" AS \") << (SqlGenerator.select(query))\nend\nexec(buff)\n"}},{"id":"db:DB::Database-instance-method","html_id":"db:DB::Database-instance-method","name":"db","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : DB::Database","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L16","def":{"name":"db","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@db"}},{"id":"default_type_size(name)-instance-method","html_id":"default_type_size(name)-instance-method","name":"default_type_size","doc":null,"summary":null,"abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L339","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L339","def":{"name":"default_type_size","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"delete(query:QueryBuilder::Query)-instance-method","html_id":"delete(query:QueryBuilder::Query)-instance-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"args_string":"(query : QueryBuilder::Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L85","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L85","def":{"name":"delete","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args = query.select_args\nexec(SqlGenerator.delete(query), args)\n"}},{"id":"drop_column(table:String|Symbol,name:String|Symbol)-instance-method","html_id":"drop_column(table:String|Symbol,name:String|Symbol)-instance-method","name":"drop_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(table : String | Symbol, name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L249","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L249","def":{"name":"drop_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(\"ALTER TABLE #{table} DROP COLUMN #{name}\")"}},{"id":"drop_enum(name:String|Symbol,options)-instance-method","html_id":"drop_enum(name:String|Symbol,options)-instance-method","name":"drop_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L291","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L291","def":{"name":"drop_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(BaseException.new(\"Current adapter doesn't support this method.\"))"}},{"id":"drop_index(table:String|Symbol,name:String|Symbol)-instance-method","html_id":"drop_index(table:String|Symbol,name:String|Symbol)-instance-method","name":"drop_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(table : String | Symbol, name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L245","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L245","def":{"name":"drop_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Symbol"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(\"DROP INDEX #{name} ON #{table}\")"}},{"id":"drop_table(builder:Migration::TableBuilder::DropTable)-instance-method","html_id":"drop_table(builder:Migration::TableBuilder::DropTable)-instance-method","name":"drop_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"Migration::TableBuilder::DropTable"}],"args_string":"(builder : Migration::TableBuilder::DropTable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L271","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L271","def":{"name":"drop_table","args":[{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"Migration::TableBuilder::DropTable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(\"DROP TABLE #{builder.name}\")"}},{"id":"drop_view(name:String|Symbol,silent:Bool=true)-instance-method","html_id":"drop_view(name:String|Symbol,silent:Bool=true)-instance-method","name":"drop_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"silent","doc":null,"default_value":"true","external_name":"silent","restriction":"Bool"}],"args_string":"(name : String | Symbol, silent : Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L308","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L308","def":{"name":"drop_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"silent","doc":null,"default_value":"true","external_name":"silent","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buff = String.build do |s|\n  s << \"DROP VIEW \"\n  if silent\n    s << \"IF EXISTS \"\n  end\n  s << name\nend\nexec(buff)\n"}},{"id":"exec(_query,args=[]ofDB::Any)-instance-method","html_id":"exec(_query,args=[]ofDB::Any)-instance-method","name":"exec","doc":null,"summary":null,"abstract":false,"args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":""},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":""}],"args_string":"(_query, args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DB</span><span class=\"t\">::</span><span class=\"t\">Any</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L31","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L31","def":{"name":"exec","args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":""},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  time = Time.monotonic\n  res = with_connection do |conn|\n    conn.exec(_query, args)\n  end\n  time = Time.monotonic - time\n  Config.logger.debug do\n    regular_query_message(time, _query, args)\n  end\n  res\nrescue e : BaseException\n  BadQuery.prepend_information(e, _query, args)\n  raise(e)\nrescue e : Exception\n  raise(BadQuery.new(e.message, _query, args))\nend"}},{"id":"exists?(query:QueryBuilder::Query)-instance-method","html_id":"exists?(query:QueryBuilder::Query)-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"args_string":"(query : QueryBuilder::Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L90","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L90","def":{"name":"exists?","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args = query.select_args\n(scalar(SqlGenerator.exists(query), args)) == 1\n"}},{"id":"index_exists?(table,name)-instance-method","html_id":"index_exists?(table,name)-instance-method","name":"index_exists?","doc":null,"summary":null,"abstract":true,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L336","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L336","def":{"name":"index_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"insert(obj)-instance-method","html_id":"insert(obj)-instance-method","name":"insert","doc":null,"summary":null,"abstract":true,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""}],"args_string":"(obj)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L334","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L334","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"parse_query(q:String)-instance-method","html_id":"parse_query(q:String)-instance-method","name":"parse_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":"String"}],"args_string":"(q : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L73","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L73","def":{"name":"parse_query","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SqlGenerator.parse_query(q)"}},{"id":"parse_query(q:String,args:Array)-instance-method","html_id":"parse_query(q:String,args:Array)-instance-method","name":"parse_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":"String"},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array"}],"args_string":"(q : String, args : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L69","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L69","def":{"name":"parse_query","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":"String"},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SqlGenerator.parse_query(q, args.size)"}},{"id":"prepare-instance-method","html_id":"prepare-instance-method","name":"prepare","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L27","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L27","def":{"name":"prepare","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::Model::Base.models.each(&.actual_table_field_count)"}},{"id":"query(_query,args=[]ofDB::Any,&block)-instance-method","html_id":"query(_query,args=[]ofDB::Any,&amp;block)-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":""},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":""}],"args_string":"(_query, args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DB</span><span class=\"t\">::</span><span class=\"t\">Any</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L44","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L44","def":{"name":"query","args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":""},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  time = Time.monotonic\n  res = with_connection do |conn|\n    conn.query(_query, args) do |rs|\n      time = Time.monotonic - time\n      yield rs\n    end\n  end\n  Config.logger.debug do\n    regular_query_message(time, _query, args)\n  end\n  res\nrescue e : BaseException\n  BadQuery.prepend_information(e, _query, args)\n  raise(e)\nrescue e : Exception\n  raise(BadQuery.new(e.message, _query, args))\nend"}},{"id":"query_array(_query:String,klass:T.class,field_count:Int32=1)forallT-instance-method","html_id":"query_array(_query:String,klass:T.class,field_count:Int32=1)forallT-instance-method","name":"query_array","doc":null,"summary":null,"abstract":false,"args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":"String"},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"},{"name":"field_count","doc":null,"default_value":"1","external_name":"field_count","restriction":"Int32"}],"args_string":"(_query : String, klass : T.class, field_count : Int32 = <span class=\"n\">1</span>) forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L317","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L317","def":{"name":"query_array","args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":"String"},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"},{"name":"field_count","doc":null,"default_value":"1","external_name":"field_count","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = [] of Array(T)\nquery(_query) do |rs|\n  rs.each do\n    temp = [] of T\n    field_count.times do\n      temp << (rs.read(T))\n    end\n    result << temp\n  end\nend\nresult\n"}},{"id":"ready_to_migrate!-instance-method","html_id":"ready_to_migrate!-instance-method","name":"ready_to_migrate!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L214","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L214","def":{"name":"ready_to_migrate!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if table_exists?(Migration::Version.table_name)\n  return\nend\ntb = Migration::TableBuilder::CreateTable.new(Migration::Version.table_name)\n(tb.integer(:id, {:primary => true, :auto_increment => true})).string(:version, {:size => 17})\ncreate_table(tb)\n"}},{"id":"refresh_materialized_view(name)-instance-method","html_id":"refresh_materialized_view(name)-instance-method","name":"refresh_materialized_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L343","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L343","def":{"name":"refresh_materialized_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(:refresh_materialized_view, self.class))"}},{"id":"rename_table(old_name:String|Symbol,new_name:String|Symbol)-instance-method","html_id":"rename_table(old_name:String|Symbol,new_name:String|Symbol)-instance-method","name":"rename_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":"String | Symbol"},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String | Symbol"}],"args_string":"(old_name : String | Symbol, new_name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L222","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L222","def":{"name":"rename_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":"String | Symbol"},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(\"ALTER TABLE #{old_name.to_s} RENAME #{new_name.to_s}\")"}},{"id":"scalar(_query,args:Array(DB::Any)=[]ofDB::Any)-instance-method","html_id":"scalar(_query,args:Array(DB::Any)=[]ofDB::Any)-instance-method","name":"scalar","doc":null,"summary":null,"abstract":false,"args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":""},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":"Array(DB::Any)"}],"args_string":"(_query, args : Array(DB::Any) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DB</span><span class=\"t\">::</span><span class=\"t\">Any</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L56","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L56","def":{"name":"scalar","args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":""},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":"Array(DB::Any)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  time = Time.monotonic\n  res = with_connection do |conn|\n    conn.scalar(_query, args)\n  end\n  time = Time.monotonic - time\n  Config.logger.debug do\n    regular_query_message(time, _query, args)\n  end\n  res\nrescue e : BaseException\n  BadQuery.prepend_information(e, _query, args)\n  raise(e)\nrescue e : Exception\n  raise(BadQuery.new(e.message, _query, args))\nend"}},{"id":"table_column_count(table)-instance-method","html_id":"table_column_count(table)-instance-method","name":"table_column_count","doc":null,"summary":null,"abstract":true,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L340","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L340","def":{"name":"table_column_count","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"table_exists?(table)-instance-method","html_id":"table_exists?(table)-instance-method","name":"table_exists?","doc":null,"summary":null,"abstract":true,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L335","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L335","def":{"name":"table_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"translate_type(name)-instance-method","html_id":"translate_type(name)-instance-method","name":"translate_type","doc":null,"summary":null,"abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L338","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L338","def":{"name":"translate_type","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"truncate(table_name:String)-instance-method","html_id":"truncate(table_name:String)-instance-method","name":"truncate","doc":null,"summary":null,"abstract":false,"args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":"String"}],"args_string":"(table_name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L81","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L81","def":{"name":"truncate","args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(SqlGenerator.truncate(table_name))"}},{"id":"truncate(klass:Class)-instance-method","html_id":"truncate(klass:Class)-instance-method","name":"truncate","doc":null,"summary":null,"abstract":false,"args":[{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"Class"}],"args_string":"(klass : Class)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L77","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L77","def":{"name":"truncate","args":[{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"Class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"truncate(klass.table_name)"}},{"id":"update(q,h)-instance-method","html_id":"update(q,h)-instance-method","name":"update","doc":null,"summary":null,"abstract":true,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":""}],"args_string":"(q, h)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L333","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L333","def":{"name":"update","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"update(obj)-instance-method","html_id":"update(obj)-instance-method","name":"update","doc":null,"summary":null,"abstract":true,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""}],"args_string":"(obj)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L332","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L332","def":{"name":"update","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"view_exists?(name,silent=true)-instance-method","html_id":"view_exists?(name,silent=true)-instance-method","name":"view_exists?","doc":null,"summary":null,"abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"silent","doc":null,"default_value":"true","external_name":"silent","restriction":""}],"args_string":"(name, silent = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L331","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L331","def":{"name":"view_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"silent","doc":null,"default_value":"true","external_name":"silent","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"with_table_lock(table:String,type:String=&quot;default&quot;,&block)-instance-method","html_id":"with_table_lock(table:String,type:String=&amp;quot;default&amp;quot;,&amp;block)-instance-method","name":"with_table_lock","doc":null,"summary":null,"abstract":true,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"type","doc":null,"default_value":"\"default\"","external_name":"type","restriction":"String"}],"args_string":"(table : String, type : String = <span class=\"s\">&quot;default&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L341","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base.cr#L341","def":{"name":"with_table_lock","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"type","doc":null,"default_value":"\"default\"","external_name":"type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSqlGenerator","path":"Jennifer/Adapter/BaseSqlGenerator.html","kind":"class","full_name":"Jennifer::Adapter::BaseSqlGenerator","name":"BaseSqlGenerator","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/base_sql_generator.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"ARRAY_ESCAPE","value":"\"\\\\\\\\\\\\\\\\\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/SqlGenerator","kind":"class","full_name":"Jennifer::Adapter::SqlGenerator","name":"SqlGenerator"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[{"id":"body_section(io:String::Builder,query)-class-method","html_id":"body_section(io:String::Builder,query)-class-method","name":"body_section","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L109","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L109","def":{"name":"body_section","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"join_clause(io, query)\nwhere_clause(io, query)\ngroup_clause(io, query)\norder_clause(io, query)\nlimit_clause(io, query)\nhaving_clause(io, query)\nlock_clause(io, query)\nunion_clause(io, query)\n"}},{"id":"bulk_insert(table:String,field_names:Array(String),rows:Int32)-class-method","html_id":"bulk_insert(table:String,field_names:Array(String),rows:Int32)-class-method","name":"bulk_insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"field_names","doc":null,"default_value":"","external_name":"field_names","restriction":"Array(String)"},{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":"Int32"}],"args_string":"(table : String, field_names : Array(String), rows : Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L21","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L21","def":{"name":"bulk_insert","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"field_names","doc":null,"default_value":"","external_name":"field_names","restriction":"Array(String)"},{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |s|\n  ((s << \"INSERT INTO \") << table) << \"(\"\n  field_names.join(\", \", s) do |e|\n    s << e\n  end\n  escaped_row = (\"(\" + (Adapter.adapter_class.escape_string(field_names.size))) + \")\"\n  s << \") VALUES \"\n  rows.times.join(\", \", s) do\n    s << escaped_row\n  end\nend"}},{"id":"count(query)-class-method","html_id":"count(query)-class-method","name":"count","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L67","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L67","def":{"name":"count","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"parse_query(String.build do |s|\n  s << \"SELECT COUNT(*) \"\n  from_clause(s, query)\n  body_section(s, query)\nend, query.select_args_count)"}},{"id":"delete(query)-class-method","html_id":"delete(query)-class-method","name":"delete","doc":"TODO: unify method generting - #parse_query should be called here or by caller","summary":"<p><span class=\"flag orange\">TODO</span>  unify method generting - #parse_query should be called here or by caller</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L44","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L44","def":{"name":"delete","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"parse_query(String.build do |s|\n  s << \"DELETE \"\n  from_clause(s, query)\n  body_section(s, query)\nend, query.select_args_count)"}},{"id":"escape_string(size:Int32=1)-class-method","html_id":"escape_string(size:Int32=1)-class-method","name":"escape_string","doc":null,"summary":null,"abstract":false,"args":[{"name":"size","doc":null,"default_value":"1","external_name":"size","restriction":"Int32"}],"args_string":"(size : Int32 = <span class=\"n\">1</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L244","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L244","def":{"name":"escape_string","args":[{"name":"size","doc":null,"default_value":"1","external_name":"size","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case size\nwhen 1\n  \"%s\"\nwhen 2\n  \"%s, %s\"\nwhen 3\n  \"%s, %s, %s\"\nelse\n  size.times.map do\n    \"%s\"\n  end.join(\", \")\nend"}},{"id":"exists(query)-class-method","html_id":"exists(query)-class-method","name":"exists","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L55","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L55","def":{"name":"exists","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"parse_query(String.build do |s|\n  s << \"SELECT EXISTS(SELECT 1 \"\n  from_clause(s, query)\n  body_section(s, query)\n  s << \")\"\nend, query.select_args_count)"}},{"id":"from_clause(io:String::Builder,query,from=nil)-class-method","html_id":"from_clause(io:String::Builder,query,from=nil)-class-method","name":"from_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"from","doc":null,"default_value":"nil","external_name":"from","restriction":""}],"args_string":"(io : String::Builder, query, from = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L151","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L151","def":{"name":"from_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"from","doc":null,"default_value":"nil","external_name":"from","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io << \"FROM \"\nif query._from\nelse\n  return (io << (from || query._table)) << \"\\n\"\nend\n(io << \"( \") << (if query._from.is_a?(String)\n  query._from\nelse\n  if query.is_a?(QueryBuilder::ModelQuery)\n    SqlGenerator.select(query._from.as(QueryBuilder::ModelQuery))\n  else\n    SqlGenerator.select(query._from.as(QueryBuilder::Query))\n  end\nend)\nio << \" ) \"\n"}},{"id":"group_clause(io:String::Builder,query)-class-method","html_id":"group_clause(io:String::Builder,query)-class-method","name":"group_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L167","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L167","def":{"name":"group_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (!query._groups) || query._groups.empty?\n  return\nend\nio << \"GROUP BY \"\nquery._groups.not_nil!.each.join(\", \", io) do |c|\n  io << c.as_sql\nend\nio << \"\\n\"\n"}},{"id":"having_clause(io:String::Builder,query)-class-method","html_id":"having_clause(io:String::Builder,query)-class-method","name":"having_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L174","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L174","def":{"name":"having_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._having\nelse\n  return\nend\n((io << \"HAVING \") << query._having.not_nil!.as_sql) << \"\\n\"\n"}},{"id":"insert(table,hash)-class-method","html_id":"insert(table,hash)-class-method","name":"insert","doc":"Generates insert query","summary":"<p>Generates insert query</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"args_string":"(table, hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L7","def":{"name":"insert","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |s|\n  ((s << \"INSERT INTO \") << table) << \"(\"\n  hash.keys.join(\", \", s)\n  ((s << \") VALUES (\") << (Adapter.adapter_class.escape_string(hash.size))) << \")\"\nend"}},{"id":"insert(obj:Model::Base)-class-method","html_id":"insert(obj:Model::Base)-class-method","name":"insert","doc":"Generates query for inserting new record to db","summary":"<p>Generates query for inserting new record to db</p>","abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L16","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"Not implemented\")"}},{"id":"join_clause(io:String::Builder,query)-class-method","html_id":"join_clause(io:String::Builder,query)-class-method","name":"join_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L179","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L179","def":{"name":"join_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._joins\nelse\n  return\nend\nquery._joins.not_nil!.join(\" \", io) do |j|\n  io << j.as_sql\nend\n"}},{"id":"json_path(path:QueryBuilder::JSONSelector)-class-method","html_id":"json_path(path:QueryBuilder::JSONSelector)-class-method","name":"json_path","doc":null,"summary":null,"abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"QueryBuilder::JSONSelector"}],"args_string":"(path : QueryBuilder::JSONSelector)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L228","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L228","def":{"name":"json_path","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"QueryBuilder::JSONSelector"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"Not Implemented\")"}},{"id":"limit_clause(io:String::Builder,query)-class-method","html_id":"limit_clause(io:String::Builder,query)-class-method","name":"limit_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L193","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L193","def":{"name":"limit_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._limit\n  io.print(\"LIMIT \", query._limit.not_nil!, \"\\n\")\nend\nif query._offset\n  io.print(\"OFFSET \", query._offset.not_nil!, \"\\n\")\nend\n"}},{"id":"lock_clause(io:String::Builder,query)-class-method","html_id":"lock_clause(io:String::Builder,query)-class-method","name":"lock_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L127","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L127","def":{"name":"lock_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._lock.nil?\n  return\nend\nio << (query._lock.is_a?(String) ? query._lock : \" FOR UPDATE \")\n"}},{"id":"modify(q,modifications:Hash)-class-method","html_id":"modify(q,modifications:Hash)-class-method","name":"modify","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"modifications","doc":null,"default_value":"","external_name":"modifications","restriction":"Hash"}],"args_string":"(q, modifications : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L97","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L97","def":{"name":"modify","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"modifications","doc":null,"default_value":"","external_name":"modifications","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"esc = escape_string(1)\nString.build do |s|\n  ((s << \"UPDATE \") << q.table) << \" SET \"\n  modifications.map do |field, value|\n    \"#{field.to_s} = #{field.to_s} #{value[:operator]} #{esc}\"\n  end.join(\", \", s)\n  s << \"\\n\"\n  body_section(s, q)\nend\n"}},{"id":"operator_to_sql(operator:Symbol)-class-method","html_id":"operator_to_sql(operator:Symbol)-class-method","name":"operator_to_sql","doc":null,"summary":null,"abstract":false,"args":[{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":"Symbol"}],"args_string":"(operator : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L207","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L207","def":{"name":"operator_to_sql","args":[{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case operator\nwhen :like, :ilike\n  \"LIKE\"\nwhen :not_like\n  \"NOT LIKE\"\nwhen :regexp\n  \"REGEXP\"\nwhen :not_regexp\n  \"NOT REGEXP\"\nwhen :==\n  \"=\"\nwhen :is\n  \"IS\"\nwhen :is_not\n  \"IS NOT\"\nelse\n  operator.to_s\nend"}},{"id":"order_clause(io:String::Builder,query)-class-method","html_id":"order_clause(io:String::Builder,query)-class-method","name":"order_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L198","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L198","def":{"name":"order_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (!query._order) || query._order.empty?\n  return\nend\nio << \"ORDER BY \"\nquery._order.not_nil!.join(\", \", io) do |__arg0|\n  k = __arg0[0]\n  v = __arg0[1]\n  io.print(k.as_sql, \" \", v.upcase)\nend\nio << \"\\n\"\n"}},{"id":"parse_query(query:String,arg_count:Int32)-class-method","html_id":"parse_query(query:String,arg_count:Int32)-class-method","name":"parse_query","doc":"TODO: optimize array initializing","summary":"<p><span class=\"flag orange\">TODO</span>  optimize array initializing</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"arg_count","doc":null,"default_value":"","external_name":"arg_count","restriction":"Int32"}],"args_string":"(query : String, arg_count : Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L258","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L258","def":{"name":"parse_query","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"arg_count","doc":null,"default_value":"","external_name":"arg_count","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"arr = [] of String\narg_count.times do\n  arr << \"?\"\nend\nquery % arr\n"}},{"id":"parse_query(query:String)-class-method","html_id":"parse_query(query:String)-class-method","name":"parse_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"}],"args_string":"(query : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L266","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L266","def":{"name":"parse_query","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query"}},{"id":"quote(value:Nil)-class-method","html_id":"quote(value:Nil)-class-method","name":"quote","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"args_string":"(value : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L232","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L232","def":{"name":"quote","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"NULL\""}},{"id":"quote(value:Bool)-class-method","html_id":"quote(value:Bool)-class-method","name":"quote","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"args_string":"(value : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L236","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L236","def":{"name":"quote","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value ? \"TRUE\" : \"FALSE\""}},{"id":"quote(value:Int32|Int16|Float64|Float32)-class-method","html_id":"quote(value:Int32|Int16|Float64|Float32)-class-method","name":"quote","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int32 | Int16 | Float64 | Float32"}],"args_string":"(value : Int32 | Int16 | Float64 | Float32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L240","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L240","def":{"name":"quote","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int32 | Int16 | Float64 | Float32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value.to_s"}},{"id":"select(query,exact_fields=[]ofString)-class-method","html_id":"select(query,exact_fields=[]ofString)-class-method","name":"select","doc":"Generates common select sql request","summary":"<p>Generates common select sql request</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"exact_fields","doc":null,"default_value":"[] of String","external_name":"exact_fields","restriction":""}],"args_string":"(query, exact_fields = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L32","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L32","def":{"name":"select","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"exact_fields","doc":null,"default_value":"[] of String","external_name":"exact_fields","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"String.build do |s|\n  select_clause(s, query, exact_fields)\n  body_section(s, query)\nend"}},{"id":"select_clause(io:String::Builder,query,exact_fields:Array=[]ofString)-class-method","html_id":"select_clause(io:String::Builder,query,exact_fields:Array=[]ofString)-class-method","name":"select_clause","doc":"Renders SELECT and FROM parts","summary":"<p>Renders SELECT and FROM parts</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"exact_fields","doc":null,"default_value":"[] of String","external_name":"exact_fields","restriction":"Array"}],"args_string":"(io : String::Builder, query, exact_fields : Array = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L133","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L133","def":{"name":"select_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"exact_fields","doc":null,"default_value":"[] of String","external_name":"exact_fields","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io << \"SELECT \"\nif query._distinct\n  io << \"DISTINCT \"\nend\nif !query._raw_select\n  table = query._table\n  if !exact_fields.empty?\n    exact_fields.join(\", \", io) do |f|\n      io << \"#{table}.#{f}\"\n    end\n  else\n    query._select_fields.not_nil!.join(\", \", io) do |f|\n      io << f.definition\n    end\n  end\nelse\n  io << query._raw_select.not_nil!\nend\nio << \"\\n\"\nfrom_clause(io, query)\n"}},{"id":"truncate(table:String)-class-method","html_id":"truncate(table:String)-class-method","name":"truncate","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"}],"args_string":"(table : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L39","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L39","def":{"name":"truncate","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"TRUNCATE #{table}\""}},{"id":"union_clause(io:String::Builder,query)-class-method","html_id":"union_clause(io:String::Builder,query)-class-method","name":"union_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(io : String::Builder, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L120","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L120","def":{"name":"union_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query._unions\nelse\n  return\nend\nquery._unions.not_nil!.each do |u|\n  (io << \" UNION \") << (self.select(u))\nend\n"}},{"id":"update(query,options:Hash)-class-method","html_id":"update(query,options:Hash)-class-method","name":"update","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(query, options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L87","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L87","def":{"name":"update","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"esc = Adapter.adapter_class.escape_string(1)\nString.build do |s|\n  ((s << \"UPDATE \") << query.table) << \" SET \"\n  options.map do |k, v|\n    \"#{k.to_s}= #{esc}\"\n  end.join(\", \", s)\n  s << \"\\n\"\n  body_section(s, query)\nend\n"}},{"id":"update(obj:Model::Base)-class-method","html_id":"update(obj:Model::Base)-class-method","name":"update","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L78","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L78","def":{"name":"update","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"esc = escape_string(1)\nString.build do |s|\n  ((s << \"UPDATE \") << obj.class.table_name) << \" SET \"\n  obj.arguments_to_save[:fields].map do |f|\n    \"#{f}= #{esc}\"\n  end.join(\", \", s)\n  (((s << \" WHERE \") << obj.class.primary_field_name) << \" = \") << esc\nend\n"}},{"id":"where_clause(io:String::Builder,query:QueryBuilder::Query|QueryBuilder::ModelQuery)-class-method","html_id":"where_clause(io:String::Builder,query:QueryBuilder::Query|QueryBuilder::ModelQuery)-class-method","name":"where_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query | QueryBuilder::ModelQuery"}],"args_string":"(io : String::Builder, query : QueryBuilder::Query | QueryBuilder::ModelQuery)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L184","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L184","def":{"name":"where_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query | QueryBuilder::ModelQuery"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if query.tree\n  where_clause(io, query.tree.not_nil!)\nend"}},{"id":"where_clause(io:String::Builder,tree)-class-method","html_id":"where_clause(io:String::Builder,tree)-class-method","name":"where_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"tree","doc":null,"default_value":"","external_name":"tree","restriction":""}],"args_string":"(io : String::Builder, tree)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L188","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/base_sql_generator.cr#L188","def":{"name":"where_clause","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"String::Builder"},{"name":"tree","doc":null,"default_value":"","external_name":"tree","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if tree\nelse\n  return\nend\n((io << \"WHERE \") << tree.not_nil!.as_sql) << \"\\n\"\n"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/EnumType","path":"Jennifer/Adapter/EnumType.html","kind":"alias","full_name":"Jennifer::Adapter::EnumType","name":"EnumType","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/postgres.cr","line_number":13,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"Slice(UInt8)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Postgres","path":"Jennifer/Adapter/Postgres.html","kind":"class","full_name":"Jennifer::Adapter::Postgres","name":"Postgres","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/RequestMethods","kind":"module","full_name":"Jennifer::Adapter::RequestMethods","name":"RequestMethods"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ResultParsers","kind":"module","full_name":"Jennifer::Adapter::ResultParsers","name":"ResultParsers"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Transactions","kind":"module","full_name":"Jennifer::Adapter::Transactions","name":"Transactions"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres.cr","line_number":74,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr"},{"filename":"jennifer/adapter/postgres/exec_result.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[{"id":"bulk_insert(collection:Array(Model::Base))-class-method","html_id":"bulk_insert(collection:Array(Model::Base))-class-method","name":"bulk_insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":"Array(Model::Base)"}],"args_string":"(collection : Array(Model::Base))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L269","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L269","def":{"name":"bulk_insert","args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":"Array(Model::Base)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts = collection.flat_map do |__arg0|\n  __arg0.arguments_to_insert[:args]\nend\nquery = parse_query(SqlGenerator.bulk_insert(collection))\naffected = (exec(qyery, opts)).rows_affected\nif true\n  if affected == collection.size\n  else\n    raise(::Jennifer::BaseException.new(\"Bulk insert failed with #{collection.size - affected} records.\"))\n  end\nend\n"}},{"id":"create_database-class-method","html_id":"create_database-class-method","name":"create_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L325","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L325","def":{"name":"create_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts = [Config.db, \"-O\", Config.user, \"-h\", Config.host, \"-U\", Config.user]\n(Process.run(\"PGPASSWORD=#{Config.password} createdb \\\"${@}\\\"\", opts, shell: true)).inspect\n"}},{"id":"drop_database-class-method","html_id":"drop_database-class-method","name":"drop_database","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L330","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L330","def":{"name":"drop_database","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io = IO::Memory.new\nopts = [Config.db, \"-h\", Config.host, \"-U\", Config.user]\ns = Process.run(\"PGPASSWORD=#{Config.password} dropdb \\\"${@}\\\"\", opts, shell: true, output: io, error: io)\nif s.exit_code != 0\n  raise(io.to_s)\nend\n"}},{"id":"generate_schema-class-method","html_id":"generate_schema-class-method","name":"generate_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L339","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L339","def":{"name":"generate_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io = IO::Memory.new\nopts = [\"-U\", Config.user, \"-d\", Config.db, \"-h\", Config.host, \"-s\"]\ns = Process.run(\"PGPASSWORD=#{Config.password} pg_dump \\\"${@}\\\"\", opts, shell: true, output: io)\nFile.write(Config.structure_path, io.to_s)\n"}},{"id":"load_schema-class-method","html_id":"load_schema-class-method","name":"load_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L346","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L346","def":{"name":"load_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io = IO::Memory.new\nopts = [\"-U\", Config.user, \"-d\", Config.db, \"-h\", Config.host, \"-a\", \"-f\", Config.structure_path]\ns = Process.run(\"PGPASSWORD=#{Config.password} psql \\\"${@}\\\"\", opts, shell: true, output: io)\nif s.exit_code != 0\n  raise(\"Cant load schema: exit code #{s.exit_code}\")\nend\n"}}],"constructors":[],"instance_methods":[{"id":"add_index(table,name,options)-instance-method","html_id":"add_index(table,name,options)-instance-method","name":"add_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(table, name, options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L192","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L192","def":{"name":"add_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = String.build do |s|\n  s << \"CREATE \"\n  if options[:type]?\n    s << (index_type_translate(options[:type]))\n  end\n  (((s << \"INDEX \") << name) << \" ON \") << table\n  s << \" (\"\n  (options[:fields].as(Array)).each_with_index do |f, i|\n    if i != 0\n      s << \",\"\n    end\n    s << f\n    if options[:order]? && (options[:order].as(Hash))[f]?\n      (s << \" \") << (options[:order].as(Hash))[f].to_s.upcase\n    end\n  end\n  s << \")\"\nend\nexec(query)\n"}},{"id":"change_column(table,old_name,new_name,opts)-instance-method","html_id":"change_column(table,old_name,new_name,opts)-instance-method","name":"change_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(table, old_name, new_name, opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L213","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L213","def":{"name":"change_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"column_name_part = \" ALTER COLUMN #{old_name} \"\nquery = String.build do |s|\n  (s << \"ALTER TABLE \") << table\n  if opts[:type]?\n    (s << column_name_part) << \" TYPE \"\n    column_type_definition(opts, s)\n    s << \",\"\n  end\n  if opts[:null]?\n    s << column_name_part\n    if opts[:null]\n      s << \" DROP NOT NULL\"\n    else\n      s << \" SET NOT NULL\"\n    end\n    s << \",\"\n  end\n  if opts[:default]?\n    s << column_name_part\n    if (opts[:default].is_a?(Symbol)) && ((opts[:default].as(Symbol)) == (:drop))\n      s << \"DROP DEFAULT \"\n    else\n      (s << \"SET DEFAULT \") << (self.class.t(opts[:default]))\n    end\n    s << \",\"\n  end\n  if old_name.to_s != new_name.to_s\n    (((s << \" RENAME COLUMN \") << old_name) << \" TO \") << new_name\n    s << \",\"\n  end\nend\nexec(query[0...-1])\n"}},{"id":"column_exists?(table,name)-instance-method","html_id":"column_exists?(table,name)-instance-method","name":"column_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L139","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L139","def":{"name":"column_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Query[\"information_schema.columns\"].where do\n  (_table_name == table) & (_column_name == name)\nend.exists?"}},{"id":"data_type_exists?(name)-instance-method","html_id":"data_type_exists?(name)-instance-method","name":"data_type_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L158","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L158","def":{"name":"data_type_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Query[\"pg_type\"].where do\n  _typname == name\nend.exists?"}},{"id":"default_type_size(name)-instance-method","html_id":"default_type_size(name)-instance-method","name":"default_type_size","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L96","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L96","def":{"name":"default_type_size","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter::DEFAULT_SIZES[name]?"}},{"id":"define_enum(name,values)-instance-method","html_id":"define_enum(name,values)-instance-method","name":"define_enum","doc":"TODO: sanitize query","summary":"<p><span class=\"flag orange\">TODO</span>  sanitize query</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""}],"args_string":"(name, values)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L176","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L176","def":{"name":"define_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(\"  CREATE TYPE #{name} AS ENUM(#{(values.as(Array)).map do |e|\n  \"'#{e}'\"\nend.join(\", \")})\")"}},{"id":"drop_enum(name)-instance-method","html_id":"drop_enum(name)-instance-method","name":"drop_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L182","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L182","def":{"name":"drop_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(\"DROP TYPE #{name}\")"}},{"id":"drop_index(table,name)-instance-method","html_id":"drop_index(table,name)-instance-method","name":"drop_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L186","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L186","def":{"name":"drop_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(\"DROP INDEX #{name}\")"}},{"id":"enum_values(name)-instance-method","html_id":"enum_values(name)-instance-method","name":"enum_values","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L162","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L162","def":{"name":"enum_values","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(query_array(\"SELECT unnest(enum_range(NULL::#{name})::varchar[])\", String)).map do |array|\n  array[0]\nend"}},{"id":"exists?(query)-instance-method","html_id":"exists?(query)-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L282","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L282","def":{"name":"exists?","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args = query.select_args\nbody = SqlGenerator.exists(query)\nscalar(body, args)\n"}},{"id":"index_exists?(table,name)-instance-method","html_id":"index_exists?(table,name)-instance-method","name":"index_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L145","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L145","def":{"name":"index_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Query[\"pg_class\"].join(\"pg_namespace\") do\n  _oid == _pg_class__relnamespace\nend).where do\n  (_pg_class__relname == name) & (_pg_namespace__nspname == Config.schema)\nend.exists?"}},{"id":"insert(obj:Model::Base)-instance-method","html_id":"insert(obj:Model::Base)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L249","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L249","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts = obj.arguments_to_insert\nquery = parse_query(SqlGenerator.insert(obj, obj.class.primary_auto_incrementable?), opts[:args])\nid = -1_i64\naffected = 0_i64\nif obj.class.primary_auto_incrementable?\n  affected = (exec(query, opts[:args])).rows_affected\n  if affected != 0\n    id = (scalar(\"SELECT currval(pg_get_serial_sequence('#{obj.class.table_name}', '#{obj.class.primary_field_name}'))\")).as(Int64)\n  end\nelse\n  affected = (exec(query, opts[:args])).rows_affected\nend\nExecResult.new(id, affected)\n"}},{"id":"material_view_exists?(name)-instance-method","html_id":"material_view_exists?(name)-instance-method","name":"material_view_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L125","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L125","def":{"name":"material_view_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Query[\"pg_class\"].join(\"pg_namespace\") do\n  _oid == _pg_class__relnamespace\nend).where do\n  ((_relkind == \"m\") & (_pg_namespace__nspname == Config.schema)) & (_relname == name)\nend.exists?"}},{"id":"prepare-instance-method","html_id":"prepare-instance-method","name":"prepare","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L75","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L75","def":{"name":"prepare","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_query = \"  SELECT e.enumtypid\\n  FROM pg_type t, pg_enum e\\n  WHERE t.oid = e.enumtypid\"\nquery(_query) do |rs|\n  rs.each do\n    PG::Decoders.register_decoder(PG::Decoders::StringDecoder.new, (rs.read(UInt32)).to_i)\n  end\nend\nsuper()\n"}},{"id":"refresh_materialized_view(name)-instance-method","html_id":"refresh_materialized_view(name)-instance-method","name":"refresh_materialized_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L100","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L100","def":{"name":"refresh_materialized_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exec(\"  REFRESH MATERIALIZED VIEW #{name}\")"}},{"id":"table_column_count(table)-instance-method","html_id":"table_column_count(table)-instance-method","name":"table_column_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L106","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L106","def":{"name":"table_column_count","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if table_exists?(table)\n  Query[\"information_schema.columns\"].where do\n    _table_name == table\n  end.count\nelse\n  if material_view_exists?(table)\n    ((Query[\"pg_attribute\"].join(\"pg_class\") do\n      _pg_attribute__attrelid == _oid\n    end).join(\"pg_namespace\") do\n      _oid == _pg_class__relnamespace\n    end).where do\n      (((_attnum > 0) & (_pg_namespace__nspname == Config.schema)) & (_pg_class__relname == table)) & _attisdropped.not\n    end.count\n  else\n    -1\n  end\nend"}},{"id":"table_exists?(table)-instance-method","html_id":"table_exists?(table)-instance-method","name":"table_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L133","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L133","def":{"name":"table_exists?","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Query[\"information_schema.tables\"].where do\n  _table_name == table\nend.exists?"}},{"id":"translate_type(name)-instance-method","html_id":"translate_type(name)-instance-method","name":"translate_type","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L90","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L90","def":{"name":"translate_type","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  Adapter::TYPE_TRANSLATIONS[name]\nrescue e : KeyError\n  raise(BaseException.new(\"Unknown data alias #{name}\"))\nend"}},{"id":"view_exists?(name)-instance-method","html_id":"view_exists?(name)-instance-method","name":"view_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L152","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L152","def":{"name":"view_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Query[\"information_schema.views\"].where do\n  (_table_schema == Config.schema) & (_table_name == name)\nend.exists?"}},{"id":"with_table_lock(table:String,type:String=&quot;default&quot;,&block)-instance-method","html_id":"with_table_lock(table:String,type:String=&amp;quot;default&amp;quot;,&amp;block)-instance-method","name":"with_table_lock","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"type","doc":null,"default_value":"\"default\"","external_name":"type","restriction":"String"}],"args_string":"(table : String, type : String = <span class=\"s\">&quot;default&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L166","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr#L166","def":{"name":"with_table_lock","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"type","doc":null,"default_value":"\"default\"","external_name":"type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  transaction do |t|\n    exec(\"LOCK TABLE #{table} IN #{TABLE_LOCK_TYPES[type]} MODE\")\n    yield t\n  end\nrescue e : KeyError\n  raise(BaseException.new(\"Unknown table lock type '#{type}'.\"))\nend"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Postgres/ExecResult","path":"Jennifer/Adapter/Postgres/ExecResult.html","kind":"struct","full_name":"Jennifer::Adapter::Postgres::ExecResult","name":"ExecResult","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/imdrasil/jennifer.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/exec_result.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Postgres","kind":"class","full_name":"Jennifer::Adapter::Postgres","name":"Postgres"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(last_insert_id,rows_affected)-class-method","html_id":"new(last_insert_id,rows_affected)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"last_insert_id","doc":null,"default_value":"","external_name":"last_insert_id","restriction":""},{"name":"rows_affected","doc":null,"default_value":"","external_name":"rows_affected","restriction":""}],"args_string":"(last_insert_id, rows_affected)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr#L10","def":{"name":"new","args":[{"name":"last_insert_id","doc":null,"default_value":"","external_name":"last_insert_id","restriction":""},{"name":"rows_affected","doc":null,"default_value":"","external_name":"rows_affected","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(last_insert_id, rows_affected)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(last_insert_id)-class-method","html_id":"new(last_insert_id)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"last_insert_id","doc":null,"default_value":"","external_name":"last_insert_id","restriction":""}],"args_string":"(last_insert_id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr#L7","def":{"name":"new","args":[{"name":"last_insert_id","doc":null,"default_value":"","external_name":"last_insert_id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(last_insert_id)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"last_insert_id:Int64-instance-method","html_id":"last_insert_id:Int64-instance-method","name":"last_insert_id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr#L5","def":{"name":"last_insert_id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@last_insert_id"}},{"id":"rows_affected:Int64-instance-method","html_id":"rows_affected:Int64-instance-method","name":"rows_affected","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/exec_result.cr#L5","def":{"name":"rows_affected","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@rows_affected"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/RequestMethods","path":"Jennifer/Adapter/RequestMethods.html","kind":"module","full_name":"Jennifer::Adapter::RequestMethods","name":"RequestMethods","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/request_methods.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"insert(table,opts:Hash)-instance-method","html_id":"insert(table,opts:Hash)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash"}],"args_string":"(table, opts : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L6","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L6","def":{"name":"insert","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"values = opts.values\nexec(parse_query(SqlGenerator.insert(table, opts), values), values)\n"}},{"id":"insert(obj:Model::Base)-instance-method","html_id":"insert(obj:Model::Base)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L11","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L11","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts = obj.arguments_to_insert\nexec(parse_query(SqlGenerator.insert(obj), opts[:args]), opts[:args])\n"}},{"id":"modify(q,modifications:Hash)-instance-method","html_id":"modify(q,modifications:Hash)-instance-method","name":"modify","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"modifications","doc":null,"default_value":"","external_name":"modifications","restriction":"Hash"}],"args_string":"(q, modifications : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L32","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L32","def":{"name":"modify","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""},{"name":"modifications","doc":null,"default_value":"","external_name":"modifications","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query = SqlGenerator.modify(q, modifications)\nargs = [] of DBAny\nmodifications.each do |k, v|\n  args << v[:value]\nend\nargs.concat(q.select_args)\nexec(parse_query(query, args), args)\n"}},{"id":"pluck(query,fields:Array)-instance-method","html_id":"pluck(query,fields:Array)-instance-method","name":"pluck","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"}],"args_string":"(query, fields : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L42","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L42","def":{"name":"pluck","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = [] of Array(DBAny)\nbody = SqlGenerator.select(query, fields)\nargs = query.select_args\nquery(parse_query(body, args), args) do |rs|\n  rs.each do\n    result << (result_to_array_by_names(rs, fields))\n  end\nend\nresult\n"}},{"id":"pluck(query,field)-instance-method","html_id":"pluck(query,field)-instance-method","name":"pluck","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"args_string":"(query, field)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L54","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L54","def":{"name":"pluck","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = [] of DBAny\nfields = [field.to_s]\nbody = SqlGenerator.select(query, fields)\nargs = query.select_args\nquery(parse_query(body, args), args) do |rs|\n  rs.each do\n    result << (result_to_array_by_names(rs, fields))[0]\n  end\nend\nresult\n"}},{"id":"select(q,&block)-instance-method","html_id":"select(q,&amp;block)-instance-method","name":"select","doc":null,"summary":null,"abstract":false,"args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""}],"args_string":"(q, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L67","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L67","def":{"name":"select","args":[{"name":"q","doc":null,"default_value":"","external_name":"q","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"body = SqlGenerator.select(q)\nargs = q.select_args\nquery(parse_query(body, args), args) do |rs|\n  yield rs\nend\n"}},{"id":"update(query,options:Hash)-instance-method","html_id":"update(query,options:Hash)-instance-method","name":"update","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(query, options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L23","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L23","def":{"name":"update","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args = [] of DBAny\noptions.each do |k, v|\n  args << v\nend\nargs.concat(query.select_args)\nexec(parse_query(SqlGenerator.update(query, options), args), args)\n"}},{"id":"update(obj:Model::Base)-instance-method","html_id":"update(obj:Model::Base)-instance-method","name":"update","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"args_string":"(obj : Model::Base)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/request_methods.cr#L16","def":{"name":"update","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts = obj.arguments_to_save\nif opts[:args].empty?\n  return DB::ExecResult.new(0_i64, -1_i64)\nend\nopts[:args] << obj.primary\nexec(parse_query(SqlGenerator.update(obj), opts[:args]), opts[:args])\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/ResultParsers","path":"Jennifer/Adapter/ResultParsers.html","kind":"module","full_name":"Jennifer::Adapter::ResultParsers","name":"ResultParsers","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/result_parsers.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/result_parsers.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"result_to_array(rs)-instance-method","html_id":"result_to_array(rs)-instance-method","name":"result_to_array","doc":null,"summary":null,"abstract":false,"args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""}],"args_string":"(rs)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/result_parsers.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/result_parsers.cr#L4","def":{"name":"result_to_array","args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"a = [] of DBAny\nrs.each_column do\n  temp = rs.read(DBAny)\n  if temp.is_a?(Int8)\n    temp = (temp == 1_i8).as(Bool)\n  end\n  a << temp\nend\na\n"}},{"id":"result_to_array_by_names(rs,names:Array)-instance-method","html_id":"result_to_array_by_names(rs,names:Array)-instance-method","name":"result_to_array_by_names","doc":null,"summary":null,"abstract":false,"args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""},{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":"Array"}],"args_string":"(rs, names : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/result_parsers.cr#L14","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/result_parsers.cr#L14","def":{"name":"result_to_array_by_names","args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""},{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buf = {} of String => DBAny\nnames.each do |n|\n  buf[n] = nil\nend\ncount = names.size\nrs.each_column do |column|\n  if buf.has_key?(column)\n    buf[column] = rs.read.as(DBAny)\n    if buf[column].is_a?(Int8)\n      buf[column] = (buf[column] == 1_i8).as(Bool)\n    end\n    count = count - 1\n  else\n    rs.read\n  end\n  if count == 0\n    break\n  end\nend\nbuf.values\n"}},{"id":"result_to_hash(rs)-instance-method","html_id":"result_to_hash(rs)-instance-method","name":"result_to_hash","doc":"converts single ResultSet to hash","summary":"<p>converts single ResultSet to hash</p>","abstract":false,"args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""}],"args_string":"(rs)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/result_parsers.cr#L35","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/result_parsers.cr#L35","def":{"name":"result_to_hash","args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"h = {} of String => DBAny\nrs.each_column do |column|\n  h[column] = rs.read.as(DBAny)\n  if h[column].is_a?(Int8)\n    h[column] = (h[column] == 1_i8).as(Bool)\n  end\nend\nh\n"}},{"id":"table_row_hash(rs)-instance-method","html_id":"table_row_hash(rs)-instance-method","name":"table_row_hash","doc":"converts single ResultSet which contains several tables","summary":"<p>converts single ResultSet which contains several tables</p>","abstract":false,"args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""}],"args_string":"(rs)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/result_parsers.cr#L47","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/result_parsers.cr#L47","def":{"name":"table_row_hash","args":[{"name":"rs","doc":null,"default_value":"","external_name":"rs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"h = {} of String => Hash(String, DBAny)\nrs.columns.each do |col|\n  __temp_43 = col.table\n  h[__temp_43]? || (h[__temp_43] = {} of String => DBAny)\n  h[col.table][col.name] = rs.read\n  if h[col.table][col.name].is_a?(Int8)\n    h[col.table][col.name] = h[col.table][col.name] == 1_i8\n  end\nend\nh\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/SqlGenerator","path":"Jennifer/Adapter/SqlGenerator.html","kind":"class","full_name":"Jennifer::Adapter::SqlGenerator","name":"SqlGenerator","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSqlGenerator","kind":"class","full_name":"Jennifer::Adapter::BaseSqlGenerator","name":"BaseSqlGenerator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/BaseSqlGenerator","kind":"class","full_name":"Jennifer::Adapter::BaseSqlGenerator","name":"BaseSqlGenerator"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/sql_generator.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/sql_generator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/SqlNotation","kind":"module","full_name":"Jennifer::Adapter::SqlNotation","name":"SqlNotation"}],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/SqlNotation","path":"Jennifer/Adapter/SqlNotation.html","kind":"module","full_name":"Jennifer::Adapter::SqlNotation","name":"SqlNotation","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/postgres/sql_notation.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"escape(value:String)-instance-method","html_id":"escape(value:String)-instance-method","name":"escape","doc":"for postgres column name","summary":"<p>for postgres column name</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L86","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L86","def":{"name":"escape","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case value\nwhen \"NULL\", \"TRUE\", \"FALSE\"\n  value\nelse\n  value = (value.gsub(/\\\\/, ARRAY_ESCAPE)).gsub(/\"/, \"\\\\\\\"\")\n  \"\\\"#{value}\\\"\"\nend"}},{"id":"escape(value:Nil)-instance-method","html_id":"escape(value:Nil)-instance-method","name":"escape","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"args_string":"(value : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L96","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L96","def":{"name":"escape","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"quote(value)"}},{"id":"escape(value:Bool)-instance-method","html_id":"escape(value:Bool)-instance-method","name":"escape","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"args_string":"(value : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L100","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L100","def":{"name":"escape","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"quote(value)"}},{"id":"escape(value:Int32|Int16|Float64|Float32)-instance-method","html_id":"escape(value:Int32|Int16|Float64|Float32)-instance-method","name":"escape","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int32 | Int16 | Float64 | Float32"}],"args_string":"(value : Int32 | Int16 | Float64 | Float32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L104","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L104","def":{"name":"escape","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Int32 | Int16 | Float64 | Float32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"quote(value)"}},{"id":"insert(obj:Model::Base,with_primary_field=true)-instance-method","html_id":"insert(obj:Model::Base,with_primary_field=true)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"},{"name":"with_primary_field","doc":null,"default_value":"true","external_name":"with_primary_field","restriction":""}],"args_string":"(obj : Model::Base, with_primary_field = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L4","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Model::Base"},{"name":"with_primary_field","doc":null,"default_value":"true","external_name":"with_primary_field","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts = obj.arguments_to_insert\nString.build do |s|\n  (s << \"INSERT INTO \") << obj.class.table_name\n  if opts[:fields].empty?\n    s << \" DEFAULT VALUES\"\n  else\n    s << \"(\"\n    opts[:fields].join(\", \", s)\n    ((s << \") VALUES (\") << (Adapter.adapter_class.escape_string(opts[:fields].size))) << \") \"\n  end\nend\n"}},{"id":"json_path(path:QueryBuilder::JSONSelector)-instance-method","html_id":"json_path(path:QueryBuilder::JSONSelector)-instance-method","name":"json_path","doc":null,"summary":null,"abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"QueryBuilder::JSONSelector"}],"args_string":"(path : QueryBuilder::JSONSelector)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L72","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L72","def":{"name":"json_path","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"QueryBuilder::JSONSelector"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"operator = case path.type\nwhen :path\n  \"#>\"\nwhen :take\n  \"->\"\nelse\n  raise(ArgumentError.new(\"Wrong json path type\"))\nend\n\"#{path.identifier}#{operator}#{quote(path.path)}\"\n"}},{"id":"operator_to_sql(operator)-instance-method","html_id":"operator_to_sql(operator)-instance-method","name":"operator_to_sql","doc":null,"summary":null,"abstract":false,"args":[{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":""}],"args_string":"(operator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L43","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L43","def":{"name":"operator_to_sql","args":[{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case operator\nwhen :like\n  \"LIKE\"\nwhen :not_like\n  \"NOT LIKE\"\nwhen :regexp\n  \"~\"\nwhen :not_regexp\n  \"!~\"\nwhen :==\n  \"=\"\nwhen :is\n  \"IS\"\nwhen :is_not\n  \"IS NOT\"\nwhen :contain\n  \"@>\"\nwhen :contained\n  \"<@\"\nwhen :overlap\n  \"&&\"\nwhen :ilike\n  \"ILIKE\"\nelse\n  operator.to_s\nend"}},{"id":"parse_query(query,arg_count)-instance-method","html_id":"parse_query(query,arg_count)-instance-method","name":"parse_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"arg_count","doc":null,"default_value":"","external_name":"arg_count","restriction":""}],"args_string":"(query, arg_count)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L112","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L112","def":{"name":"parse_query","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"arg_count","doc":null,"default_value":"","external_name":"arg_count","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"arr = [] of String\narg_count.times do |i|\n  arr << \"$#{i + 1}\"\nend\nquery % arr\n"}},{"id":"quote(value:String)-instance-method","html_id":"quote(value:String)-instance-method","name":"quote","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L108","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L108","def":{"name":"quote","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"'#{(value.gsub(/\\\\/, \"&&\")).gsub(/'/, \"''\")}'\""}},{"id":"update(query,options:Hash)-instance-method","html_id":"update(query,options:Hash)-instance-method","name":"update","doc":"Generates update request depending on given query and hash options. Allows\njoins inside of query.","summary":"<p>Generates update request depending on given query and hash options.</p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(query, options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/sql_notation.cr#L25","def":{"name":"update","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"esc = Adapter.adapter_class.escape_string(1)\nString.build do |s|\n  ((s << \"UPDATE \") << query._table) << \" SET \"\n  options.map do |k, v|\n    \"#{k.to_s}= #{esc}\"\n  end.join(\", \", s)\n  s << \"\\n\"\n  if query._joins\n    from_clause(s, query, query._joins![0].table_name)\n  end\n  where_clause(s, query.tree)\n  if query._joins\n    where_clause(s, query._joins![0].on)\n    query._joins![1..-1].join(\" \", s) do |e|\n      s << e.as_sql\n    end\n  end\nend\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Transactions","path":"Jennifer/Adapter/Transactions.html","kind":"module","full_name":"Jennifer::Adapter::Transactions","name":"Transactions","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/transactions.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter/Base","kind":"class","full_name":"Jennifer::Adapter::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Adapter","kind":"module","full_name":"Jennifer::Adapter","name":"Adapter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"begin_transaction-instance-method","html_id":"begin_transaction-instance-method","name":"begin_transaction","doc":"NOTE: designed for test usage","summary":"<p><span class=\"flag purple\">NOTE</span>  designed for test usage</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L74","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L74","def":{"name":"begin_transaction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if current_transaction\n  raise(::Jennifer::BaseException.new(\"Couldn't manually begin non top level transaction\"))\nend\nConfig.logger.debug(\"TRANSACTION START\")\nlock_connection(@db.checkout.begin_transaction)\n"}},{"id":"current_transaction-instance-method","html_id":"current_transaction-instance-method","name":"current_transaction","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L44","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L44","def":{"name":"current_transaction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@locks[Fiber.current.object_id]?"}},{"id":"lock_connection(transaction:DB::Transaction)-instance-method","html_id":"lock_connection(transaction:DB::Transaction)-instance-method","name":"lock_connection","doc":null,"summary":null,"abstract":false,"args":[{"name":"transaction","doc":null,"default_value":"","external_name":"transaction","restriction":"DB::Transaction"}],"args_string":"(transaction : DB::Transaction)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L36","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L36","def":{"name":"lock_connection","args":[{"name":"transaction","doc":null,"default_value":"","external_name":"transaction","restriction":"DB::Transaction"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@locks[Fiber.current.object_id] = transaction"}},{"id":"lock_connection(transaction:Nil)-instance-method","html_id":"lock_connection(transaction:Nil)-instance-method","name":"lock_connection","doc":null,"summary":null,"abstract":false,"args":[{"name":"transaction","doc":null,"default_value":"","external_name":"transaction","restriction":"Nil"}],"args_string":"(transaction : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L40","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L40","def":{"name":"lock_connection","args":[{"name":"transaction","doc":null,"default_value":"","external_name":"transaction","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@locks.delete(Fiber.current.object_id)"}},{"id":"rollback_transaction-instance-method","html_id":"rollback_transaction-instance-method","name":"rollback_transaction","doc":"NOTE: designed for test usage","summary":"<p><span class=\"flag purple\">NOTE</span>  designed for test usage</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L81","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L81","def":{"name":"rollback_transaction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"t = current_transaction\nif t\nelse\n  raise(::Jennifer::BaseException.new(\"No transaction to rollback\"))\nend\nt = t.not_nil!\nt.rollback\nConfig.logger.debug(\"TRANSACTION ROLLBACK\")\nt.connection.release\nlock_connection(nil)\n"}},{"id":"transaction(&block)-instance-method","html_id":"transaction(&amp;block)-instance-method","name":"transaction","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L52","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L52","def":{"name":"transaction","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"previous_transaction = current_transaction\nres = nil\nwith_transactionable do |conn|\n  conn.transaction do |tx|\n    lock_connection(tx)\n    begin\n      Config.logger.debug(\"TRANSACTION START\")\n      res = yield tx\n      Config.logger.debug(\"TRANSACTION COMMIT\")\n    rescue e\n      Config.logger.debug(\"TRANSACTION ROLLBACK\")\n      raise(e)\n    ensure\n      lock_connection(previous_transaction)\n    end\n  end\nend\nres\n"}},{"id":"under_transaction?-instance-method","html_id":"under_transaction?-instance-method","name":"under_transaction?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L48","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L48","def":{"name":"under_transaction?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@locks.has_key?(Fiber.current.object_id)"}},{"id":"with_connection(&block)-instance-method","html_id":"with_connection(&amp;block)-instance-method","name":"with_connection","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L7","def":{"name":"with_connection","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"if @locks.has_key?(Fiber.current.object_id)\n  yield @locks[Fiber.current.object_id].connection\nelse\n  conn = @db.checkout\n  res = yield conn\n  conn.release\n  res\nend"}},{"id":"with_manual_connection(&block)-instance-method","html_id":"with_manual_connection(&amp;block)-instance-method","name":"with_manual_connection","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L18","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L18","def":{"name":"with_manual_connection","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"conn = @db.checkout\nres = yield conn\nconn.release\nres\n"}},{"id":"with_transactionable(&block)-instance-method","html_id":"with_transactionable(&amp;block)-instance-method","name":"with_transactionable","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/transactions.cr#L25","def":{"name":"with_transactionable","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"if @locks.has_key?(Fiber.current.object_id)\n  yield @locks[Fiber.current.object_id]\nelse\n  conn = @db.checkout\n  res = yield conn\n  conn.release\n  res ? res : false\nend"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/AlreadyInitialized","path":"Jennifer/AlreadyInitialized.html","kind":"class","full_name":"Jennifer::AlreadyInitialized","name":"AlreadyInitialized","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":73,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(old_value,new_value)-class-method","html_id":"new(old_value,new_value)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_value","doc":null,"default_value":"","external_name":"old_value","restriction":""},{"name":"new_value","doc":null,"default_value":"","external_name":"new_value","restriction":""}],"args_string":"(old_value, new_value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L74","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L74","def":{"name":"new","args":[{"name":"old_value","doc":null,"default_value":"","external_name":"old_value","restriction":""},{"name":"new_value","doc":null,"default_value":"","external_name":"new_value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(old_value, new_value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/AnyArgument","path":"Jennifer/AnyArgument.html","kind":"alias","full_name":"Jennifer::AnyArgument","name":"AnyArgument","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Array(Bool | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | Slice(UInt8) | String | Time | Nil) | Bool | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | Slice(UInt8) | String | Time | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/AnyResult","path":"Jennifer/AnyResult.html","kind":"alias","full_name":"Jennifer::AnyResult","name":"AnyResult","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Bool | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | Slice(UInt8) | String | Time | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BadQuery","path":"Jennifer/BadQuery.html","kind":"class","full_name":"Jennifer::BadQuery","name":"BadQuery","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":33,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[{"id":"format_query(query,args:Array)-class-method","html_id":"format_query(query,args:Array)-class-method","name":"format_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array"}],"args_string":"(query, args : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L42","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L42","def":{"name":"format_query","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args.empty? ? query : \"#{query} | #{args.inspect}\""}},{"id":"format_query(query,arg=nil)-class-method","html_id":"format_query(query,arg=nil)-class-method","name":"format_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"arg","doc":null,"default_value":"nil","external_name":"arg","restriction":""}],"args_string":"(query, arg = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L46","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L46","def":{"name":"format_query","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"arg","doc":null,"default_value":"nil","external_name":"arg","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"arg ? \"#{query} | #{arg}\" : query"}},{"id":"prepend_information(error:Exception,query,args)-class-method","html_id":"prepend_information(error:Exception,query,args)-class-method","name":"prepend_information","doc":null,"summary":null,"abstract":false,"args":[{"name":"error","doc":null,"default_value":"","external_name":"error","restriction":"Exception"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(error : Exception, query, args)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L38","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L38","def":{"name":"prepend_information","args":[{"name":"error","doc":null,"default_value":"","external_name":"error","restriction":"Exception"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"error.message = \"#{error.message}\nOriginal query was:\n#{format_query(query, args)}\""}}],"constructors":[{"id":"new(original_message,query,args)-class-method","html_id":"new(original_message,query,args)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"original_message","doc":null,"default_value":"","external_name":"original_message","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(original_message, query, args)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L34","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L34","def":{"name":"new","args":[{"name":"original_message","doc":null,"default_value":"","external_name":"original_message","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(original_message, query, args)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","path":"Jennifer/BaseException.html","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":10,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/AlreadyInitialized","kind":"class","full_name":"Jennifer::AlreadyInitialized","name":"AlreadyInitialized"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BadQuery","kind":"class","full_name":"Jennifer::BadQuery","name":"BadQuery"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/DataTypeCasting","kind":"class","full_name":"Jennifer::DataTypeCasting","name":"DataTypeCasting"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/DataTypeMismatch","kind":"class","full_name":"Jennifer::DataTypeMismatch","name":"DataTypeMismatch"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/InvalidConfig","kind":"class","full_name":"Jennifer::InvalidConfig","name":"InvalidConfig"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordExists","kind":"class","full_name":"Jennifer::RecordExists","name":"RecordExists"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordInvalid","kind":"class","full_name":"Jennifer::RecordInvalid","name":"RecordInvalid"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordNotFound","kind":"class","full_name":"Jennifer::RecordNotFound","name":"RecordNotFound"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Skip","kind":"class","full_name":"Jennifer::Skip","name":"Skip"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/UnknownRelation","kind":"class","full_name":"Jennifer::UnknownRelation","name":"UnknownRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/UnknownSTIType","kind":"class","full_name":"Jennifer::UnknownSTIType","name":"UnknownSTIType"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[{"id":"assert_column_count(requested,actual)-class-method","html_id":"assert_column_count(requested,actual)-class-method","name":"assert_column_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"requested","doc":null,"default_value":"","external_name":"requested","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"args_string":"(requested, actual)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L26","def":{"name":"assert_column_count","args":[{"name":"requested","doc":null,"default_value":"","external_name":"requested","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if requested > actual\n  raise(self.new(\"ResultSet includes only #{actual} columns when at least #{requested} are required\"))\nend"}}],"constructors":[{"id":"new(base_exception:Exception,extra_message:String?=nil)-class-method","html_id":"new(base_exception:Exception,extra_message:String?=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"base_exception","doc":null,"default_value":"","external_name":"base_exception","restriction":"Exception"},{"name":"extra_message","doc":null,"default_value":"nil","external_name":"extra_message","restriction":"String | ::Nil"}],"args_string":"(base_exception : Exception, extra_message : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L13","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L13","def":{"name":"new","args":[{"name":"base_exception","doc":null,"default_value":"","external_name":"base_exception","restriction":"Exception"},{"name":"extra_message","doc":null,"default_value":"nil","external_name":"extra_message","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(base_exception, extra_message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(message)-class-method","html_id":"new(message)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"args_string":"(message)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L23","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L23","def":{"name":"new","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"message=(message)-instance-method","html_id":"message=(message)-instance-method","name":"message=","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"args_string":"(message)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L11","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L11","def":{"name":"message=","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@message = message"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Config","path":"Jennifer/Config.html","kind":"class","full_name":"Jennifer::Config","name":"Config","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/config.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"CONNECTION_URI_PARAMS","value":"[:max_pool_size, :initial_pool_size, :max_idle_pool_size, :retry_attempts, :checkout_timeout, :retry_delay]","doc":null,"summary":null},{"name":"FLOAT_FIELDS","value":"[:checkout_timeout, :retry_delay]","doc":null,"summary":null},{"name":"INT_FIELDS","value":"{:port, :max_pool_size, :initial_pool_size, :max_idle_pool_size, :retry_attempts}","doc":null,"summary":null},{"name":"STRING_FIELDS","value":"{:user, :password, :db, :host, :adapter, :migration_files_path, :schema, :structure_folder}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[{"id":"adapter-class-method","html_id":"adapter-class-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@adapter"}},{"id":"adapter=(value)-class-method","html_id":"adapter=(value)-class-method","name":"adapter=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"adapter=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@adapter = value"}},{"id":"checkout_timeout-class-method","html_id":"checkout_timeout-class-method","name":"checkout_timeout","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L27","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L27","def":{"name":"checkout_timeout","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@checkout_timeout"}},{"id":"checkout_timeout=(value)-class-method","html_id":"checkout_timeout=(value)-class-method","name":"checkout_timeout=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L27","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L27","def":{"name":"checkout_timeout=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@checkout_timeout = value"}},{"id":"config-class-method","html_id":"config-class-method","name":"config","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L88","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L88","def":{"name":"config","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self"}},{"id":"configure(&block)-class-method","html_id":"configure(&amp;block)-class-method","name":"configure","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L74","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L74","def":{"name":"configure","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"yield self\nself.validate_config\n"}},{"id":"configure-class-method","html_id":"configure-class-method","name":"configure","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L84","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L84","def":{"name":"configure","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self"}},{"id":"db-class-method","html_id":"db-class-method","name":"db","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"db","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@db"}},{"id":"db=(value)-class-method","html_id":"db=(value)-class-method","name":"db=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"db=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@db = value"}},{"id":"from_uri(uri:URI)-class-method","html_id":"from_uri(uri:URI)-class-method","name":"from_uri","doc":null,"summary":null,"abstract":false,"args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":"URI"}],"args_string":"(uri : URI)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L100","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L100","def":{"name":"from_uri","args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":"URI"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if uri.scheme\n  config.adapter = uri.scheme.to_s\nend\nif uri.host\n  config.host = uri.host.to_s\nend\nif uri.port\n  config.port = uri.port.not_nil!\nend\nif uri.path\n  config.db = uri.path.to_s.lchop\nend\nif uri.user\n  config.user = uri.user.to_s\nend\nif uri.password\n  config.password = uri.password.to_s\nend\nif uri.query\n  params = HTTP::Params.parse(uri.query.to_s)\n  {% for field in CONNECTION_URI_PARAMS %}\n          {% if STRING_FIELDS.includes?(field) %}\n              @@{{ field.id }} = params[\"{{ field.id }}\"] if params[\"{{ field.id }}\"]?\n          {% end %}\n          {% if INT_FIELDS.includes?(field) %}\n              @@{{ field.id }} = params[\"{{ field.id }}\"].to_i if params[\"{{ field.id }}\"]?\n          {% end %}\n          {% if FLOAT_FIELDS.includes?(field) %}\n              @@{{ field.id }} = params[\"{{ field.id }}\"].to_f if params[\"{{ field.id }}\"]?\n          {% end %}\n        {% end %}\nend\nself.validate_config\nself\n"}},{"id":"from_uri(db_uri:String)-class-method","html_id":"from_uri(db_uri:String)-class-method","name":"from_uri","doc":null,"summary":null,"abstract":false,"args":[{"name":"db_uri","doc":null,"default_value":"","external_name":"db_uri","restriction":"String"}],"args_string":"(db_uri : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L92","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L92","def":{"name":"from_uri","args":[{"name":"db_uri","doc":null,"default_value":"","external_name":"db_uri","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  from_uri(URI.parse(db_uri))\nrescue e\n  self.logger.error(\"Error parsing database uri #{db_uri}\")\nend"}},{"id":"host-class-method","html_id":"host-class-method","name":"host","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"host","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@host"}},{"id":"host=(value)-class-method","html_id":"host=(value)-class-method","name":"host=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"host=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@host = value"}},{"id":"initial_pool_size-class-method","html_id":"initial_pool_size-class-method","name":"initial_pool_size","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","def":{"name":"initial_pool_size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@initial_pool_size"}},{"id":"initial_pool_size=(value)-class-method","html_id":"initial_pool_size=(value)-class-method","name":"initial_pool_size=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","def":{"name":"initial_pool_size=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@initial_pool_size = value"}},{"id":"logger-class-method","html_id":"logger-class-method","name":"logger","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L66","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L66","def":{"name":"logger","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@logger.not_nil!"}},{"id":"logger=(value)-class-method","html_id":"logger=(value)-class-method","name":"logger=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L70","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L70","def":{"name":"logger=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@logger = value"}},{"id":"max_idle_pool_size-class-method","html_id":"max_idle_pool_size-class-method","name":"max_idle_pool_size","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","def":{"name":"max_idle_pool_size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@max_idle_pool_size"}},{"id":"max_idle_pool_size=(value)-class-method","html_id":"max_idle_pool_size=(value)-class-method","name":"max_idle_pool_size=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","def":{"name":"max_idle_pool_size=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@max_idle_pool_size = value"}},{"id":"max_pool_size-class-method","html_id":"max_pool_size-class-method","name":"max_pool_size","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","def":{"name":"max_pool_size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@max_pool_size"}},{"id":"max_pool_size=(value)-class-method","html_id":"max_pool_size=(value)-class-method","name":"max_pool_size=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","def":{"name":"max_pool_size=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@max_pool_size = value"}},{"id":"migration_files_path-class-method","html_id":"migration_files_path-class-method","name":"migration_files_path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"migration_files_path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@migration_files_path"}},{"id":"migration_files_path=(value)-class-method","html_id":"migration_files_path=(value)-class-method","name":"migration_files_path=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"migration_files_path=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@migration_files_path = value"}},{"id":"password-class-method","html_id":"password-class-method","name":"password","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"password","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@password"}},{"id":"password=(value)-class-method","html_id":"password=(value)-class-method","name":"password=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"password=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@password = value"}},{"id":"port-class-method","html_id":"port-class-method","name":"port","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","def":{"name":"port","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@port"}},{"id":"port=(value)-class-method","html_id":"port=(value)-class-method","name":"port=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","def":{"name":"port=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@port = value"}},{"id":"read(path:String,env:String|Symbol=:development)-class-method","html_id":"read(path:String,env:String|Symbol=:development)-class-method","name":"read","doc":null,"summary":null,"abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"env","doc":null,"default_value":":development","external_name":"env","restriction":"String | Symbol"}],"args_string":"(path : String, env : String | Symbol = <span class=\"n\">:development</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L126","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L126","def":{"name":"read","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"env","doc":null,"default_value":":development","external_name":"env","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_env = env.to_s\nsource = (YAML.parse(File.read(path)))[_env]\n{% for field in STRING_FIELDS %}\n        @@{{ field.id }} = source[\"{{ field.id }}\"].as_s if source[\"{{ field.id }}\"]?\n      {% end %}\n{% for field in INT_FIELDS %}\n        @@{{ field.id }} = source[\"{{ field.id }}\"].as_s.to_i if source[\"{{ field.id }}\"]?\n      {% end %}\n{% for field in FLOAT_FIELDS %}\n        @@{{ field.id }} = source[\"{{ field.id }}\"].as_s.to_f if source[\"{{ field.id }}\"]?\n      {% end %}\nself.validate_config\nself\n"}},{"id":"reset_config-class-method","html_id":"reset_config-class-method","name":"reset_config","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L41","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L41","def":{"name":"reset_config","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@adapter = \"postgres\"\n@@host = \"localhost\"\n@@port = -1\n@@migration_files_path = \"./db/migrations\"\n@@schema = \"public\"\n@@db = \"\"\n@@initial_pool_size = 1\n@@max_pool_size = 5\n@@max_idle_pool_size = 1\n@@retry_attempts = 1\n@@checkout_timeout = 5.0\n@@retry_delay = 1.0\n@@logger = Logger.new(STDOUT)\n@@logger.not_nil!.level = Logger::DEBUG\n@@logger.not_nil!.formatter = Logger::Formatter.new do |severity, datetime, progname, message, io|\n  ((io << datetime) << \": \") << message\nend\n"}},{"id":"retry_attempts-class-method","html_id":"retry_attempts-class-method","name":"retry_attempts","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","def":{"name":"retry_attempts","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@retry_attempts"}},{"id":"retry_attempts=(value)-class-method","html_id":"retry_attempts=(value)-class-method","name":"retry_attempts=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L26","def":{"name":"retry_attempts=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@retry_attempts = value"}},{"id":"retry_delay-class-method","html_id":"retry_delay-class-method","name":"retry_delay","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L27","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L27","def":{"name":"retry_delay","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@retry_delay"}},{"id":"retry_delay=(value)-class-method","html_id":"retry_delay=(value)-class-method","name":"retry_delay=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L27","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L27","def":{"name":"retry_delay=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@retry_delay = value"}},{"id":"schema-class-method","html_id":"schema-class-method","name":"schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@schema"}},{"id":"schema=(value)-class-method","html_id":"schema=(value)-class-method","name":"schema=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"schema=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@schema = value"}},{"id":"structure_folder-class-method","html_id":"structure_folder-class-method","name":"structure_folder","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L29","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L29","def":{"name":"structure_folder","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @@structure_folder.empty?\n  File.dirname(@@migration_files_path)\nelse\n  @@structure_folder\nend"}},{"id":"structure_folder=(value)-class-method","html_id":"structure_folder=(value)-class-method","name":"structure_folder=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"structure_folder=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@structure_folder = value"}},{"id":"structure_path-class-method","html_id":"structure_path-class-method","name":"structure_path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L37","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L37","def":{"name":"structure_path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"File.join(Config.structure_folder, \"structure.sql\")"}},{"id":"user-class-method","html_id":"user-class-method","name":"user","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"user","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@user"}},{"id":"user=(value)-class-method","html_id":"user=(value)-class-method","name":"user=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L25","def":{"name":"user=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@user = value"}},{"id":"validate_config-class-method","html_id":"validate_config-class-method","name":"validate_config","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L79","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L79","def":{"name":"validate_config","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if adapter.empty?\n  raise(Jennifer::InvalidConfig.new(\"No adapter configured\"))\nend\nif db.empty?\n  raise(Jennifer::InvalidConfig.new(\"No database configured\"))\nend\n"}}],"constructors":[],"instance_methods":[],"macros":[{"id":"define_fields(const,default)-macro","html_id":"define_fields(const,default)-macro","name":"define_fields","doc":null,"summary":null,"abstract":false,"args":[{"name":"const","doc":null,"default_value":"","external_name":"const","restriction":""},{"name":"default","doc":null,"default_value":"","external_name":"default","restriction":""}],"args_string":"(const, default)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/config.cr#L11","def":{"name":"define_fields","args":[{"name":"const","doc":null,"default_value":"","external_name":"const","restriction":""},{"name":"default","doc":null,"default_value":"","external_name":"default","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      \n{% for field in @type.constant(const.stringify) %}\n      @@{{ field.id }} = {{ default }}\n\n      def self.{{ field.id }}=(value)\n        @@{{ field.id }} = value\n      end\n\n      def self.{{ field.id }}\n        @@{{ field.id }}\n      end\n    {% end %}\n\n    \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/DataTypeCasting","path":"Jennifer/DataTypeCasting.html","kind":"class","full_name":"Jennifer::DataTypeCasting","name":"DataTypeCasting","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":115,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"EXTRACT_WORDS_REG","value":"/cast from (.+) to (.+) failed/","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[{"id":"match?(exception)-class-method","html_id":"match?(exception)-class-method","name":"match?","doc":null,"summary":null,"abstract":false,"args":[{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"args_string":"(exception)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L123","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L123","def":{"name":"match?","args":[{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exception.message =~ EXTRACT_WORDS_REG"}}],"constructors":[{"id":"new(column,klass,exception)-class-method","html_id":"new(column,klass,exception)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"args_string":"(column, klass, exception)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L118","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L118","def":{"name":"new","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(column, klass, exception)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/DataTypeMismatch","path":"Jennifer/DataTypeMismatch.html","kind":"class","full_name":"Jennifer::DataTypeMismatch","name":"DataTypeMismatch","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":100,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"EXTRACT_WORDS_REG","value":"/returned a (.+)\\. A (.+) was/","doc":null,"summary":null},{"name":"MATCH_REG","value":"/#read returned a/","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[{"id":"match?(exception)-class-method","html_id":"match?(exception)-class-method","name":"match?","doc":"TODO: think about monkey patching DB::ResultSet#read for raising custome execption raather than `Exception`","summary":"<p><span class=\"flag orange\">TODO</span>  think about monkey patching DB::ResultSet#read for raising custome execption raather than <code>Exception</code></p>","abstract":false,"args":[{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"args_string":"(exception)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L110","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L110","def":{"name":"match?","args":[{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exception.message =~ MATCH_REG"}}],"constructors":[{"id":"new(column,klass,exception)-class-method","html_id":"new(column,klass,exception)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"args_string":"(column, klass, exception)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L104","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L104","def":{"name":"new","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(column, klass, exception)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/DBAny","path":"Jennifer/DBAny.html","kind":"alias","full_name":"Jennifer::DBAny","name":"DBAny","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/adapter/postgres.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | UInt32 | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/InvalidConfig","path":"Jennifer/InvalidConfig.html","kind":"class","full_name":"Jennifer::InvalidConfig","name":"InvalidConfig","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":51,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(message)-class-method","html_id":"new(message)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"args_string":"(message)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L52","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L52","def":{"name":"new","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Macros","path":"Jennifer/Macros.html","kind":"module","full_name":"Jennifer::Macros","name":"Macros","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/macros.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/macros.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"AUTOINCREMENTABLE_STR_TYPES","value":"[\"Int32\", \"Int64\", \"Primary32\", \"Primary64\"]","doc":null,"summary":null},{"name":"JSON_REGEXP","value":"/JSON::Any/","doc":null,"summary":null},{"name":"NILLABLE_REGEXP","value":"/(::Nil)|( Nil)/","doc":null,"summary":null},{"name":"PRIMARY_32","value":"\"Primary32\"","doc":null,"summary":null},{"name":"PRIMARY_64","value":"\"Primary64\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"This module contais constants needed only during compilation process to avoid their recreating.","summary":"<p>This module contais constants needed only during compilation process to avoid their recreating.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration","path":"Jennifer/Migration.html","kind":"module","full_name":"Jennifer::Migration","name":"Migration","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr"},{"filename":"jennifer/migration/table_builder/change_table.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr"},{"filename":"jennifer/migration/table_builder/create_index.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr"},{"filename":"jennifer/migration/table_builder/create_table.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr"},{"filename":"jennifer/migration/table_builder/create_view.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_view.cr"},{"filename":"jennifer/migration/table_builder/drop_index.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_index.cr"},{"filename":"jennifer/migration/table_builder/drop_table.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_table.cr"},{"filename":"jennifer/migration/table_builder/drop_view.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_view.cr"},{"filename":"jennifer/migration/table_builder/raw.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/raw.cr"},{"filename":"jennifer/migration/base.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr"},{"filename":"jennifer/migration/runner.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr"},{"filename":"jennifer/migration/version.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/version.cr"},{"filename":"jennifer/adapter/postgres/migration/base.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/change_enum.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_enum.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_enum.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/Base","path":"Jennifer/Migration/Base.html","kind":"class","full_name":"Jennifer::Migration::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/base.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr"},{"filename":"jennifer/adapter/postgres/migration/base.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration","kind":"module","full_name":"Jennifer::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[{"id":"migrations-class-method","html_id":"migrations-class-method","name":"migrations","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L97","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L97","def":{"name":"migrations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n          {% if @type.all_subclasses.size > 0 %}\n            [\n              {% for model in @type.all_subclasses %}\n                {{ model.id }},\n              {% end %}\n            ]\n          {% else %}\n            [] of Jennifer::Migration::Base.class\n          {% end %}\n        {% end %}"}},{"id":"version-class-method","html_id":"version-class-method","name":"version","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L10","def":{"name":"version","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"to_s[-17..-1]"}},{"id":"versions-class-method","html_id":"versions-class-method","name":"versions","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L93","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L93","def":{"name":"versions","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"migrations.map do |e|\n  (e.underscore.split(\"_\")).last\nend"}}],"constructors":[],"instance_methods":[{"id":"add_index(table_name,name:String,fields:Array(Symbol),type:Symbol,lengths:Hash(Symbol,Int32)={}ofSymbol=>Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=>Symbol)-instance-method","html_id":"add_index(table_name,name:String,fields:Array(Symbol),type:Symbol,lengths:Hash(Symbol,Int32)={}ofSymbol=&gt;Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=&gt;Symbol)-instance-method","name":"add_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"args_string":"(table_name, name : String, fields : Array(Symbol), type : Symbol, lengths : Hash(Symbol, Int32) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Int32</span>, orders : Hash(Symbol, Symbol) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Symbol</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L61","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L61","def":{"name":"add_index","args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(TableBuilder::CreateIndex.new(table_name, name, fields, type, lengths, orders)).process"}},{"id":"add_index(table_name,name:String,field:Symbol,type:Symbol,length:Int32?=nil,order:Symbol?=nil)-instance-method","html_id":"add_index(table_name,name:String,field:Symbol,type:Symbol,length:Int32?=nil,order:Symbol?=nil)-instance-method","name":"add_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"args_string":"(table_name, name : String, field : Symbol, type : Symbol, length : Int32? = <span class=\"n\">nil</span>, order : Symbol? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L65","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L65","def":{"name":"add_index","args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"add_index(table_name, name, [field], type: type, orders: (order ? {field => order.not_nil!} : {} of Symbol => Symbol), lengths: (length ? {field => length.not_nil!} : {} of Symbol => Int32))"}},{"id":"change_enum(name,options)-instance-method","html_id":"change_enum(name,options)-instance-method","name":"change_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(name, options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L89","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L89","def":{"name":"change_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(BaseException.new(\"Current adapter doesn't support this method.\"))"}},{"id":"change_enum(name:String|Symbol,options)-instance-method","html_id":"change_enum(name:String|Symbol,options)-instance-method","name":"change_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(name : String | Symbol, options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L12","def":{"name":"change_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(TableBuilder::ChangeEnum.new(name, options)).process"}},{"id":"change_table(name:String|Symbol,&block)-instance-method","html_id":"change_table(name:String|Symbol,&amp;block)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L47","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L47","def":{"name":"change_table","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"tb = TableBuilder::ChangeTable.new(name)\nyield tb\ntb.process\n"}},{"id":"column_exists?(*args,**options)-instance-method","html_id":"column_exists?(*args,**options)-instance-method","name":"column_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","def":{"name":"column_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.column_exists?(*args, **options)"}},{"id":"column_exists?(*args,**options,&block)-instance-method","html_id":"column_exists?(*args,**options,&amp;block)-instance-method","name":"column_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","def":{"name":"column_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.column_exists?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"create_data_type(*args,**options)-instance-method","html_id":"create_data_type(*args,**options)-instance-method","name":"create_data_type","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L4","def":{"name":"create_data_type","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.create_data_type(*args, **options)"}},{"id":"create_data_type(*args,**options,&block)-instance-method","html_id":"create_data_type(*args,**options,&amp;block)-instance-method","name":"create_data_type","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L4","def":{"name":"create_data_type","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.create_data_type(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"create_enum(name,options)-instance-method","html_id":"create_enum(name,options)-instance-method","name":"create_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(name, options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L81","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L81","def":{"name":"create_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(BaseException.new(\"Current adapter doesn't support this method.\"))"}},{"id":"create_enum(name:String|Symbol,values)-instance-method","html_id":"create_enum(name:String|Symbol,values)-instance-method","name":"create_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""}],"args_string":"(name : String | Symbol, values)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L4","def":{"name":"create_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(TableBuilder::CreateEnum.new(name, values)).process"}},{"id":"create_join_table(table1,table2,table_name:String?=nil,&block)-instance-method","html_id":"create_join_table(table1,table2,table_name:String?=nil,&amp;block)-instance-method","name":"create_join_table","doc":"Creates join table; raises table builder to given block","summary":"<p>Creates join table; raises table builder to given block</p>","abstract":false,"args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":""},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":""},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"}],"args_string":"(table1, table2, table_name : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L22","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L22","def":{"name":"create_join_table","args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":""},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":""},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"create_table(table_name || (Adapter.adapter_class.join_table_name(table1, table2)), false) do |tb|\n  tb.integer(table1.to_s.singularize.foreign_key)\n  tb.integer(table2.to_s.singularize.foreign_key)\n  yield tb\nend"}},{"id":"create_join_table(table1,table2,table_name:String?=nil)-instance-method","html_id":"create_join_table(table1,table2,table_name:String?=nil)-instance-method","name":"create_join_table","doc":"Creates join table.","summary":"<p>Creates join table.</p>","abstract":false,"args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":""},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":""},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"}],"args_string":"(table1, table2, table_name : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L31","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L31","def":{"name":"create_join_table","args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":""},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":""},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"create_join_table(table1, table2, table_name) do\nend"}},{"id":"create_materialized_view(name:String|Symbol,source)-instance-method","html_id":"create_materialized_view(name:String|Symbol,source)-instance-method","name":"create_materialized_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"args_string":"(name : String | Symbol, source)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L20","def":{"name":"create_materialized_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(TableBuilder::CreateMaterializedView.new(name, source)).process"}},{"id":"create_table(name,id:Bool=true,&block)-instance-method","html_id":"create_table(name,id:Bool=true,&amp;block)-instance-method","name":"create_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"id","doc":null,"default_value":"true","external_name":"id","restriction":"Bool"}],"args_string":"(name, id : Bool = <span class=\"n\">true</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L14","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L14","def":{"name":"create_table","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"id","doc":null,"default_value":"true","external_name":"id","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"tb = TableBuilder::CreateTable.new(name)\nif id\n  tb.integer(:id, {:primary => true, :auto_increment => true})\nend\nyield tb\ntb.process\n"}},{"id":"create_view(name:String|Symbol,source)-instance-method","html_id":"create_view(name:String|Symbol,source)-instance-method","name":"create_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"args_string":"(name : String | Symbol, source)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L53","def":{"name":"create_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(TableBuilder::CreateView.new(name.to_s, source)).process"}},{"id":"data_type_exists?(name:String|Symbol)-instance-method","html_id":"data_type_exists?(name:String|Symbol)-instance-method","name":"data_type_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L16","def":{"name":"data_type_exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Adapter.adapter.as(Postgres)).data_type_exists?(name)"}},{"id":"down-instance-method","html_id":"down-instance-method","name":"down","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L8","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"drop_enum(name)-instance-method","html_id":"drop_enum(name)-instance-method","name":"drop_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L85","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L85","def":{"name":"drop_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(BaseException.new(\"Current adapter doesn't support this method.\"))"}},{"id":"drop_enum(name:String|Symbol)-instance-method","html_id":"drop_enum(name:String|Symbol)-instance-method","name":"drop_enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L8","def":{"name":"drop_enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(TableBuilder::DropEnum.new(name)).process"}},{"id":"drop_index(table_name,name)-instance-method","html_id":"drop_index(table_name,name)-instance-method","name":"drop_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table_name, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L76","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L76","def":{"name":"drop_index","args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(TableBuilder::DropIndex.new(table_name, name)).process\nself\n"}},{"id":"drop_join_table(table1,table2)-instance-method","html_id":"drop_join_table(table1,table2)-instance-method","name":"drop_join_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":""},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":""}],"args_string":"(table1, table2)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L35","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L35","def":{"name":"drop_join_table","args":[{"name":"table1","doc":null,"default_value":"","external_name":"table1","restriction":""},{"name":"table2","doc":null,"default_value":"","external_name":"table2","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"drop_table(Adapter.adapter_class.join_table_name(table1, table2))"}},{"id":"drop_materialized_view(name:String|Symbol)-instance-method","html_id":"drop_materialized_view(name:String|Symbol)-instance-method","name":"drop_materialized_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L24","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/base.cr#L24","def":{"name":"drop_materialized_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(TableBuilder::DropMaterializedView.new(name)).process"}},{"id":"drop_table(name)-instance-method","html_id":"drop_table(name)-instance-method","name":"drop_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L43","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L43","def":{"name":"drop_table","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(TableBuilder::DropTable.new(name)).process"}},{"id":"drop_view(name:String|Symbol)-instance-method","html_id":"drop_view(name:String|Symbol)-instance-method","name":"drop_view","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L57","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L57","def":{"name":"drop_view","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(TableBuilder::DropView.new(name.to_s)).process"}},{"id":"exec(string)-instance-method","html_id":"exec(string)-instance-method","name":"exec","doc":null,"summary":null,"abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":""}],"args_string":"(string)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L39","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L39","def":{"name":"exec","args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(TableBuilder::Raw.new(string)).process"}},{"id":"index_exists?(*args,**options,&block)-instance-method","html_id":"index_exists?(*args,**options,&amp;block)-instance-method","name":"index_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","def":{"name":"index_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.index_exists?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"index_exists?(*args,**options)-instance-method","html_id":"index_exists?(*args,**options)-instance-method","name":"index_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","def":{"name":"index_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.index_exists?(*args, **options)"}},{"id":"table_exists?(*args,**options,&block)-instance-method","html_id":"table_exists?(*args,**options,&amp;block)-instance-method","name":"table_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","def":{"name":"table_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.table_exists?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"table_exists?(*args,**options)-instance-method","html_id":"table_exists?(*args,**options)-instance-method","name":"table_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","def":{"name":"table_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.table_exists?(*args, **options)"}},{"id":"up-instance-method","html_id":"up-instance-method","name":"up","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L7","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"view_exists?(*args,**options,&block)-instance-method","html_id":"view_exists?(*args,**options,&amp;block)-instance-method","name":"view_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","def":{"name":"view_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.view_exists?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"view_exists?(*args,**options)-instance-method","html_id":"view_exists?(*args,**options)-instance-method","name":"view_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/base.cr#L5","def":{"name":"view_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.view_exists?(*args, **options)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/Runner","path":"Jennifer/Migration/Runner.html","kind":"module","full_name":"Jennifer::Migration::Runner","name":"Runner","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/runner.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"MIGRATION_DATE_FORMAT","value":"\"%Y%m%d%H%M%S%L\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration","kind":"module","full_name":"Jennifer::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[{"id":"create-class-method","html_id":"create-class-method","name":"create","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L51","def":{"name":"create","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"r = Adapter.adapter_class.create_database\nputs(\"DB is created!\")\nr\n"}},{"id":"drop-class-method","html_id":"drop-class-method","name":"drop","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L57","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L57","def":{"name":"drop","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter_class.drop_database\nputs(\"DB is dropped!\")\n"}},{"id":"generate(name)-class-method","html_id":"generate(name)-class-method","name":"generate","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L96","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L96","def":{"name":"generate","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  time = Time.now.to_s(MIGRATION_DATE_FORMAT)\n  migration_name = name.camelcase + time\n  str = \"class #{migration_name} < Jennifer::Migration::Base\n  def up\n  end\n\n  def down\n  end\nend\n\"\n  File.write(File.join(Config.migration_files_path.to_s, \"#{time}_#{name.underscore}.cr\"), str)\n  puts(\"Migration #{migration_name} was generated\")\nrescue e\n  puts(e.message)\nend"}},{"id":"load_schema-class-method","html_id":"load_schema-class-method","name":"load_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L92","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L92","def":{"name":"load_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter_class.load_schema"}},{"id":"migrate(count)-class-method","html_id":"migrate(count)-class-method","name":"migrate","doc":null,"summary":null,"abstract":false,"args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""}],"args_string":"(count)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L6","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L6","def":{"name":"migrate","args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  performed = false\n  Adapter.adapter.ready_to_migrate!\n  if ::Jennifer::Migration::Base.migrations.empty?\n    return\n  end\n  interpolation = {} of String => typeof(Base.migrations[0])\n  Base.migrations.each do |m|\n    interpolation[m.version] = m\n  end\n  pending = interpolation.keys - (Version.all.pluck(:version)).map do |__arg0|\n    __arg0.as(String)\n  end\n  if pending.empty?\n    return\n  end\n  brocken = (Version.where do\n    _version.in(pending)\n  end.pluck(:version)).map do |__arg1|\n    __arg1.as(String)\n  end\n  if brocken.empty?\n  else\n    puts(\"Can't run migrations because some of them are older then relase version.\\nThey are:\")\n    brocken.sort.each do |v|\n      puts(\"- #{v}\")\n    end\n    return\n  end\n  i = 0\n  pending.sort.each do |p|\n    if count > 0 && i >= count\n      return\n    end\n    performed = true\n    klass = interpolation[p]\n    puts(\"Migration #{klass}\")\n    instance = klass.new\n    begin\n      instance.up\n    rescue e\n      puts(\"rollbacked\")\n      puts(e.message)\n      raise(e)\n    end\n    Version.create({version: p})\n  end\nrescue e\n  puts(e.message)\n  puts(e.backtrace.join(\"\\n\"))\nensure\n  if performed\n    Adapter.adapter_class.generate_schema\n  end\nend"}},{"id":"migrate-class-method","html_id":"migrate-class-method","name":"migrate","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L47","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L47","def":{"name":"migrate","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"migrate(-1)"}},{"id":"rollback(options:Hash(Symbol,DBAny))-class-method","html_id":"rollback(options:Hash(Symbol,DBAny))-class-method","name":"rollback","doc":null,"summary":null,"abstract":false,"args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash(Symbol, DBAny)"}],"args_string":"(options : Hash(Symbol, DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L62","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/runner.cr#L62","def":{"name":"rollback","args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash(Symbol, DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  processed = true\n  Adapter.adapter.ready_to_migrate!\n  if ::Jennifer::Migration::Base.migrations.empty? || (!Version.all.exists?)\n    return\n  end\n  interpolation = {} of String => typeof(Base.migrations[0])\n  Base.migrations.each do |m|\n    interpolation[m.version] = m\n  end\n  versions = if options[:count]?\n    (Version.all.order(version: :desc).limit(options[:count].to_i)).pluck(:version)\n  else\n    if options[:to]?\n      v = options[:to].to_s\n      Version.all.order(version: :desc).where do\n        _version > v\n      end.pluck(:version)\n    else\n      raise(ArgumentError.new)\n    end\n  end\n  versions.each do |v|\n    klass = interpolation[v]\n    klass.new.down\n    Version.all.where do\n      _version == v\n    end.delete\n    processed = true\n    puts(\"Droped migration #{v}\")\n  end\nrescue e\n  puts(e.message)\nensure\n  if processed\n    Adapter.adapter_class.generate_schema\n  end\nend"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","path":"Jennifer/Migration/TableBuilder.html","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr"},{"filename":"jennifer/migration/table_builder/change_table.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr"},{"filename":"jennifer/migration/table_builder/create_index.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr"},{"filename":"jennifer/migration/table_builder/create_table.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr"},{"filename":"jennifer/migration/table_builder/create_view.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_view.cr"},{"filename":"jennifer/migration/table_builder/drop_index.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_index.cr"},{"filename":"jennifer/migration/table_builder/drop_table.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_table.cr"},{"filename":"jennifer/migration/table_builder/drop_view.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_view.cr"},{"filename":"jennifer/migration/table_builder/raw.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/raw.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/change_enum.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_enum.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_enum.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr"},{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration","kind":"module","full_name":"Jennifer::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","path":"Jennifer/Migration/TableBuilder/Base.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Ifrit","kind":"module","full_name":"Ifrit","name":"Ifrit"}],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/ChangeEnum","kind":"class","full_name":"Jennifer::Migration::TableBuilder::ChangeEnum","name":"ChangeEnum"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/ChangeTable","kind":"class","full_name":"Jennifer::Migration::TableBuilder::ChangeTable","name":"ChangeTable"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateEnum","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateEnum","name":"CreateEnum"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateIndex","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateIndex","name":"CreateIndex"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateMaterializedView","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateMaterializedView","name":"CreateMaterializedView"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateTable","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateTable","name":"CreateTable"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateView","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateView","name":"CreateView"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropEnum","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropEnum","name":"DropEnum"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropIndex","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropIndex","name":"DropIndex"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropMaterializedView","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropMaterializedView","name":"DropMaterializedView"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropTable","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropTable","name":"DropTable"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropView","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropView","name":"DropView"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Raw","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Raw","name":"Raw"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name)-class-method","html_id":"new(name)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L19","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L19","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"adapter(*args,**options)-instance-method","html_id":"adapter(*args,**options)-instance-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L13","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L13","def":{"name":"adapter","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter(*args, **options)"}},{"id":"adapter(*args,**options,&block)-instance-method","html_id":"adapter(*args,**options,&amp;block)-instance-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L13","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L13","def":{"name":"adapter","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"column_exists?(*args,**options)-instance-method","html_id":"column_exists?(*args,**options)-instance-method","name":"column_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","def":{"name":"column_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.column_exists?(*args, **options)"}},{"id":"column_exists?(*args,**options,&block)-instance-method","html_id":"column_exists?(*args,**options,&amp;block)-instance-method","name":"column_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","def":{"name":"column_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.column_exists?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"fields:Hash(String,Hash(Symbol,Array(Bool|Float32|Int32|String|Symbol|Nil)|Bool|Float32|Int32|String|Symbol|Nil))-instance-method","html_id":"fields:Hash(String,Hash(Symbol,Array(Bool|Float32|Int32|String|Symbol|Nil)|Bool|Float32|Int32|String|Symbol|Nil))-instance-method","name":"fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Hash(Symbol, Array(Bool | Float32 | Int32 | String | Symbol | Nil) | Bool | Float32 | Int32 | String | Symbol | Nil))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L15","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L15","def":{"name":"fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields"}},{"id":"index_exists?(*args,**options)-instance-method","html_id":"index_exists?(*args,**options)-instance-method","name":"index_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","def":{"name":"index_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.index_exists?(*args, **options)"}},{"id":"index_exists?(*args,**options,&block)-instance-method","html_id":"index_exists?(*args,**options,&amp;block)-instance-method","name":"index_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","def":{"name":"index_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.index_exists?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"name-instance-method","html_id":"name-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L24","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L24","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@name.to_s"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L28","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L28","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"table_exists?(*args,**options)-instance-method","html_id":"table_exists?(*args,**options)-instance-method","name":"table_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","def":{"name":"table_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.table_exists?(*args, **options)"}},{"id":"table_exists?(*args,**options,&block)-instance-method","html_id":"table_exists?(*args,**options,&amp;block)-instance-method","name":"table_exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L12","def":{"name":"table_exists?","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.table_exists?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"to_s-instance-method","html_id":"to_s-instance-method","name":"to_s","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L30","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr#L30","def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"#{@name} -> #{self.class.to_s}\""}}],"macros":[{"id":"str_hash(hash,types)-macro","html_id":"str_hash(hash,types)-macro","name":"str_hash","doc":"accepts hash literal","summary":"<p>accepts hash literal</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"str_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash(\n{{ hash }}\n, String, \n{{ types }}\n)\n    \n"}},{"id":"str_hash_cast(hash,types)-macro","html_id":"str_hash_cast(hash,types)-macro","name":"str_hash_cast","doc":null,"summary":null,"abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"str_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash_cast(\n{{ hash }}\n, String, \n{{ types }}\n)\n    \n"}},{"id":"stringify_hash(hash,types)-macro","html_id":"stringify_hash(hash,types)-macro","name":"stringify_hash","doc":"accepts any hash","summary":"<p>accepts any hash</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"stringify_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_63 = \n{} of String =>\n{{ types }}\n\n        \n{{ hash }}\n.each do |k, v|\n          __temp_63[k.to_s] = v.as(\n{{ types }}\n)\n        \nend\n        __temp_63\n      \nend\n    \n"}},{"id":"sym_hash(hash,types)-macro","html_id":"sym_hash(hash,types)-macro","name":"sym_hash","doc":"accepts hash literal","summary":"<p>accepts hash literal</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"sym_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash(\n{{ hash }}\n, Symbol, \n{{ types }}\n)\n    \n"}},{"id":"sym_hash_cast(hash,types)-macro","html_id":"sym_hash_cast(hash,types)-macro","name":"sym_hash_cast","doc":"accepts any hash or named tuple\nexample: Ifrit.as_sym_hash(hash, String | Int32)","summary":"<p>accepts any hash or named tuple example: Ifrit.as_sym_hash(hash, String | Int32)</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"sym_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash_cast(\n{{ hash }}\n, Symbol, \n{{ types }}\n)\n    \n"}},{"id":"typed_array(arr,klass)-macro","html_id":"typed_array(arr,klass)-macro","name":"typed_array","doc":"accepts arrayliteral","summary":"<p>accepts arrayliteral</p>","abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(arr, klass)","source_link":null,"def":{"name":"typed_array","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        [\n        \n{% for v in arr %}\n          {{ v }}.as({{ klass }}),\n        {% end %}\n\n        ]\n      \nend\n    \n"}},{"id":"typed_array_cast(arr,klass)-macro","html_id":"typed_array_cast(arr,klass)-macro","name":"typed_array_cast","doc":"accepts any array","summary":"<p>accepts any array</p>","abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(arr, klass)","source_link":null,"def":{"name":"typed_array_cast","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        array = [] of \n{{ klass }}\n\n        \n{{ arr }}\n.each \n{ |e| array << \ne.as(\n{{ klass }}\n) }\n        array\n      \nend\n    \n"}},{"id":"typed_hash(hash,key,types)-macro","html_id":"typed_hash(hash,key,types)-macro","name":"typed_hash","doc":"accepts only hash literals\nexample: Ifrit.typed_hash({\"a\" => 1, \"b\" => \"b\"}, String, Int32 | String)","summary":"<p>accepts only hash literals example: Ifrit.typed_hash({\"a\" => 1, \"b\" => \"b\"}, String, Int32 | String)</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, key, types)","source_link":null,"def":{"name":"typed_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_63 = \n{} of \n{{ key.id }}\n => \n{{ types.id }}\n\n        \n{% type = key.resolve %}\n\n        \n{% for k, v in hash %}\n          {% if k.is_a?(MacroId) %}\n            {% if type.union? %}\n              {% p(type.union_types) %}\n              {% if type.union_types.includes?(String) %}\n                {% name = k.stringify %}\n              {% else %}{% if type.union_types.includes?(Symbol) %}\n                {% name = \":#{k}\".id %}\n              {% else %}\n                {% name = k %}\n              {% end %}{% end %}\n            {% else %}{% if type == String %}\n              {% name = \"#{k}\" %}\n            {% else %}{% if type == Symbol %}\n              {% name = \":#{k}\".id %}\n            {% else %}\n              {% name = k %}\n            {% end %}{% end %}{% end %}\n          {% else %}\n            {% name = k %}\n          {% end %}\n          __temp_63[{{ name }}] = {{ v }}.as({{ types.id }})\n        {% end %}\n\n        __temp_63\n      \nend\n    \n"}},{"id":"typed_hash_cast(hash,key,types)-macro","html_id":"typed_hash_cast(hash,key,types)-macro","name":"typed_hash_cast","doc":"accepts any hash","summary":"<p>accepts any hash</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, key, types)","source_link":null,"def":{"name":"typed_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_64 = \n{} of \n{{ key }}\n => \n{{ types.id }}\n\n        \n{{ hash.id }}\n.each \n{ |k, v| __temp_64[k.as(\n{{ key }}\n)] = v.as(\n{{ types.id }}\n) }\n        __temp_64\n      \nend\n    \n"}}],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/AAllowedTypes","path":"Jennifer/Migration/TableBuilder/Base/AAllowedTypes.html","kind":"alias","full_name":"Jennifer::Migration::TableBuilder::Base::AAllowedTypes","name":"AAllowedTypes","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":7,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Array(Bool | Float32 | Int32 | String | Symbol | Nil) | Bool | Float32 | Int32 | String | Symbol | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/AllowedTypes","path":"Jennifer/Migration/TableBuilder/Base/AllowedTypes.html","kind":"alias","full_name":"Jennifer::Migration::TableBuilder::Base::AllowedTypes","name":"AllowedTypes","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Bool | Float32 | Int32 | String | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/DB_OPTIONS","path":"Jennifer/Migration/TableBuilder/Base/DB_OPTIONS.html","kind":"alias","full_name":"Jennifer::Migration::TableBuilder::Base::DB_OPTIONS","name":"DB_OPTIONS","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":8,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"Hash(Symbol, Array(Bool | Float32 | Int32 | String | Symbol | Nil) | Bool | Float32 | Int32 | String | Symbol | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base/EAllowedTypes","path":"Jennifer/Migration/TableBuilder/Base/EAllowedTypes.html","kind":"alias","full_name":"Jennifer::Migration::TableBuilder::Base::EAllowedTypes","name":"EAllowedTypes","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/migration/table_builder/base.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Bool | Float32 | Int32 | String | Symbol | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/ChangeEnum","path":"Jennifer/Migration/TableBuilder/ChangeEnum.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::ChangeEnum","name":"ChangeEnum","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/change_enum.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,options:Hash(Symbol,Array(String)))-class-method","html_id":"new(name,options:Hash(Symbol,Array(String)))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash(Symbol, Array(String))"}],"args_string":"(name, options : Hash(Symbol, Array(String)))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L5","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash(Symbol, Array(String))"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, options)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"add_values-instance-method","html_id":"add_values-instance-method","name":"add_values","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L39","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L39","def":{"name":"add_values","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(typed_array_cast(@options[:add_values].as(Array), String)).each do |field|\n  @adapter.exec(\"ALTER TYPE #{@name} ADD VALUE '#{field}'\")\nend"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L10","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @options.has_key?(:remove_values)\n  remove_values\nend\nif @options.has_key?(:add_values)\n  add_values\nend\nif @options.has_key?(:rename_values)\n  rename_values\nend\nif @options.has_key?(:rename)\n  rename(name, @options[:new_name])\nend\n"}},{"id":"remove_values-instance-method","html_id":"remove_values-instance-method","name":"remove_values","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L20","def":{"name":"remove_values","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new_values = (@adapter.enum_values(@name)) - @options[:remove_values]\ndata_name = @name.dup\neffected_tables = (Query[\"information_schema.columns\"].select(\"table_name, column_name\")).where do\n  ((c(\"udt_name\")) == data_name) & ((c(\"table_catalog\")) == Config.db)\nend.pluck(:table_name, :column_name)\nif effected_tables.empty?\n  recreate_enum(new_values)\nelse\n  change_enum_with_related_tables(effected_tables, new_values)\nend\n"}},{"id":"rename(old_name,new_name)-instance-method","html_id":"rename(old_name,new_name)-instance-method","name":"rename","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L35","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L35","def":{"name":"rename","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@adapter.exec(\"ALTER TYPE #{old_name} RENAME TO #{new_name}\")"}},{"id":"rename_values-instance-method","html_id":"rename_values-instance-method","name":"rename_values","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L45","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/change_enum.cr#L45","def":{"name":"rename_values","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"name = @name\ni = 0\ncount = (@options[:rename_values].as(Array)).size\nwhile i < count\n  old_name = @options[:rename_values][i]\n  i = i + 1\n  new_name = @options[:rename_values][i]\n  i = i + 1\n  Query[\"pg_enum\"].where do\n    ((c(\"enumlabel\")) == old_name) & ((c(\"enumtypid\")) == (sql(\"SELECT OID FROM pg_type WHERE typname = '#{name}'\")))\n  end.update({:enumlabel => new_name})\nend\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/ChangeTable","path":"Jennifer/Migration/TableBuilder/ChangeTable.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::ChangeTable","name":"ChangeTable","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/change_table.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name)-class-method","html_id":"new(name)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L7","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"add_column(name,type:Symbol,options=DB_OPTIONS.new)-instance-method","html_id":"add_column(name,type:Symbol,options=DB_OPTIONS.new)-instance-method","name":"add_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, type : Symbol, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L33","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L33","def":{"name":"add_column","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = (sym_hash_cast(options, AAllowedTypes)).merge(sym_hash({:type => type}, AAllowedTypes))\nself\n"}},{"id":"add_index(name:String,fields:Array(Symbol),type:Symbol?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=>Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=>Symbol)-instance-method","html_id":"add_index(name:String,fields:Array(Symbol),type:Symbol?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=&gt;Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=&gt;Symbol)-instance-method","name":"add_index","doc":"add_index(\"index_name\", [:field1, :field2], { :length => { :field1 => 2, :field2 => 3 }, :order => { :field1 => :asc }})\nadd_index(\"index_name\", [:field1], { :length => { :field1 => 2, :field2 => 3 }, :order => { :field1 => :asc }})","summary":"<p>add_index(\"index_name\", [:field1, :field2], { :length => { :field1 => 2, :field2 => 3 }, :order => { :field1 => :asc }}) add_index(\"index_name\", [:field1], { :length => { :field1 => 2, :field2 => 3 }, :order => { :field1 => :asc }})</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"args_string":"(name : String, fields : Array(Symbol), type : Symbol? = <span class=\"n\">nil</span>, lengths : Hash(Symbol, Int32) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Int32</span>, orders : Hash(Symbol, Symbol) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Symbol</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L47","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L47","def":{"name":"add_index","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@indexes << (CreateIndex.new(@name, name, fields, type, lengths, orders))\nself\n"}},{"id":"add_index(name:String,field:Symbol,type:Symbol?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","html_id":"add_index(name:String,field:Symbol,type:Symbol?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","name":"add_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"args_string":"(name : String, field : Symbol, type : Symbol? = <span class=\"n\">nil</span>, length : Int32? = <span class=\"n\">nil</span>, order : Symbol? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L52","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L52","def":{"name":"add_index","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"add_index(name, [field], type: type, orders: (order ? {field => order.not_nil!} : {} of Symbol => Symbol), lengths: (length ? {field => length.not_nil!} : {} of Symbol => Int32))"}},{"id":"change_column(old_name,type:Symbol?=nil,options=DB_OPTIONS.new)-instance-method","html_id":"change_column(old_name,type:Symbol?=nil,options=DB_OPTIONS.new)-instance-method","name":"change_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(old_name, type : Symbol? = <span class=\"n\">nil</span>, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L20","def":{"name":"change_column","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"change_column(old_name, old_name, type, options)"}},{"id":"change_column(old_name,new_name,type:Symbol?=nil,options=DB_OPTIONS.new)-instance-method","html_id":"change_column(old_name,new_name,type:Symbol?=nil,options=DB_OPTIONS.new)-instance-method","name":"change_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(old_name, new_name, type : Symbol? = <span class=\"n\">nil</span>, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L24","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L24","def":{"name":"change_column","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@changed_columns[old_name.to_s] = (sym_hash_cast(options, AAllowedTypes)).merge(sym_hash({:new_name => new_name, :type => type}, EAllowedTypes))\nself\n"}},{"id":"changed_columns:Hash(String,Hash(Symbol,Array(Bool|Float32|Int32|String|Symbol|Nil)|Bool|Float32|Int32|String|Symbol|Nil))-instance-method","html_id":"changed_columns:Hash(String,Hash(Symbol,Array(Bool|Float32|Int32|String|Symbol|Nil)|Bool|Float32|Int32|String|Symbol|Nil))-instance-method","name":"changed_columns","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Hash(Symbol, Array(Bool | Float32 | Int32 | String | Symbol | Nil) | Bool | Float32 | Int32 | String | Symbol | Nil))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L5","def":{"name":"changed_columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@changed_columns"}},{"id":"drop_column(name)-instance-method","html_id":"drop_column(name)-instance-method","name":"drop_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L40","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L40","def":{"name":"drop_column","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@drop_columns << name.to_s\nself\n"}},{"id":"drop_columns:Array(String)-instance-method","html_id":"drop_columns:Array(String)-instance-method","name":"drop_columns","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L5","def":{"name":"drop_columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@drop_columns"}},{"id":"drop_index(name)-instance-method","html_id":"drop_index(name)-instance-method","name":"drop_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L62","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L62","def":{"name":"drop_index","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@drop_index << (DropIndex.new(@name, name.to_s))\nself\n"}},{"id":"drop_index:Array(Jennifer::Migration::TableBuilder::DropIndex)-instance-method","html_id":"drop_index:Array(Jennifer::Migration::TableBuilder::DropIndex)-instance-method","name":"drop_index","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Jennifer::Migration::TableBuilder::DropIndex)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L5","def":{"name":"drop_index","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@drop_index"}},{"id":"new_table_rename-instance-method","html_id":"new_table_rename-instance-method","name":"new_table_rename","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L5","def":{"name":"new_table_rename","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@new_table_rename"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L67","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L67","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@drop_columns.each do |c|\n  Adapter.adapter.drop_column(@name, c)\nend\n@fields.each do |n, opts|\n  Adapter.adapter.add_column(@name, n, opts)\nend\n@changed_columns.each do |n, opts|\n  Adapter.adapter.change_column(@name, n, opts[:new_name].as(String | Symbol), opts)\nend\n@indexes.each(&.process)\n@drop_index.each(&.process)\nif @new_table_name.empty?\nelse\n  Adapter.adapter.rename_table(@name, @new_table_name)\nend\n"}},{"id":"rename_table(new_name)-instance-method","html_id":"rename_table(new_name)-instance-method","name":"rename_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L15","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/change_table.cr#L15","def":{"name":"rename_table","args":[{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new_table_name = new_name.to_s\nself\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateEnum","path":"Jennifer/Migration/TableBuilder/CreateEnum.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateEnum","name":"CreateEnum","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/create_enum.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,values:Array(String))-class-method","html_id":"new(name,values:Array(String))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(String)"}],"args_string":"(name, values : Array(String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr#L5","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, values)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_enum.cr#L10","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@adapter.define_enum(@name, @values)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateIndex","path":"Jennifer/Migration/TableBuilder/CreateIndex.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateIndex","name":"CreateIndex","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/create_index.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table_name,index_name,_fields,type,lengths,orders)-class-method","html_id":"new(table_name,index_name,_fields,type,lengths,orders)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":""},{"name":"index_name","doc":null,"default_value":"","external_name":"index_name","restriction":""},{"name":"_fields","doc":null,"default_value":"","external_name":"_fields","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"lengths","doc":null,"default_value":"","external_name":"lengths","restriction":""},{"name":"orders","doc":null,"default_value":"","external_name":"orders","restriction":""}],"args_string":"(table_name, index_name, _fields, type, lengths, orders)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L7","def":{"name":"new","args":[{"name":"table_name","doc":null,"default_value":"","external_name":"table_name","restriction":""},{"name":"index_name","doc":null,"default_value":"","external_name":"index_name","restriction":""},{"name":"_fields","doc":null,"default_value":"","external_name":"_fields","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"lengths","doc":null,"default_value":"","external_name":"lengths","restriction":""},{"name":"orders","doc":null,"default_value":"","external_name":"orders","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table_name, index_name, _fields, type, lengths, orders)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"_fields:Array(Symbol)-instance-method","html_id":"_fields:Array(Symbol)-instance-method","name":"_fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L5","def":{"name":"_fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Symbol)","visibility":"Public","body":"@_fields"}},{"id":"index_name:String-instance-method","html_id":"index_name:String-instance-method","name":"index_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L5","def":{"name":"index_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@index_name"}},{"id":"lengths:Hash(Symbol,Int32)-instance-method","html_id":"lengths:Hash(Symbol,Int32)-instance-method","name":"lengths","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(Symbol, Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L5","def":{"name":"lengths","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(Symbol, Int32)","visibility":"Public","body":"@lengths"}},{"id":"orders:Hash(Symbol,Symbol)-instance-method","html_id":"orders:Hash(Symbol,Symbol)-instance-method","name":"orders","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(Symbol, Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L5","def":{"name":"orders","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(Symbol, Symbol)","visibility":"Public","body":"@orders"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L11","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L11","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.add_index(@name, @index_name, {:type => @type, :fields => _fields, :length => @lengths, :order => orders})"}},{"id":"type:Symbol?-instance-method","html_id":"type:Symbol?-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbol?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_index.cr#L5","def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol | ::Nil","visibility":"Public","body":"@type"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateMaterializedView","path":"Jennifer/Migration/TableBuilder/CreateMaterializedView.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateMaterializedView","name":"CreateMaterializedView","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,query)-class-method","html_id":"new(name,query)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(name, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr#L8","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/create_materialized_view.cr#L12","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"buff = generate_query\nadapter.exec(buff)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateTable","path":"Jennifer/Migration/TableBuilder/CreateTable.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateTable","name":"CreateTable","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/create_table.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"add_index(name:String,field:Symbol,type:Symbol?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","html_id":"add_index(name:String,field:Symbol,type:Symbol?=nil,length:Int32?=nil,order:Symbol?=nil)-instance-method","name":"add_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"args_string":"(name : String, field : Symbol, type : Symbol? = <span class=\"n\">nil</span>, length : Int32? = <span class=\"n\">nil</span>, order : Symbol? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L43","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L43","def":{"name":"add_index","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Symbol"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"length","doc":null,"default_value":"nil","external_name":"length","restriction":"Int32 | ::Nil"},{"name":"order","doc":null,"default_value":"nil","external_name":"order","restriction":"Symbol | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"add_index(name, [field], type: type, orders: (order ? {field => order.not_nil!} : {} of Symbol => Symbol), lengths: (length ? {field => length.not_nil!} : {} of Symbol => Int32))"}},{"id":"add_index(name:String,fields:Array(Symbol),type:Symbol?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=>Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=>Symbol)-instance-method","html_id":"add_index(name:String,fields:Array(Symbol),type:Symbol?=nil,lengths:Hash(Symbol,Int32)={}ofSymbol=&gt;Int32,orders:Hash(Symbol,Symbol)={}ofSymbol=&gt;Symbol)-instance-method","name":"add_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"args_string":"(name : String, fields : Array(Symbol), type : Symbol? = <span class=\"n\">nil</span>, lengths : Hash(Symbol, Int32) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Int32</span>, orders : Hash(Symbol, Symbol) = {} <span class=\"k\">of</span> <span class=\"t\">Symbol</span> => <span class=\"t\">Symbol</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L38","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L38","def":{"name":"add_index","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Symbol)"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"Symbol | ::Nil"},{"name":"lengths","doc":null,"default_value":"{} of Symbol => Int32","external_name":"lengths","restriction":"Hash(Symbol, Int32)"},{"name":"orders","doc":null,"default_value":"{} of Symbol => Symbol","external_name":"orders","restriction":"Hash(Symbol, Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@indexes << (CreateIndex.new(@name, name, fields, type, lengths, orders))\nself\n"}},{"id":"bigint(name,options=DB_OPTIONS.new)-instance-method","html_id":"bigint(name,options=DB_OPTIONS.new)-instance-method","name":"bigint","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"bigint","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :bigint}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"blchar(name,options=DB_OPTIONS.new)-instance-method","html_id":"blchar(name,options=DB_OPTIONS.new)-instance-method","name":"blchar","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"blchar","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :blchar}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"blob(name,options=DB_OPTIONS.new)-instance-method","html_id":"blob(name,options=DB_OPTIONS.new)-instance-method","name":"blob","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"blob","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :blob}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"bool(name,options=DB_OPTIONS.new)-instance-method","html_id":"bool(name,options=DB_OPTIONS.new)-instance-method","name":"bool","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"bool","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :bool}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"box(name,options=DB_OPTIONS.new)-instance-method","html_id":"box(name,options=DB_OPTIONS.new)-instance-method","name":"box","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"box","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :box}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"bytea(name,options=DB_OPTIONS.new)-instance-method","html_id":"bytea(name,options=DB_OPTIONS.new)-instance-method","name":"bytea","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"bytea","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :bytea}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"char(name,options=DB_OPTIONS.new)-instance-method","html_id":"char(name,options=DB_OPTIONS.new)-instance-method","name":"char","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"char","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :char}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"circle(name,options=DB_OPTIONS.new)-instance-method","html_id":"circle(name,options=DB_OPTIONS.new)-instance-method","name":"circle","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"circle","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :circle}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"date_time(name,options=DB_OPTIONS.new)-instance-method","html_id":"date_time(name,options=DB_OPTIONS.new)-instance-method","name":"date_time","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"date_time","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :date_time}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"decimal(name,options=DB_OPTIONS.new)-instance-method","html_id":"decimal(name,options=DB_OPTIONS.new)-instance-method","name":"decimal","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"decimal","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :decimal}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"double(name,options=DB_OPTIONS.new)-instance-method","html_id":"double(name,options=DB_OPTIONS.new)-instance-method","name":"double","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"double","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :double}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"enum(name,values=[]ofString,options=DB_OPTIONS.new)-instance-method","html_id":"enum(name,values=[]ofString,options=DB_OPTIONS.new)-instance-method","name":"enum","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"[] of String","external_name":"values","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, values = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L18","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L18","def":{"name":"enum","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"values","doc":null,"default_value":"[] of String","external_name":"values","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"hash = (sym_hash({:type => :enum, :values => typed_array_cast(values, EAllowedTypes)}, AAllowedTypes)).merge(options)\n@fields[name.to_s] = hash\nself\n"}},{"id":"field(name,data_type,options=DB_OPTIONS.new)-instance-method","html_id":"field(name,data_type,options=DB_OPTIONS.new)-instance-method","name":"field","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"data_type","doc":null,"default_value":"","external_name":"data_type","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, data_type, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L24","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L24","def":{"name":"field","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"data_type","doc":null,"default_value":"","external_name":"data_type","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields[name.to_s] = (sym_hash({:sql_type => data_type}, AAllowedTypes)).merge(options)\nself\n"}},{"id":"float(name,options=DB_OPTIONS.new)-instance-method","html_id":"float(name,options=DB_OPTIONS.new)-instance-method","name":"float","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"float","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :float}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"integer(name,options=DB_OPTIONS.new)-instance-method","html_id":"integer(name,options=DB_OPTIONS.new)-instance-method","name":"integer","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"integer","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :integer}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"json(name,options=DB_OPTIONS.new)-instance-method","html_id":"json(name,options=DB_OPTIONS.new)-instance-method","name":"json","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"json","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :json}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"jsonb(name,options=DB_OPTIONS.new)-instance-method","html_id":"jsonb(name,options=DB_OPTIONS.new)-instance-method","name":"jsonb","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"jsonb","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :jsonb}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"line(name,options=DB_OPTIONS.new)-instance-method","html_id":"line(name,options=DB_OPTIONS.new)-instance-method","name":"line","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"line","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :line}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"lseg(name,options=DB_OPTIONS.new)-instance-method","html_id":"lseg(name,options=DB_OPTIONS.new)-instance-method","name":"lseg","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"lseg","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :lseg}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"numeric(name,options=DB_OPTIONS.new)-instance-method","html_id":"numeric(name,options=DB_OPTIONS.new)-instance-method","name":"numeric","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"numeric","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :numeric}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"oid(name,options=DB_OPTIONS.new)-instance-method","html_id":"oid(name,options=DB_OPTIONS.new)-instance-method","name":"oid","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"oid","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :oid}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"path(name,options=DB_OPTIONS.new)-instance-method","html_id":"path(name,options=DB_OPTIONS.new)-instance-method","name":"path","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"path","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :path}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"point(name,options=DB_OPTIONS.new)-instance-method","html_id":"point(name,options=DB_OPTIONS.new)-instance-method","name":"point","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"point","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :point}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"polygon(name,options=DB_OPTIONS.new)-instance-method","html_id":"polygon(name,options=DB_OPTIONS.new)-instance-method","name":"polygon","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"polygon","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :polygon}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L5","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.create_table(self)\n@indexes.each(&.process)\n"}},{"id":"reference(name)-instance-method","html_id":"reference(name)-instance-method","name":"reference","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L29","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L29","def":{"name":"reference","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"integer(name.to_s + \"_id\", {:type => :integer, :null => true})"}},{"id":"short(name,options=DB_OPTIONS.new)-instance-method","html_id":"short(name,options=DB_OPTIONS.new)-instance-method","name":"short","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"short","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :short}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"string(name,options=DB_OPTIONS.new)-instance-method","html_id":"string(name,options=DB_OPTIONS.new)-instance-method","name":"string","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"string","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :string}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"text(name,options=DB_OPTIONS.new)-instance-method","html_id":"text(name,options=DB_OPTIONS.new)-instance-method","name":"text","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"text","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :text}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"timestamp(name,options=DB_OPTIONS.new)-instance-method","html_id":"timestamp(name,options=DB_OPTIONS.new)-instance-method","name":"timestamp","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"timestamp","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :timestamp}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"timestamps(options=DB_OPTIONS.new)-instance-method","html_id":"timestamps(options=DB_OPTIONS.new)-instance-method","name":"timestamps","doc":null,"summary":null,"abstract":false,"args":[{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L33","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L33","def":{"name":"timestamps","args":[{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"timestamp(:created_at, {:null => true})\ntimestamp(:updated_at, {:null => true})\n"}},{"id":"timestamptz(name,options=DB_OPTIONS.new)-instance-method","html_id":"timestamptz(name,options=DB_OPTIONS.new)-instance-method","name":"timestamptz","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"timestamptz","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :timestamptz}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"uuid(name,options=DB_OPTIONS.new)-instance-method","html_id":"uuid(name,options=DB_OPTIONS.new)-instance-method","name":"uuid","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"uuid","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :uuid}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"var_string(name,options=DB_OPTIONS.new)-instance-method","html_id":"var_string(name,options=DB_OPTIONS.new)-instance-method","name":"var_string","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"var_string","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :var_string}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"varchar(name,options=DB_OPTIONS.new)-instance-method","html_id":"varchar(name,options=DB_OPTIONS.new)-instance-method","name":"varchar","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"varchar","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :varchar}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}},{"id":"xml(name,options=DB_OPTIONS.new)-instance-method","html_id":"xml(name,options=DB_OPTIONS.new)-instance-method","name":"xml","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"args_string":"(name, options = <span class=\"t\">DB_OPTIONS</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_table.cr#L10","def":{"name":"xml","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"options","doc":null,"default_value":"DB_OPTIONS.new","external_name":"options","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"defaults = sym_hash({:type => :xml}, AAllowedTypes)\n@fields[name.to_s] = defaults.merge(options)\nself\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/CreateView","path":"Jennifer/Migration/TableBuilder/CreateView.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::CreateView","name":"CreateView","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/create_view.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,query)-class-method","html_id":"new(name,query)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(name, query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_view.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_view.cr#L7","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":"TODO: move query generating to SqlGenerator class and make\ntable builder classes to call executions by themselves","summary":"<p><span class=\"flag orange\">TODO</span>  move query generating to SqlGenerator class and make table builder classes to call executions by themselves</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_view.cr#L13","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/create_view.cr#L13","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.create_view(@name, @query)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropEnum","path":"Jennifer/Migration/TableBuilder/DropEnum.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropEnum","name":"DropEnum","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_enum.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name)-class-method","html_id":"new(name)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr#L5","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_enum.cr#L10","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@adapter.drop_enum(@name)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropIndex","path":"Jennifer/Migration/TableBuilder/DropIndex.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropIndex","name":"DropIndex","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/drop_index.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_index.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,index_name:String)-class-method","html_id":"new(name,index_name:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"index_name","doc":null,"default_value":"","external_name":"index_name","restriction":"String"}],"args_string":"(name, index_name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_index.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_index.cr#L5","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"index_name","doc":null,"default_value":"","external_name":"index_name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, index_name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_index.cr#L9","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_index.cr#L9","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.drop_index(@name, @index_name)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropMaterializedView","path":"Jennifer/Migration/TableBuilder/DropMaterializedView.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropMaterializedView","name":"DropMaterializedView","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name)-class-method","html_id":"new(name)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr#L5","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr#L9","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/migration/table_builder/drop_materialized_view.cr#L9","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.exec(\"DROP MATERIALIZED VIEW #{name}\")"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropTable","path":"Jennifer/Migration/TableBuilder/DropTable.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropTable","name":"DropTable","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/drop_table.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_table.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_table.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_table.cr#L5","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.drop_table(self)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/DropView","path":"Jennifer/Migration/TableBuilder/DropView.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::DropView","name":"DropView","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/drop_view.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_view.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_view.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/drop_view.cr#L5","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.drop_view(@name)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Raw","path":"Jennifer/Migration/TableBuilder/Raw.html","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Raw","name":"Raw","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder/Base","kind":"class","full_name":"Jennifer::Migration::TableBuilder::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/table_builder/raw.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/raw.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/TableBuilder","kind":"module","full_name":"Jennifer::Migration::TableBuilder","name":"TableBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(query:String)-class-method","html_id":"new(query:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"}],"args_string":"(query : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/raw.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/raw.cr#L7","def":{"name":"new","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"process-instance-method","html_id":"process-instance-method","name":"process","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/raw.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/raw.cr#L12","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.exec(@raw_sql)"}},{"id":"raw_sql:String-instance-method","html_id":"raw_sql:String-instance-method","name":"raw_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/raw.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/table_builder/raw.cr#L5","def":{"name":"raw_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@raw_sql"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/Version","path":"Jennifer/Migration/Version.html","kind":"class","full_name":"Jennifer::Migration::Version","name":"Version","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationDefinition","kind":"module","full_name":"Jennifer::Model::RelationDefinition","name":"RelationDefinition"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Callback","kind":"module","full_name":"Jennifer::Model::Callback","name":"Callback"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Validation","kind":"module","full_name":"Jennifer::Model::Validation","name":"Validation"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/ValidationMessages","kind":"module","full_name":"Jennifer::Model::ValidationMessages","name":"ValidationMessages"},{"html_id":"github.com/imdrasil/jennifer.cr/Accord","kind":"module","full_name":"Accord","name":"Accord"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/STIMapping","kind":"module","full_name":"Jennifer::Model::STIMapping","name":"STIMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping","kind":"module","full_name":"Jennifer::Model::Mapping","name":"Mapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/migration/version.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/version.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"AFTER_CREATE_CALLBACKS","value":"[] of String","doc":null,"summary":null},{"name":"AFTER_DESTROY_CALLBACKS","value":"[] of String","doc":null,"summary":null},{"name":"AFTER_INITIALIZE_CALLBACKS","value":"[] of String","doc":null,"summary":null},{"name":"AFTER_SAVE_CALLBACKS","value":"[\"__refresh_changes\"] of String","doc":null,"summary":null},{"name":"AFTER_VALIDATION_CALLBACKS","value":"[] of String","doc":null,"summary":null},{"name":"BEFORE_CREATE_CALLBACKS","value":"[] of String","doc":null,"summary":null},{"name":"BEFORE_DESTROY_CALLBACKS","value":"[] of String","doc":null,"summary":null},{"name":"BEFORE_SAVE_CALLBACKS","value":"[\"__check_if_changed\"] of String","doc":null,"summary":null},{"name":"BEFORE_VALIDATION_CALLBACKS","value":"[] of String","doc":null,"summary":null},{"name":"COLUMNS_METADATA","value":"{id: {type: Primary32, stringified_type: \"Primary32\", primary: true, parsed_type: \"Primary32?\"}, version: {type: String, stringified_type: \"String\", parsed_type: \"String\"}}","doc":null,"summary":null},{"name":"RELATION_NAMES","value":"[] of String","doc":null,"summary":null},{"name":"VALIDATION_METHODS","value":"[] of String","doc":null,"summary":null},{"name":"WITH_DEFAULT_CONSTRUCTOR","value":"false","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration","kind":"module","full_name":"Jennifer::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[{"id":"_id-class-method","html_id":"_id-class-method","name":"_id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"_id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"c(\"id\")"}},{"id":"_version-class-method","html_id":"_version-class-method","name":"_version","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"_version","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"c(\"version\")"}},{"id":"build(pull:DB::ResultSet)-class-method","html_id":"build(pull:DB::ResultSet)-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"DB::ResultSet"}],"args_string":"(pull : DB::ResultSet)","source_link":null,"source_link":null,"def":{"name":"build","args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"DB::ResultSet"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n            {% klasses = @type.all_subclasses.select do |s|\n  (s.constant(\"STI\")) == true\nend %}\n            {% if !klasses.empty? %}\n              hash = ::Jennifer::Adapter.adapter.result_to_hash(pull)\n              o =\n                case hash[\"type\"]\n                when \"\", nil, \"{{ @type }}\"\n                  new(hash, false)\n                {% for klass in klasses %}\n                when \"{{ klass }}\"\n                  {{ klass }}.new(hash, false)\n                {% end %}\n                else\n                  raise ::Jennifer::UnknownSTIType.new(self, hash[\"type\"])\n                end\n            {% else %}\n              o = new(pull)\n            {% end %}\n\n            o.__after_initialize_callback\n            o\n          {% end %}"}},{"id":"children_classes-class-method","html_id":"children_classes-class-method","name":"children_classes","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"children_classes","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[] of Model::Base.class"}},{"id":"columns_tuple-class-method","html_id":"columns_tuple-class-method","name":"columns_tuple","doc":"Returns named tuple of column metadata","summary":"<p>Returns named tuple of column metadata</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"columns_tuple","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"COLUMNS_METADATA"}},{"id":"field_count-class-method","html_id":"field_count-class-method","name":"field_count","doc":"Returns field count","summary":"<p>Returns field count</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"field_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"2"}},{"id":"field_names-class-method","html_id":"field_names-class-method","name":"field_names","doc":"Returns array of field names","summary":"<p>Returns array of field names</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"field_names","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"id\", \"version\"]"}},{"id":"has_table?-class-method","html_id":"has_table?-class-method","name":"has_table?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/version.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/version.cr#L10","def":{"name":"has_table?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"false"}},{"id":"primary-class-method","html_id":"primary-class-method","name":"primary","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"primary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"c(\"id\")"}},{"id":"primary_auto_incrementable?-class-method","html_id":"primary_auto_incrementable?-class-method","name":"primary_auto_incrementable?","doc":"Returns if primary field is autoincrementable","summary":"<p>Returns if primary field is autoincrementable</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"primary_auto_incrementable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"true"}},{"id":"primary_field_name-class-method","html_id":"primary_field_name-class-method","name":"primary_field_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"primary_field_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"id\""}},{"id":"primary_field_type-class-method","html_id":"primary_field_type-class-method","name":"primary_field_type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"primary_field_type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Union(Primary32, ::Nil)"}},{"id":"relation(name:String)-class-method","html_id":"relation(name:String)-class-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":null,"source_link":null,"def":{"name":"relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  @@relations[name]\nrescue e : KeyError\n  raise(Jennifer::UnknownRelation.new(self, e))\nend"}},{"id":"relations-class-method","html_id":"relations-class-method","name":"relations","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/version.cr#L3","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/version.cr#L3","def":{"name":"relations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@relations"}},{"id":"singular_table_name-class-method","html_id":"singular_table_name-class-method","name":"singular_table_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/version.cr#L3","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/version.cr#L3","def":{"name":"singular_table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@singular_table_name || (@@singular_table_name = Jennifer::Migration::Version.to_s.underscore)"}},{"id":"strict_mapping?-class-method","html_id":"strict_mapping?-class-method","name":"strict_mapping?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"strict_mapping?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@strict_mapping || (@@strict_mapping = (::Jennifer::Adapter.adapter.table_column_count(table_name)) == field_count)"}},{"id":"superclass-class-method","html_id":"superclass-class-method","name":"superclass","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/version.cr#L3","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/migration/version.cr#L3","def":{"name":"superclass","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Jennifer::Model::Base"}}],"constructors":[{"id":"new(values:Hash(String,Jennifer::DBAny))-class-method","html_id":"new(values:Hash(String,Jennifer::DBAny))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"args_string":"(values : Hash(String, Jennifer::DBAny))","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(values)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(values:Hash(Symbol,Jennifer::DBAny)|NamedTuple)-class-method","html_id":"new(values:Hash(Symbol,Jennifer::DBAny)|NamedTuple)-class-method","name":"new","doc":"Accepts symbol hash or named tuple, stringify it and calls\nTODO: check how converting affects performance","summary":"<p>Accepts symbol hash or named tuple, stringify it and calls TODO: check how converting affects performance</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(Symbol, ::Jennifer::DBAny) | NamedTuple"}],"args_string":"(values : Hash(Symbol, Jennifer::DBAny) | NamedTuple)","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(Symbol, ::Jennifer::DBAny) | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(values)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(values:Hash|NamedTuple,new_record)-class-method","html_id":"new(values:Hash|NamedTuple,new_record)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":""}],"args_string":"(values : Hash | NamedTuple, new_record)","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(values, new_record)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(__temp_65:DB::ResultSet)-class-method","html_id":"new(__temp_65:DB::ResultSet)-class-method","name":"new","doc":"Creates object from `DB::ResultSet`","summary":"<p>Creates object from <code><a href=\"../../DB/ResultSet.html\">DB::ResultSet</a></code></p>","abstract":false,"args":[{"name":"__temp_65","doc":null,"default_value":"","external_name":"__temp_65","restriction":"DB::ResultSet"}],"args_string":"(__temp_65 : DB::ResultSet)","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"__temp_65","doc":null,"default_value":"","external_name":"__temp_65","restriction":"DB::ResultSet"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(__temp_65)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"__after_create_callback-instance-method","html_id":"__after_create_callback-instance-method","name":"__after_create_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"__after_create_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if super()\n  else\n    return false\n  end\n  {% for method in AFTER_CREATE_CALLBACKS %}\n            {{ method.id }}\n          {% end %}\n  true\nrescue ::Jennifer::Skip\n  false\nend"}},{"id":"__after_destroy_callback-instance-method","html_id":"__after_destroy_callback-instance-method","name":"__after_destroy_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"__after_destroy_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if super()\n  else\n    return false\n  end\n  {% for method in AFTER_DESTROY_CALLBACKS %}\n            {{ method.id }}\n          {% end %}\n  true\nrescue ::Jennifer::Skip\n  false\nend"}},{"id":"__after_initialize_callback-instance-method","html_id":"__after_initialize_callback-instance-method","name":"__after_initialize_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"__after_initialize_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if super()\n  else\n    return false\n  end\n  {% for method in AFTER_INITIALIZE_CALLBACKS %}\n            {{ method.id }}\n          {% end %}\n  true\nrescue ::Jennifer::Skip\n  false\nend"}},{"id":"__after_save_callback-instance-method","html_id":"__after_save_callback-instance-method","name":"__after_save_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"__after_save_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if super()\n  else\n    return false\n  end\n  {% for method in AFTER_SAVE_CALLBACKS %}\n            {{ method.id }}\n          {% end %}\n  true\nrescue ::Jennifer::Skip\n  false\nend"}},{"id":"__after_validation_callback-instance-method","html_id":"__after_validation_callback-instance-method","name":"__after_validation_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"__after_validation_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if super()\n  else\n    return false\n  end\n  {% for method in AFTER_VALIDATION_CALLBACKS %}\n            {{ method.id }}\n          {% end %}\n  true\nrescue ::Jennifer::Skip\n  false\nend"}},{"id":"__before_create_callback-instance-method","html_id":"__before_create_callback-instance-method","name":"__before_create_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"__before_create_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if super()\n  else\n    return false\n  end\n  {% for method in BEFORE_CREATE_CALLBACKS %}\n            {{ method.id }}\n          {% end %}\n  true\nrescue ::Jennifer::Skip\n  false\nend"}},{"id":"__before_destroy_callback-instance-method","html_id":"__before_destroy_callback-instance-method","name":"__before_destroy_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"__before_destroy_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if super()\n  else\n    return false\n  end\n  {% for method in BEFORE_DESTROY_CALLBACKS %}\n            {{ method.id }}\n          {% end %}\n  true\nrescue ::Jennifer::Skip\n  false\nend"}},{"id":"__before_save_callback-instance-method","html_id":"__before_save_callback-instance-method","name":"__before_save_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"__before_save_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if super()\n  else\n    return false\n  end\n  {% for method in BEFORE_SAVE_CALLBACKS %}\n            {{ method.id }}\n          {% end %}\n  true\nrescue ::Jennifer::Skip\n  false\nend"}},{"id":"__before_validation_callback-instance-method","html_id":"__before_validation_callback-instance-method","name":"__before_validation_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"__before_validation_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if super()\n  else\n    return false\n  end\n  {% for method in BEFORE_VALIDATION_CALLBACKS %}\n            {{ method.id }}\n          {% end %}\n  true\nrescue ::Jennifer::Skip\n  false\nend"}},{"id":"__refresh_relation_retrieves-instance-method","html_id":"__refresh_relation_retrieves-instance-method","name":"__refresh_relation_retrieves","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"__refresh_relation_retrieves","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n            {% relations = RELATION_NAMES %}\n            {% for rel in relations %}\n              @__{{ rel.id }}_retrieved = false\n            {% end %}\n            super\n          {% end %}"}},{"id":"_extract_attributes(pull:DB::ResultSet)-instance-method","html_id":"_extract_attributes(pull:DB::ResultSet)-instance-method","name":"_extract_attributes","doc":"Extracts arguments due to mapping from *pull* and returns tuple for\nfields assignment. It stands on that fact result set has all defined fields in a raw\nTODO: think about moving it to class scope\nNOTE: don't use it manually - there is some dependencies on caller such as reading tesult set to the end\nif eception was raised","summary":"<p>Extracts arguments due to mapping from <em>pull</em> and returns tuple for fields assignment.</p>","abstract":false,"args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"DB::ResultSet"}],"args_string":"(pull : DB::ResultSet)","source_link":null,"source_link":null,"def":{"name":"_extract_attributes","args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"DB::ResultSet"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"requested_columns_count = self.class.actual_table_field_count\n::Jennifer::BaseException.assert_column_count(requested_columns_count, pull.column_count)\n__temp_66 = nil\n__temp_67 = false\n__temp_68 = nil\n__temp_69 = false\nrequested_columns_count.times do\n  column = pull.column_name(pull.column_index)\n  case column\n  when \"id\"\n    __temp_67 = true\n    begin\n      __temp_66 = pull.read(::Union(Primary32, ::Nil))\n    rescue e : Exception\n      if ::Jennifer::DataTypeMismatch.match?(e)\n        raise(::Jennifer::DataTypeMismatch.new(column, Jennifer::Migration::Version, e))\n      end\n      raise(e)\n    end\n  when \"version\"\n    __temp_69 = true\n    begin\n      __temp_68 = pull.read(String)\n    rescue e : Exception\n      if ::Jennifer::DataTypeMismatch.match?(e)\n        raise(::Jennifer::DataTypeMismatch.new(column, Jennifer::Migration::Version, e))\n      end\n      raise(e)\n    end\n  else\n    raise(::Jennifer::BaseException.new(\"Undefined column #{column} for model Jennifer::Migration::Version.\"))\n  end\nend\nif __temp_67\nelse\n  raise(::Jennifer::BaseException.new(\"Column #{Jennifer::Migration::Version}#id hasn't been found in the result set.\"))\nend\nif __temp_69\nelse\n  raise(::Jennifer::BaseException.new(\"Column #{Jennifer::Migration::Version}#version hasn't been found in the result set.\"))\nend\n{begin\n  __temp_66.as(Primary32 | ::Nil)\nrescue e : Exception\n  if ::Jennifer::DataTypeCasting.match?(e)\n    raise(::Jennifer::DataTypeCasting.new(\"id\", Jennifer::Migration::Version, e))\n  end\n  raise(e)\nend, begin\n  __temp_68.as(String)\nrescue e : Exception\n  if ::Jennifer::DataTypeCasting.match?(e)\n    raise(::Jennifer::DataTypeCasting.new(\"version\", Jennifer::Migration::Version, e))\n  end\n  raise(e)\nend}\n"}},{"id":"_extract_attributes(values:Hash(String,Jennifer::DBAny))-instance-method","html_id":"_extract_attributes(values:Hash(String,Jennifer::DBAny))-instance-method","name":"_extract_attributes","doc":null,"summary":null,"abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"args_string":"(values : Hash(String, Jennifer::DBAny))","source_link":null,"source_link":null,"def":{"name":"_extract_attributes","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"__temp_66 = nil\n__temp_67 = true\n__temp_68 = nil\n__temp_69 = true\nif !(values[\"id\"]?.nil?)\n  __temp_66 = values[\"id\"]\nelse\n  __temp_67 = false\nend\nif !(values[\"version\"]?.nil?)\n  __temp_68 = values[\"version\"]\nelse\n  __temp_69 = false\nend\nbegin\n  __temp_70 = __bool_convert(__temp_66, ::Union(Primary32, ::Nil))\nrescue e : Exception\n  if ::Jennifer::DataTypeCasting.match?(e)\n    raise(::Jennifer::DataTypeCasting.new(\"id\", Jennifer::Migration::Version, e))\n  end\n  raise(e)\nend\nbegin\n  __temp_71 = __bool_convert(__temp_68, String)\nrescue e : Exception\n  if ::Jennifer::DataTypeCasting.match?(e)\n    raise(::Jennifer::DataTypeCasting.new(\"version\", Jennifer::Migration::Version, e))\n  end\n  raise(e)\nend\n{__temp_70, __temp_71}\n"}},{"id":"append_relation(name:String,hash)-instance-method","html_id":"append_relation(name:String,hash)-instance-method","name":"append_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"args_string":"(name : String, hash)","source_link":null,"source_link":null,"def":{"name":"append_relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n            {% relations = RELATION_NAMES %}\n            {% if relations.size > 0 %}\n              case name\n              {% for rel in relations %}\n              when {{ rel }}\n                append_{{ rel.id }}(hash)\n              {% end %}\n              else\n                super(name, hash)\n              end\n            {% end %}\n          {% end %}"}},{"id":"arguments_to_insert-instance-method","html_id":"arguments_to_insert-instance-method","name":"arguments_to_insert","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"arguments_to_insert","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args = [] of ::Jennifer::DBAny\nfields = [] of String\nargs << @version\nfields << \"version\"\n{args: args, fields: fields}\n"}},{"id":"arguments_to_save-instance-method","html_id":"arguments_to_save-instance-method","name":"arguments_to_save","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"arguments_to_save","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args = [] of ::Jennifer::DBAny\nfields = [] of String\nif @version_changed\n  args << @version\n  fields << \"version\"\nend\n{args: args, fields: fields}\n"}},{"id":"attribute(name:String|Symbol,raise_exception:Bool=true)-instance-method","html_id":"attribute(name:String|Symbol,raise_exception:Bool=true)-instance-method","name":"attribute","doc":"Returns field by given name. If object has no such field - will raise `BaseException`.\nTo avoid raising exception set `raise_exception` to `false`.","summary":"<p>Returns field by given name.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"raise_exception","doc":null,"default_value":"true","external_name":"raise_exception","restriction":"Bool"}],"args_string":"(name : String | Symbol, raise_exception : Bool = <span class=\"n\">true</span>)","source_link":null,"source_link":null,"def":{"name":"attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"raise_exception","doc":null,"default_value":"true","external_name":"raise_exception","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case name.to_s\nwhen \"id\"\n  @id\nwhen \"version\"\n  @version\nelse\n  if raise_exception\n    raise(::Jennifer::BaseException.new(\"Unknown model attribute - #{name}\"))\n  end\nend"}},{"id":"attributes_hash-instance-method","html_id":"attributes_hash-instance-method","name":"attributes_hash","doc":"NOTE: This is deprecated method - it will be removed in 0.5.0. Use #to_h instead","summary":"<p><span class=\"flag purple\">NOTE</span>  This is deprecated method - it will be removed in 0.5.0.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"attributes_hash","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"hash = to_h\nif hash[:id]?.nil?\nelse\n  hash.delete(:id)\nend\nhash\n"}},{"id":"changed?-instance-method","html_id":"changed?-instance-method","name":"changed?","doc":"Returns if any field was changed. If field again got first value - `true` anyway\nwill be returned.","summary":"<p>Returns if any field was changed.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"changed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(@id_changed || @version_changed) || false"}},{"id":"id:Int32?-instance-method","html_id":"id:Int32?-instance-method","name":"id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32?","source_link":null,"source_link":null,"def":{"name":"id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@id"}},{"id":"id!-instance-method","html_id":"id!-instance-method","name":"id!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"id!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@id.not_nil!"}},{"id":"id=(_id:Primary32?)-instance-method","html_id":"id=(_id:Primary32?)-instance-method","name":"id=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_id","doc":null,"default_value":"","external_name":"_id","restriction":"Primary32 | ::Nil"}],"args_string":"(_id : Primary32?)","source_link":null,"source_link":null,"def":{"name":"id=","args":[{"name":"_id","doc":null,"default_value":"","external_name":"_id","restriction":"Primary32 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if _id != @id\n  @id_changed = true\nend\n@id = _id\n"}},{"id":"id_changed?:Bool-instance-method","html_id":"id_changed?:Bool-instance-method","name":"id_changed?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"id_changed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@id_changed"}},{"id":"init_primary_field(value)-instance-method","html_id":"init_primary_field(value)-instance-method","name":"init_primary_field","doc":"Inits primary field","summary":"<p>Inits primary field</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":null,"source_link":null,"def":{"name":"init_primary_field","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @id\n  raise(::Jennifer::AlreadyInitialized.new(@id, value))\nend\n@id = value.as(Primary32)\n"}},{"id":"primary:Int32?-instance-method","html_id":"primary:Int32?-instance-method","name":"primary","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32?","source_link":null,"source_link":null,"def":{"name":"primary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@id"}},{"id":"relation_retrieved(name:String)-instance-method","html_id":"relation_retrieved(name:String)-instance-method","name":"relation_retrieved","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":null,"source_link":null,"def":{"name":"relation_retrieved","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n            {% relations = RELATION_NAMES %}\n            {% if relations.size > 0 %}\n              case name\n              {% for rel in relations %}\n                when {{ rel }}\n                  __{{ rel.id }}_retrieved\n              {% end %}\n              else\n                super(name)\n              end\n            {% end %}\n          {% end %}"}},{"id":"reload-instance-method","html_id":"reload-instance-method","name":"reload","doc":"Reloads all fields from db.","summary":"<p>Reloads all fields from db.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"reload","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if new_record?\n  raise(::Jennifer::RecordNotFound.new(\"It is not persisted yet\"))\nend\nthis = self\n(self.class.all.where do\n  this.class.primary == this.primary\nend.limit(1)).each_result_set do |rs|\n  @id, @version = _extract_attributes(rs)\nend\n__refresh_changes\n__refresh_relation_retrieves\nself\n"}},{"id":"save(skip_validation:Bool=false):Bool-instance-method","html_id":"save(skip_validation:Bool=false):Bool-instance-method","name":"save","doc":null,"summary":null,"abstract":false,"args":[{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":"Bool"}],"args_string":"(skip_validation : Bool = <span class=\"n\">false</span>) : Bool","source_link":null,"source_link":null,"def":{"name":"save","args":[{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"if ::Jennifer::Adapter.adapter.under_transaction?\n  save_without_transaction(skip_validation)\nelse\n  Jennifer::Migration::Version.transaction do\n    save_without_transaction(skip_validation)\n  end || false\nend"}},{"id":"save!(skip_validation:Bool=false)-instance-method","html_id":"save!(skip_validation:Bool=false)-instance-method","name":"save!","doc":null,"summary":null,"abstract":false,"args":[{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":"Bool"}],"args_string":"(skip_validation : Bool = <span class=\"n\">false</span>)","source_link":null,"source_link":null,"def":{"name":"save!","args":[{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if save(skip_validation)\nelse\n  raise(Jennifer::RecordInvalid.new(errors))\nend\ntrue\n"}},{"id":"save_without_transaction(skip_validation:Bool=false):Bool-instance-method","html_id":"save_without_transaction(skip_validation:Bool=false):Bool-instance-method","name":"save_without_transaction","doc":"Saves all changes to db without invoking transaction; if validation not passed - returns `false`","summary":"<p>Saves all changes to db without invoking transaction; if validation not passed - returns <code>false</code></p>","abstract":false,"args":[{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":"Bool"}],"args_string":"(skip_validation : Bool = <span class=\"n\">false</span>) : Bool","source_link":null,"source_link":null,"def":{"name":"save_without_transaction","args":[{"name":"skip_validation","doc":null,"default_value":"false","external_name":"skip_validation","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"if skip_validation\nelse\n  if __before_validation_callback\n  else\n    return false\n  end\n  validate!\n  if valid?\n  else\n    return false\n  end\n  __after_validation_callback\nend\nif __before_save_callback\nelse\n  return false\nend\nresponse = if new_record?\n  if __before_create_callback\n  else\n    return false\n  end\n  res = ::Jennifer::Adapter.adapter.insert(self)\n  if (primary.nil?) && res.last_insert_id > -1\n    init_primary_field(res.last_insert_id.to_i)\n  end\n  if res.rows_affected != 0\n    @new_record = false\n  end\n  __after_create_callback\n  res\nelse\n  ::Jennifer::Adapter.adapter.update(self)\nend\n__after_save_callback\nresponse.rows_affected == 1\n"}},{"id":"set_attribute(name:String|Symbol,value:Jennifer::DBAny)-instance-method","html_id":"set_attribute(name:String|Symbol,value:Jennifer::DBAny)-instance-method","name":"set_attribute","doc":"Sets *name* field with *value*","summary":"<p>Sets <em>name</em> field with <em>value</em></p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Jennifer::DBAny"}],"args_string":"(name : String | Symbol, value : Jennifer::DBAny)","source_link":null,"source_link":null,"def":{"name":"set_attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Jennifer::DBAny"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case name.to_s\nwhen \"id\"\n  if value.is_a?(Primary32 | ::Nil)\n    self.id = value.as(Primary32 | ::Nil)\n  else\n    raise(::Jennifer::BaseException.new(\"wrong type for #{name} : #{value.class}\"))\n  end\nwhen \"version\"\n  if value.is_a?(String)\n    self.version = value.as(String)\n  else\n    raise(::Jennifer::BaseException.new(\"wrong type for #{name} : #{value.class}\"))\n  end\nelse\n  raise(::Jennifer::BaseException.new(\"Unknown model attribute - #{name}\"))\nend"}},{"id":"set_inverse_of(name:String,object)-instance-method","html_id":"set_inverse_of(name:String,object)-instance-method","name":"set_inverse_of","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""}],"args_string":"(name : String, object)","source_link":null,"source_link":null,"def":{"name":"set_inverse_of","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n            {% relations = RELATION_NAMES %}\n            {% if relations.size > 0 %}\n              case name\n              {% for rel in relations %}\n                when {{ rel }}\n                  @{{ rel.id }} = object\n                  __{{ rel.id }}_retrieved\n              {% end %}\n              else\n                super(name, object)\n              end\n            {% end %}\n          {% end %}"}},{"id":"to_h-instance-method","html_id":"to_h-instance-method","name":"to_h","doc":"Returns hash with all attributes and symbol keys.","summary":"<p>Returns hash with all attributes and symbol keys.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"to_h","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{:id => @id, :version => @version}"}},{"id":"to_str_h-instance-method","html_id":"to_str_h-instance-method","name":"to_str_h","doc":"Returns hash with all attributes and string keys","summary":"<p>Returns hash with all attributes and string keys</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"to_str_h","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{\"id\" => @id, \"version\" => @version}"}},{"id":"update_column(name,value:Jennifer::DBAny)-instance-method","html_id":"update_column(name,value:Jennifer::DBAny)-instance-method","name":"update_column","doc":"Sets *value* to field with name *name* and stores them directly to db without\nany validation or callback","summary":"<p>Sets <em>value</em> to field with name <em>name</em> and stores them directly to db without any validation or callback</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Jennifer::DBAny"}],"args_string":"(name, value : Jennifer::DBAny)","source_link":null,"source_link":null,"def":{"name":"update_column","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Jennifer::DBAny"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"update_columns({name => value})"}},{"id":"update_columns(values:Hash(String|Symbol,Jennifer::DBAny))-instance-method","html_id":"update_columns(values:Hash(String|Symbol,Jennifer::DBAny))-instance-method","name":"update_columns","doc":"Sets given *values* to proper fields and stores them directly to db without\nany validation or callback","summary":"<p>Sets given <em>values</em> to proper fields and stores them directly to db without any validation or callback</p>","abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String | Symbol, Jennifer::DBAny)"}],"args_string":"(values : Hash(String | Symbol, Jennifer::DBAny))","source_link":null,"source_link":null,"def":{"name":"update_columns","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String | Symbol, Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"values.each do |name, value|\n  case name.to_s\n  when \"id\"\n    if value.is_a?(Primary32 | ::Nil)\n      local = value.as(Primary32 | ::Nil)\n      @id = local\n      @id_changed = true\n    else\n      raise(::Jennifer::BaseException.new(\"Wrong type for #{name} : #{value.class}\"))\n    end\n  when \"version\"\n    if value.is_a?(String)\n      local = value.as(String)\n      @version = local\n      @version_changed = true\n    else\n      raise(::Jennifer::BaseException.new(\"Wrong type for #{name} : #{value.class}\"))\n    end\n  else\n    raise(::Jennifer::BaseException.new(\"Unknown model attribute - #{name}\"))\n  end\nend\n::Jennifer::Adapter.adapter.update(self)\n__refresh_changes\n"}},{"id":"validate(skip=false)-instance-method","html_id":"validate(skip=false)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"skip","doc":null,"default_value":"false","external_name":"skip","restriction":""}],"args_string":"(skip = <span class=\"n\">false</span>)","source_link":null,"source_link":null,"def":{"name":"validate","args":[{"name":"skip","doc":null,"default_value":"false","external_name":"skip","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if skip\n  return\nend\nsuper(skip)\n{% for method in VALIDATION_METHODS %}\n            {{ method.id }}\n          {% end %}\n"}},{"id":"version:String-instance-method","html_id":"version:String-instance-method","name":"version","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"version","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@version"}},{"id":"version!-instance-method","html_id":"version!-instance-method","name":"version!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"version!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@version.not_nil!"}},{"id":"version=(_version:String)-instance-method","html_id":"version=(_version:String)-instance-method","name":"version=","doc":null,"summary":null,"abstract":false,"args":[{"name":"_version","doc":null,"default_value":"","external_name":"_version","restriction":"String"}],"args_string":"(_version : String)","source_link":null,"source_link":null,"def":{"name":"version=","args":[{"name":"_version","doc":null,"default_value":"","external_name":"_version","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if _version != @version\n  @version_changed = true\nend\n@version = _version\n"}},{"id":"version_changed?:Bool-instance-method","html_id":"version_changed?:Bool-instance-method","name":"version_changed?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"version_changed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@version_changed"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","path":"Jennifer/Model.html","kind":"module","full_name":"Jennifer::Model","name":"Model","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/mapping.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/mapping.cr"},{"filename":"jennifer/model/sti_mapping.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/sti_mapping.cr"},{"filename":"jennifer/model/validation_messages.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr"},{"filename":"jennifer/model/validation.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr"},{"filename":"jennifer/model/callback.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr"},{"filename":"jennifer/model/relation_definition.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr"},{"filename":"jennifer/model/scoping.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/scoping.cr"},{"filename":"jennifer/model/base.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr"},{"filename":"jennifer/model/relation_container.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_container.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","path":"Jennifer/Model/Base.html","kind":"class","full_name":"Jennifer::Model::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationDefinition","kind":"module","full_name":"Jennifer::Model::RelationDefinition","name":"RelationDefinition"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Callback","kind":"module","full_name":"Jennifer::Model::Callback","name":"Callback"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Validation","kind":"module","full_name":"Jennifer::Model::Validation","name":"Validation"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/ValidationMessages","kind":"module","full_name":"Jennifer::Model::ValidationMessages","name":"ValidationMessages"},{"html_id":"github.com/imdrasil/jennifer.cr/Accord","kind":"module","full_name":"Accord","name":"Accord"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/STIMapping","kind":"module","full_name":"Jennifer::Model::STIMapping","name":"STIMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping","kind":"module","full_name":"Jennifer::Model::Mapping","name":"Mapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/model/base.cr","line_number":10,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Callback","kind":"module","full_name":"Jennifer::Model::Callback","name":"Callback"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping","kind":"module","full_name":"Jennifer::Model::Mapping","name":"Mapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationDefinition","kind":"module","full_name":"Jennifer::Model::RelationDefinition","name":"RelationDefinition"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/STIMapping","kind":"module","full_name":"Jennifer::Model::STIMapping","name":"STIMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Validation","kind":"module","full_name":"Jennifer::Model::Validation","name":"Validation"}],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Ifrit","kind":"module","full_name":"Ifrit","name":"Ifrit"}],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Migration/Version","kind":"class","full_name":"Jennifer::Migration::Version","name":"Version"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[{"id":"actual_table_field_count-class-method","html_id":"actual_table_field_count-class-method","name":"actual_table_field_count","doc":"Represent actual amount of model's table column amount (is greped from db).","summary":"<p>Represent actual amount of model's table column amount (is greped from db).</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L32","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L32","def":{"name":"actual_table_field_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@actual_table_field_count || (@@actual_table_field_count = ::Jennifer::Adapter.adapter.table_column_count(table_name))"}},{"id":"adapter-class-method","html_id":"adapter-class-method","name":"adapter","doc":"Returns adapter instance.","summary":"<p>Returns adapter instance.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L215","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L215","def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter"}},{"id":"all:Jennifer::QueryBuilder::ModelQuery(self)-class-method","html_id":"all:Jennifer::QueryBuilder::ModelQuery(self)-class-method","name":"all","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Jennifer::QueryBuilder::ModelQuery(self)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L238","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L238","def":{"name":"all","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"QueryBuilder::ModelQuery(self)","visibility":"Public","body":"QueryBuilder::ModelQuery(self).build(table_name)"}},{"id":"build-class-method","html_id":"build-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L82","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L82","def":{"name":"build","args":[],"double_splat":{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = new(values)\no.__after_initialize_callback\no\n"}},{"id":"build(values:Hash(String,Jennifer::DBAny))-class-method","html_id":"build(values:Hash(String,Jennifer::DBAny))-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"args_string":"(values : Hash(String, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L70","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L70","def":{"name":"build","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = new(values)\no.__after_initialize_callback\no\n"}},{"id":"build(values:Hash(Symbol,Jennifer::DBAny)|NamedTuple)-class-method","html_id":"build(values:Hash(Symbol,Jennifer::DBAny)|NamedTuple)-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(Symbol, ::Jennifer::DBAny) | NamedTuple"}],"args_string":"(values : Hash(Symbol, Jennifer::DBAny) | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L64","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L64","def":{"name":"build","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(Symbol, ::Jennifer::DBAny) | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = new(values)\no.__after_initialize_callback\no\n"}},{"id":"build(values:Hash|NamedTuple,new_record:Bool)-class-method","html_id":"build(values:Hash|NamedTuple,new_record:Bool)-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":"Bool"}],"args_string":"(values : Hash | NamedTuple, new_record : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L76","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L76","def":{"name":"build","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = new(values, new_record)\no.__after_initialize_callback\no\n"}},{"id":"c(name:String)-class-method","html_id":"c(name:String)-class-method","name":"c","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L48","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L48","def":{"name":"c","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"context.c(name)"}},{"id":"c(name:String|Symbol,relation)-class-method","html_id":"c(name:String|Symbol,relation)-class-method","name":"c","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"args_string":"(name : String | Symbol, relation)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L52","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L52","def":{"name":"c","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::QueryBuilder::Criteria.new(name, table_name, relation)"}},{"id":"context-class-method","html_id":"context-class-method","name":"context","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L56","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L56","def":{"name":"context","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@expression_builder || (@@expression_builder = QueryBuilder::ExpressionBuilder.new(table_name))"}},{"id":"create(values:Hash|NamedTuple)-class-method","html_id":"create(values:Hash|NamedTuple)-class-method","name":"create","doc":null,"summary":null,"abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"args_string":"(values : Hash | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L96","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L96","def":{"name":"create","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = build(values)\no.save\no\n"}},{"id":"create-class-method","html_id":"create-class-method","name":"create","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L108","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L108","def":{"name":"create","args":[],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = build(**opts)\no.save\no\n"}},{"id":"create!(values:Hash|NamedTuple)-class-method","html_id":"create!(values:Hash|NamedTuple)-class-method","name":"create!","doc":null,"summary":null,"abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"args_string":"(values : Hash | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L114","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L114","def":{"name":"create!","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = build(values)\no.save!\no\n"}},{"id":"create!-class-method","html_id":"create!-class-method","name":"create!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L126","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L126","def":{"name":"create!","args":[],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = build(**opts)\no.save!\no\n"}},{"id":"delete(ids:Array)-class-method","html_id":"delete(ids:Array)-class-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"args_string":"(ids : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L261","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L261","def":{"name":"delete","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ids = ids\nall.where do\n  if _ids.size == 1\n    (c(primary_field_name)) == _ids[0]\n  else\n    (c(primary_field_name)).in(_ids)\n  end\nend.delete\n"}},{"id":"delete(*ids)-class-method","html_id":"delete(*ids)-class-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":""}],"args_string":"(*ids)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L257","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L257","def":{"name":"delete","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"delete(ids.to_a)"}},{"id":"destroy(ids:Array)-class-method","html_id":"destroy(ids:Array)-class-method","name":"destroy","doc":null,"summary":null,"abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"args_string":"(ids : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L246","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L246","def":{"name":"destroy","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ids = ids\nall.where do\n  if _ids.size == 1\n    (c(primary_field_name)) == _ids[0]\n  else\n    (c(primary_field_name)).in(_ids)\n  end\nend.destroy\n"}},{"id":"destroy(*ids)-class-method","html_id":"destroy(*ids)-class-method","name":"destroy","doc":null,"summary":null,"abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":""}],"args_string":"(*ids)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L242","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L242","def":{"name":"destroy","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"destroy(ids.to_a)"}},{"id":"find(id)-class-method","html_id":"find(id)-class-method","name":"find","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L226","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L226","def":{"name":"find","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_id = id\nthis = self\nall.where do\n  this.primary == _id\nend.first\n"}},{"id":"find!(id)-class-method","html_id":"find!(id)-class-method","name":"find!","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L232","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L232","def":{"name":"find!","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_id = id\nthis = self\nall.where do\n  this.primary == _id\nend.first!\n"}},{"id":"has_table?-class-method","html_id":"has_table?-class-method","name":"has_table?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L27","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L27","def":{"name":"has_table?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@has_table || (@@has_table = (Jennifer::Adapter.adapter.table_exists?(table_name)).as(Bool))"}},{"id":"import(collection:Array(self))-class-method","html_id":"import(collection:Array(self))-class-method","name":"import","doc":null,"summary":null,"abstract":false,"args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":"Array(self)"}],"args_string":"(collection : Array(self))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L282","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L282","def":{"name":"import","args":[{"name":"collection","doc":null,"default_value":"","external_name":"collection","restriction":"Array(self)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.bulk_insert(collection)"}},{"id":"models-class-method","html_id":"models-class-method","name":"models","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L147","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L147","def":{"name":"models","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n          [\n            {% for model in @type.all_subclasses %}\n              {{ model.id }},\n            {% end %}\n          ]\n        {% end %}"}},{"id":"relation(name)-class-method","html_id":"relation(name)-class-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L143","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L143","def":{"name":"relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(:relation, {{ @type }}))"}},{"id":"relations-class-method","html_id":"relations-class-method","name":"relations","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L139","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L139","def":{"name":"relations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(:relations, {{ @type }}))"}},{"id":"search_by_sql(query:String,args=[]ofSupportable)-class-method","html_id":"search_by_sql(query:String,args=[]ofSupportable)-class-method","name":"search_by_sql","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of Supportable","external_name":"args","restriction":""}],"args_string":"(query : String, args = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Supportable</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L272","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L272","def":{"name":"search_by_sql","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of Supportable","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = [] of self\n::Jennifer::Adapter.adapter.query(query, args) do |rs|\n  rs.each do\n    result << (build(rs))\n  end\nend\nresult\n"}},{"id":"singular_table_name(value:String|Symbol)-class-method","html_id":"singular_table_name(value:String|Symbol)-class-method","name":"singular_table_name","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String | Symbol"}],"args_string":"(value : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L44","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L44","def":{"name":"singular_table_name","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@singular_table_name = value.to_s"}},{"id":"star-class-method","html_id":"star-class-method","name":"star","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L60","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L60","def":{"name":"star","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"context.star"}},{"id":"table_name:String-class-method","html_id":"table_name:String-class-method","name":"table_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L40","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L40","def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@@table_name || (@@table_name = to_s.underscore.pluralize)"}},{"id":"table_name(value:String|Symbol)-class-method","html_id":"table_name(value:String|Symbol)-class-method","name":"table_name","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String | Symbol"}],"args_string":"(value : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L36","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L36","def":{"name":"table_name","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@table_name = value.to_s"}},{"id":"transaction(&block)-class-method","html_id":"transaction(&amp;block)-class-method","name":"transaction","doc":"Starts transaction.","summary":"<p>Starts transaction.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L201","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L201","def":{"name":"transaction","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter.transaction do |t|\n  yield t\nend"}},{"id":"where(&block)-class-method","html_id":"where(&amp;block)-class-method","name":"where","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L219","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L219","def":{"name":"where","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"ac = all\ntree = with ac.expression_builder yield\nac.set_tree(tree)\nac\n"}},{"id":"with_table_lock(type:String|Symbol,&block)-class-method","html_id":"with_table_lock(type:String|Symbol,&amp;block)-class-method","name":"with_table_lock","doc":"Performs table lock for current model's table.","summary":"<p>Performs table lock for current model's table.</p>","abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String | Symbol"}],"args_string":"(type : String | Symbol, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L208","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L208","def":{"name":"with_table_lock","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.with_table_lock(table_name, type.to_s) do |t|\n  yield t\nend"}}],"constructors":[],"instance_methods":[{"id":"attribute(name)-instance-method","html_id":"attribute(name)-instance-method","name":"attribute","doc":null,"summary":null,"abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L136","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L136","def":{"name":"attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"delete-instance-method","html_id":"delete-instance-method","name":"delete","doc":"Deletes object from DB without calling callbacks.","summary":"<p>Deletes object from DB without calling callbacks.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L180","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L180","def":{"name":"delete","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if new_record? || errors.any?\n  return\nend\nthis = self\nself.class.all.where do\n  this.class.primary == this.primary\nend.delete\n"}},{"id":"destroy-instance-method","html_id":"destroy-instance-method","name":"destroy","doc":"Deletes object from db and calls callbacks","summary":"<p>Deletes object from db and calls callbacks</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L162","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L162","def":{"name":"destroy","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if ::Jennifer::Adapter.adapter.under_transaction?\n  destroy_without_transaction\nelse\n  ({{ @type }}).transaction do\n    destroy_without_transaction\n  end\nend"}},{"id":"destroy_without_transaction-instance-method","html_id":"destroy_without_transaction-instance-method","name":"destroy_without_transaction","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L172","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L172","def":{"name":"destroy_without_transaction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if new_record? || (!__before_destroy_callback)\n  return false\nend\nif delete\n  @destroyed = true\nend\nif @destroyed\n  __after_destroy_callback\nend\n@destroyed\n"}},{"id":"destroyed?:Bool?-instance-method","html_id":"destroyed?:Bool?-instance-method","name":"destroyed?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L92","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L92","def":{"name":"destroyed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@destroyed"}},{"id":"lock!(type:String|Bool=true)-instance-method","html_id":"lock!(type:String|Bool=true)-instance-method","name":"lock!","doc":"Lock current object in DB.","summary":"<p>Lock current object in DB.</p>","abstract":false,"args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"args_string":"(type : String | Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L187","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L187","def":{"name":"lock!","args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\n(self.class.all.where do\n  this.class.primary == this.primary\nend.lock(type)).to_a\n"}},{"id":"new_record?-instance-method","html_id":"new_record?-instance-method","name":"new_record?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L88","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L88","def":{"name":"new_record?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@new_record"}},{"id":"primary-instance-method","html_id":"primary-instance-method","name":"primary","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L135","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L135","def":{"name":"primary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"set_attribute(name,value)-instance-method","html_id":"set_attribute(name,value)-instance-method","name":"set_attribute","doc":null,"summary":null,"abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(name, value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L137","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L137","def":{"name":"set_attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"update_attributes(hash:Hash)-instance-method","html_id":"update_attributes(hash:Hash)-instance-method","name":"update_attributes","doc":null,"summary":null,"abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Hash"}],"args_string":"(hash : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L157","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L157","def":{"name":"update_attributes","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"hash.each do |k, v|\n  set_attribute(k, v)\nend"}},{"id":"with_lock(type:String|Bool=true,&block)-instance-method","html_id":"with_lock(type:String|Bool=true,&amp;block)-instance-method","name":"with_lock","doc":"Starts transaction and locks current object.","summary":"<p>Starts transaction and locks current object.</p>","abstract":false,"args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"args_string":"(type : String | Bool = <span class=\"n\">true</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L193","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr#L193","def":{"name":"with_lock","args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"self.class.transaction do |t|\n  self.lock!(type)\n  yield t\nend"}}],"macros":[{"id":"str_hash(hash,types)-macro","html_id":"str_hash(hash,types)-macro","name":"str_hash","doc":"accepts hash literal","summary":"<p>accepts hash literal</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"str_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash(\n{{ hash }}\n, String, \n{{ types }}\n)\n    \n"}},{"id":"str_hash_cast(hash,types)-macro","html_id":"str_hash_cast(hash,types)-macro","name":"str_hash_cast","doc":null,"summary":null,"abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"str_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash_cast(\n{{ hash }}\n, String, \n{{ types }}\n)\n    \n"}},{"id":"stringify_hash(hash,types)-macro","html_id":"stringify_hash(hash,types)-macro","name":"stringify_hash","doc":"accepts any hash","summary":"<p>accepts any hash</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"stringify_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_59 = \n{} of String =>\n{{ types }}\n\n        \n{{ hash }}\n.each do |k, v|\n          __temp_59[k.to_s] = v.as(\n{{ types }}\n)\n        \nend\n        __temp_59\n      \nend\n    \n"}},{"id":"sym_hash(hash,types)-macro","html_id":"sym_hash(hash,types)-macro","name":"sym_hash","doc":"accepts hash literal","summary":"<p>accepts hash literal</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"sym_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash(\n{{ hash }}\n, Symbol, \n{{ types }}\n)\n    \n"}},{"id":"sym_hash_cast(hash,types)-macro","html_id":"sym_hash_cast(hash,types)-macro","name":"sym_hash_cast","doc":"accepts any hash or named tuple\nexample: Ifrit.as_sym_hash(hash, String | Int32)","summary":"<p>accepts any hash or named tuple example: Ifrit.as_sym_hash(hash, String | Int32)</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"sym_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash_cast(\n{{ hash }}\n, Symbol, \n{{ types }}\n)\n    \n"}},{"id":"typed_array(arr,klass)-macro","html_id":"typed_array(arr,klass)-macro","name":"typed_array","doc":"accepts arrayliteral","summary":"<p>accepts arrayliteral</p>","abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(arr, klass)","source_link":null,"def":{"name":"typed_array","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        [\n        \n{% for v in arr %}\n          {{ v }}.as({{ klass }}),\n        {% end %}\n\n        ]\n      \nend\n    \n"}},{"id":"typed_array_cast(arr,klass)-macro","html_id":"typed_array_cast(arr,klass)-macro","name":"typed_array_cast","doc":"accepts any array","summary":"<p>accepts any array</p>","abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(arr, klass)","source_link":null,"def":{"name":"typed_array_cast","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        array = [] of \n{{ klass }}\n\n        \n{{ arr }}\n.each \n{ |e| array << \ne.as(\n{{ klass }}\n) }\n        array\n      \nend\n    \n"}},{"id":"typed_hash(hash,key,types)-macro","html_id":"typed_hash(hash,key,types)-macro","name":"typed_hash","doc":"accepts only hash literals\nexample: Ifrit.typed_hash({\"a\" => 1, \"b\" => \"b\"}, String, Int32 | String)","summary":"<p>accepts only hash literals example: Ifrit.typed_hash({\"a\" => 1, \"b\" => \"b\"}, String, Int32 | String)</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, key, types)","source_link":null,"def":{"name":"typed_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_59 = \n{} of \n{{ key.id }}\n => \n{{ types.id }}\n\n        \n{% type = key.resolve %}\n\n        \n{% for k, v in hash %}\n          {% if k.is_a?(MacroId) %}\n            {% if type.union? %}\n              {% p(type.union_types) %}\n              {% if type.union_types.includes?(String) %}\n                {% name = k.stringify %}\n              {% else %}{% if type.union_types.includes?(Symbol) %}\n                {% name = \":#{k}\".id %}\n              {% else %}\n                {% name = k %}\n              {% end %}{% end %}\n            {% else %}{% if type == String %}\n              {% name = \"#{k}\" %}\n            {% else %}{% if type == Symbol %}\n              {% name = \":#{k}\".id %}\n            {% else %}\n              {% name = k %}\n            {% end %}{% end %}{% end %}\n          {% else %}\n            {% name = k %}\n          {% end %}\n          __temp_59[{{ name }}] = {{ v }}.as({{ types.id }})\n        {% end %}\n\n        __temp_59\n      \nend\n    \n"}},{"id":"typed_hash_cast(hash,key,types)-macro","html_id":"typed_hash_cast(hash,key,types)-macro","name":"typed_hash_cast","doc":"accepts any hash","summary":"<p>accepts any hash</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, key, types)","source_link":null,"def":{"name":"typed_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_60 = \n{} of \n{{ key }}\n => \n{{ types.id }}\n\n        \n{{ hash.id }}\n.each \n{ |k, v| __temp_60[k.as(\n{{ key }}\n)] = v.as(\n{{ types.id }}\n) }\n        __temp_60\n      \nend\n    \n"}}],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base/Supportable","path":"Jennifer/Model/Base/Supportable.html","kind":"alias","full_name":"Jennifer::Model::Base::Supportable","name":"Supportable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/base.cr","line_number":19,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | JSON::Any | Jennifer::Model::Base | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | UInt32 | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Callback","path":"Jennifer/Model/Callback.html","kind":"module","full_name":"Jennifer::Model::Callback","name":"Callback","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/callback.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"__after_create_callback-instance-method","html_id":"__after_create_callback-instance-method","name":"__after_create_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L24","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L24","def":{"name":"__after_create_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"true"}},{"id":"__after_destroy_callback-instance-method","html_id":"__after_destroy_callback-instance-method","name":"__after_destroy_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L32","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L32","def":{"name":"__after_destroy_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"true"}},{"id":"__after_initialize_callback-instance-method","html_id":"__after_initialize_callback-instance-method","name":"__after_initialize_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L28","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L28","def":{"name":"__after_initialize_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"true"}},{"id":"__after_save_callback-instance-method","html_id":"__after_save_callback-instance-method","name":"__after_save_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L20","def":{"name":"__after_save_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"true"}},{"id":"__after_validation_callback-instance-method","html_id":"__after_validation_callback-instance-method","name":"__after_validation_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L36","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L36","def":{"name":"__after_validation_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"true"}},{"id":"__before_create_callback-instance-method","html_id":"__before_create_callback-instance-method","name":"__before_create_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L8","def":{"name":"__before_create_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"true"}},{"id":"__before_destroy_callback-instance-method","html_id":"__before_destroy_callback-instance-method","name":"__before_destroy_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L12","def":{"name":"__before_destroy_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"true"}},{"id":"__before_save_callback-instance-method","html_id":"__before_save_callback-instance-method","name":"__before_save_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L4","def":{"name":"__before_save_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"true"}},{"id":"__before_validation_callback-instance-method","html_id":"__before_validation_callback-instance-method","name":"__before_validation_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L16","def":{"name":"__before_validation_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"true"}}],"macros":[{"id":"after_create(*names)-macro","html_id":"after_create(*names)-macro","name":"after_create","doc":null,"summary":null,"abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L58","def":{"name":"after_create","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for name in names %}\n          {% AFTER_CREATE_CALLBACKS << name.id.stringify %}\n        {% end %}\n\n      \n"}},{"id":"after_destroy(*names)-macro","html_id":"after_destroy(*names)-macro","name":"after_destroy","doc":null,"summary":null,"abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L76","def":{"name":"after_destroy","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for name in names %}\n          {% AFTER_DESTROY_CALLBACKS << name.id.stringify %}\n        {% end %}\n\n      \n"}},{"id":"after_initialize(*names)-macro","html_id":"after_initialize(*names)-macro","name":"after_initialize","doc":null,"summary":null,"abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L64","def":{"name":"after_initialize","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for name in names %}\n          {% AFTER_INITIALIZE_CALLBACKS << name.id.stringify %}\n        {% end %}\n\n      \n"}},{"id":"after_save(*names)-macro","html_id":"after_save(*names)-macro","name":"after_save","doc":null,"summary":null,"abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L46","def":{"name":"after_save","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for name in names %}\n          {% AFTER_SAVE_CALLBACKS << name.id.stringify %}\n        {% end %}\n\n      \n"}},{"id":"after_validation(*names)-macro","html_id":"after_validation(*names)-macro","name":"after_validation","doc":null,"summary":null,"abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L88","def":{"name":"after_validation","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for name in names %}\n          {% AFTER_VALIDATION_CALLBACKS << name.id.stringify %}\n        {% end %}\n\n      \n"}},{"id":"before_create(*names)-macro","html_id":"before_create(*names)-macro","name":"before_create","doc":null,"summary":null,"abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L52","def":{"name":"before_create","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for name in names %}\n          {% BEFORE_CREATE_CALLBACKS << name.id.stringify %}\n        {% end %}\n\n      \n"}},{"id":"before_destroy(*names)-macro","html_id":"before_destroy(*names)-macro","name":"before_destroy","doc":null,"summary":null,"abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L70","def":{"name":"before_destroy","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for name in names %}\n          {% BEFORE_DESTROY_CALLBACKS << name.id.stringify %}\n        {% end %}\n\n      \n"}},{"id":"before_save(*names)-macro","html_id":"before_save(*names)-macro","name":"before_save","doc":null,"summary":null,"abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L40","def":{"name":"before_save","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for name in names %}\n          {% BEFORE_SAVE_CALLBACKS << name.id.stringify %}\n        {% end %}\n\n      \n"}},{"id":"before_validation(*names)-macro","html_id":"before_validation(*names)-macro","name":"before_validation","doc":null,"summary":null,"abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L82","def":{"name":"before_validation","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for name in names %}\n          {% BEFORE_VALIDATION_CALLBACKS << name.id.stringify %}\n        {% end %}\n\n      \n"}},{"id":"finished_hook-macro","html_id":"finished_hook-macro","name":"finished_hook","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L106","def":{"name":"finished_hook","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        def __before_save_callback\n          return false unless super\n          \n\\{% for\n method in BEFORE_SAVE_CALLBACKS %}\n            \n\\{\n{method.id}}\n          \n\\{% end\n %}\n          true\n        rescue ::Jennifer::Skip\n          false\n        \nend\n\n        def __after_save_callback\n          return false unless super\n          \n\\{% for\n method in AFTER_SAVE_CALLBACKS %}\n            \n\\{\n{method.id}}\n          \n\\{% end\n %}\n          true\n        rescue ::Jennifer::Skip\n          false\n        \nend\n\n        def __before_create_callback\n          return false unless super\n          \n\\{% for\n method in BEFORE_CREATE_CALLBACKS %}\n            \n\\{\n{method.id}}\n          \n\\{% end\n %}\n          true\n        rescue ::Jennifer::Skip\n          false\n        \nend\n\n        def __after_create_callback\n          return false unless super\n          \n\\{% for\n method in AFTER_CREATE_CALLBACKS %}\n            \n\\{\n{method.id}}\n          \n\\{% end\n %}\n          true\n        rescue ::Jennifer::Skip\n          false\n        \nend\n\n        def __after_initialize_callback\n          return false unless super\n          \n\\{% for\n method in AFTER_INITIALIZE_CALLBACKS %}\n            \n\\{\n{method.id}}\n          \n\\{% end\n %}\n          true\n        rescue ::Jennifer::Skip\n          false\n        \nend\n\n        def __before_destroy_callback\n          return false unless super\n          \n\\{% for\n method in BEFORE_DESTROY_CALLBACKS %}\n            \n\\{\n{method.id}}\n          \n\\{% end\n %}\n          true\n        rescue ::Jennifer::Skip\n          false\n        \nend\n\n        def __after_destroy_callback\n          return false unless super\n          \n\\{% for\n method in AFTER_DESTROY_CALLBACKS %}\n            \n\\{\n{method.id}}\n          \n\\{% end\n %}\n          true\n        rescue ::Jennifer::Skip\n          false\n        \nend\n\n        def __before_validation_callback\n          return false unless super\n          \n\\{% for\n method in BEFORE_VALIDATION_CALLBACKS %}\n            \n\\{\n{method.id}}\n          \n\\{% end\n %}\n          true\n        rescue ::Jennifer::Skip\n          false\n        \nend\n\n        def __after_validation_callback\n          return false unless super\n          \n\\{% for\n method in AFTER_VALIDATION_CALLBACKS %}\n            \n\\{\n{method.id}}\n          \n\\{% end\n %}\n          true\n        rescue ::Jennifer::Skip\n          false\n        \nend\n      \n"}},{"id":"inherited_hook-macro","html_id":"inherited_hook-macro","name":"inherited_hook","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/callback.cr#L94","def":{"name":"inherited_hook","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        BEFORE_SAVE_CALLBACKS = [] of String\n        AFTER_SAVE_CALLBACKS = [] of String\n        BEFORE_CREATE_CALLBACKS = [] of String\n        AFTER_CREATE_CALLBACKS = [] of String\n        AFTER_INITIALIZE_CALLBACKS = [] of String\n        BEFORE_DESTROY_CALLBACKS = [] of String\n        AFTER_DESTROY_CALLBACKS = [] of String\n        BEFORE_VALIDATION_CALLBACKS = [] of String\n        AFTER_VALIDATION_CALLBACKS = [] of String\n      "}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/IRelationContainer","path":"Jennifer/Model/IRelationContainer.html","kind":"class","full_name":"Jennifer::Model::IRelationContainer","name":"IRelationContainer","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/model/relation_container.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_container.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationContainer","kind":"class","full_name":"Jennifer::Model::RelationContainer(T, Q)","name":"RelationContainer"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Mapping","path":"Jennifer/Model/Mapping.html","kind":"module","full_name":"Jennifer::Model::Mapping","name":"Mapping","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/mapping.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/mapping.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"__bool_convert(value,type)-macro","html_id":"__bool_convert(value,type)-macro","name":"__bool_convert","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(value, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/mapping.cr#L7","def":{"name":"__bool_convert","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% if type.stringify == \"Bool\" %}\n          ({{ value.id }}.is_a?(Int8) ? {{ value.id }} == 1i8 : {{ value.id }}.as({{ type }}))\n        {% else %}\n          {{ value }}.as({{ type }})\n        {% end %}\n\n      \n"}},{"id":"__field_declaration(properties,primary_auto_incrementable)-macro","html_id":"__field_declaration(properties,primary_auto_incrementable)-macro","name":"__field_declaration","doc":"Generates getter and setters","summary":"<p>Generates getter and setters</p>","abstract":false,"args":[{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},{"name":"primary_auto_incrementable","doc":null,"default_value":"","external_name":"primary_auto_incrementable","restriction":""}],"args_string":"(properties, primary_auto_incrementable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/mapping.cr#L16","def":{"name":"__field_declaration","args":[{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},{"name":"primary_auto_incrementable","doc":null,"default_value":"","external_name":"primary_auto_incrementable","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% for key, value in properties %}\n          @{{ key.id }} : {{ value[:parsed_type].id }}\n          @{{ key.id }}_changed = false\n\n          {% if value[:setter] != false %}\n            def {{ key.id }}=(_{{ key.id }} : {{ value[:parsed_type].id }})\n              @{{ key.id }}_changed = true if _{{ key.id }} != @{{ key.id }}\n              @{{ key.id }} = _{{ key.id }}\n            end\n          {% end %}\n\n          {% if value[:getter] != false %}\n            def {{ key.id }}\n              @{{ key.id }}\n            end\n\n            {% if value[:null] != false %}\n              def {{ key.id }}!\n                @{{ key.id }}.not_nil!\n              end\n            {% end %}\n          {% end %}\n\n          def {{ key.id }}_changed?\n            @{{ key.id }}_changed\n          end\n\n          def self._{{ key }}\n            c(\"{{ key.id }}\")\n          end\n\n          {% if value[:primary] %}\n            def primary\n              @{{ key.id }}\n            end\n\n            def self.primary\n              c(\"{{ key.id }}\")\n            end\n\n            def self.primary_field_name\n              \"{{ key.id }}\"\n            end\n\n            def self.primary_field_type\n              {{ value[:parsed_type].id }}\n            end\n\n            {% if primary_auto_incrementable %}\n              # Inits primary field\n              def init_primary_field(value)\n                raise ::Jennifer::AlreadyInitialized.new(@{{ key.id }}, value) if @{{ key.id }}\n                @{{ key.id }} = value.as({{ value[:type] }})\n              end\n            {% end %}\n          {% end %}\n        {% end %}\n\n      \n"}},{"id":"mapping(properties,strict=true)-macro","html_id":"mapping(properties,strict=true)-macro","name":"mapping","doc":null,"summary":null,"abstract":false,"args":[{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},{"name":"strict","doc":null,"default_value":"true","external_name":"strict","restriction":""}],"args_string":"(properties, strict = true)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/mapping.cr#L92","def":{"name":"mapping","args":[{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},{"name":"strict","doc":null,"default_value":"true","external_name":"strict","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        def self.children_classes\n          \n{% if true %}\n            {% if @type.all_subclasses.size > 0 %}\n              [{{ (@type.all_subclasses.join(\", \")).id }}]\n            {% else %}\n              [] of Model::Base.class\n            {% end %}\n          {% end %}\n\n        \nend\n\n        @@strict_mapping : Bool?\n\n        def self.strict_mapping?\n          @@strict_mapping ||= ::Jennifer::Adapter.adapter.table_column_count(table_name) == field_count\n        \nend\n\n        \n{% primary = nil\nprimary_auto_incrementable = false\nadd_default_constructor = true\n %}\n\n\n        \n# generates hash with options\n\n        \n{% for key, value in properties %}\n          {% if (value.is_a?(HashLiteral)) || (value.is_a?(NamedTupleLiteral)) %}{% else %}\n            {% properties[key] = {type: value} %}\n          {% end %}\n          {% properties[key][:stringified_type] = properties[key][:type].stringify %}\n          {% if (properties[key][:stringified_type] == Jennifer::Macros::PRIMARY_32) || (properties[key][:stringified_type] == Jennifer::Macros::PRIMARY_64) %}\n            {% properties[key][:primary] = true %}\n          {% end %}\n          {% if properties[key][:primary] %}\n            {% primary = keyprimary_type = properties[key][:type]primary_auto_incrementable = Jennifer::Macros::AUTOINCREMENTABLE_STR_TYPES.includes?(properties[key][:stringified_type]) %}\n          {% end %}\n          {% if properties[key][:stringified_type] =~ Jennifer::Macros::NILLABLE_REGEXP %}\n            {% properties[key][:null] = trueproperties[key][:parsed_type] = properties[key][:stringified_type] %}\n          {% else %}\n            {% properties[key][:parsed_type] = properties[key][:null] || properties[key][:primary] ? properties[key][:stringified_type] + \"?\" : properties[key][:stringified_type] %}\n          {% end %}\n          {% add_default_constructor = add_default_constructor && ((properties[key][:primary] || properties[key][:null]) || (properties[key].keys.includes?(:default))) %}\n        {% end %}\n\n\n        \n# TODO: find way to allow model definition without any primary field\n\n        \n{% if primary == nil %}\n          {% raise(\"Model #{@type} has no defined primary field. For now model without primary field is not allowed\") %}\n        {% end %}\n\n\n        __field_declaration(\n{{ properties }}\n, \n{{ primary_auto_incrementable }}\n)\n\n        \n# Returns if primary field is autoincrementable\n\n        def self.primary_auto_incrementable?\n          \n{{ primary_auto_incrementable }}\n\n        \nend\n\n        \n# Returns field count\n\n        def self.field_count\n          \n{{ properties.size }}\n\n        \nend\n\n        COLUMNS_METADATA = \n{{ properties }}\n\n\n        \n# Returns array of field names\n\n        def self.field_names\n          [\n            \n{% for key in properties.keys %}\n              \"{{ key.id }}\",\n            {% end %}\n\n          ]\n        \nend\n\n        \n# Returns named tuple of column metadata\n\n        def self.columns_tuple\n          COLUMNS_METADATA\n        \nend\n\n        @new_record = true\n        @destroyed = false\n\n        \n# Creates object from `DB::ResultSet`\n\n        def initialize(\n%pull\n : DB::ResultSet)\n          @new_record = false\n          \n{{ (properties.keys.map do |key|\n  \"@#{key.id}\"\nend.join(\", \")).id }}\n = _extract_attributes(\n%pull\n)\n        \nend\n\n        \n# Accepts symbol hash or named tuple, stringify it and calls\n\n        \n# TODO: check how converting affects performance\n\n        def initialize(values : Hash(Symbol, ::Jennifer::DBAny) | NamedTuple)\n          initialize(stringify_hash(values, Jennifer::DBAny))\n        \nend\n\n        def initialize(values : Hash(String, ::Jennifer::DBAny))\n          \n{{ (properties.keys.map do |key|\n  \"@#{key.id}\"\nend.join(\", \")).id }}\n = _extract_attributes(values)\n        \nend\n\n        def initialize(values : Hash | NamedTuple, @new_record)\n          initialize(values)\n        \nend\n\n        \n#def attributes=(values : Hash)\n\n        \n#end\n\n\n        def self.build(pull : DB::ResultSet)\n          \n\\{% \nbegin %}\n            \n\\{% \nklasses = @type.all_subclasses.select \n{ |s| s.constant(\"STI\") == true } %}\n            \n\\{% if\n !klasses.empty? %}\n              hash = ::Jennifer::Adapter.adapter.result_to_hash(pull)\n              o =\n                case hash[\"type\"]\n                when \"\", nil, \"\n\\{\n{@type}}\"\n                  new(hash, false)\n                \n\\{% for\n klass in klasses %}\n                when \"\n\\{\n{klass}}\"\n                  \n\\{\n{klass}}.new(hash, false)\n                \n\\{% end\n %}\n                \nelse\n                  raise ::Jennifer::UnknownSTIType.new(self, hash[\"type\"])\n                \nend\n            \n\\{% e\nlse %}\n              o = new(pull)\n            \n\\{% end\n %}\n\n            o.__after_initialize_callback\n            o\n          \n\\{% end\n %}\n        \nend\n\n        \n{% if add_default_constructor %}\n          WITH_DEFAULT_CONSTRUCTOR = true\n          # Default constructor without any fields\n          def initialize\n            {% for key, value in properties %}\n              @{{ key.id }} =\n                {% if value[:null] %}\n                  {% if value[:default] != nil %}\n                    {{ value[:default] }}\n                  {% else %}\n                    nil\n                  {% end %}\n                {% else %}{% if value[:default] != nil %}\n                  {{ value[:default] }}\n                {% else %}\n                  nil\n                {% end %}{% end %}\n            {% end %}\n          end\n\n          # Default builder method\n          def self.build\n            o = new\n            o.__after_initialize_callback\n            o\n          end\n        {% else %}\n          WITH_DEFAULT_CONSTRUCTOR = false\n        {% end %}\n\n\n        \n# Extracts arguments due to mapping from *pull* and returns tuple for\n\n        \n# fields assignment. It stands on that fact result set has all defined fields in a raw\n\n        \n# TODO: think about moving it to class scope\n\n        \n# NOTE: don't use it manually - there is some dependencies on caller such as reading tesult set to the end\n\n        \n# if eception was raised\n\n        def _extract_attributes(pull : DB::ResultSet)\n          requested_columns_count = self.class.actual_table_field_count\n          ::Jennifer::BaseException.assert_column_count(requested_columns_count, pull.column_count)\n          \n{% for key, value in properties %}\n            %var{key.id} = nil\n            %found{key.id} = false\n          {% end %}\n\n          requested_columns_count.times do\n            column = pull.column_name(pull.column_index)\n            case column\n            \n{% for key, value in properties %}\n              when {{ value[:column_name] || key.id.stringify }}\n                %found{key.id} = true\n                begin\n                  %var{key.id} = pull.read({{ value[:parsed_type].id }})\n                rescue e : Exception\n                  raise ::Jennifer::DataTypeMismatch.new(column, {{ @type }}, e) if ::Jennifer::DataTypeMismatch.match?(e)\n                  raise e\n                end\n            {% end %}\n\n            \nelse\n              \n{% if strict %}\n                raise ::Jennifer::BaseException.new(\"Undefined column #{column} for model {{ @type }}.\")\n              {% else %}\n                pull.read\n              {% end %}\n\n            \nend\n          \nend\n          \n{% if strict %}\n            {% for key, value in properties %}\n              unless %found{key.id}\n                raise ::Jennifer::BaseException.new(\"Column #{{{ @type }}}##{{{ key.id.stringify }}} hasn't been found in the result set.\")\n              end\n            {% end %}\n          {% end %}\n\n          \n{% if properties.size > 1 %}\n            {\n            {% for key, value in properties %}\n              begin\n                %var{key.id}.as({{ value[:parsed_type].id }})\n              rescue e : Exception\n                raise ::Jennifer::DataTypeCasting.new({{ key.id.stringify }}, {{ @type }}, e) if ::Jennifer::DataTypeCasting.match?(e)\n                raise e\n              end,\n            {% end %}\n            }\n          {% else %}\n            {% key = properties.keys[0] %}\n            begin\n              %var{key}.as({{ properties[key][:parsed_type].id }})\n            rescue e : Exception\n              raise ::Jennifer::DataTypeCasting.new({{ key.id.stringify }}, {{ @type }}, e) if ::Jennifer::DataTypeCasting.match?(e)\n              raise e\n            end\n          {% end %}\n\n        \nend\n\n        def _extract_attributes(values : Hash(String, ::Jennifer::DBAny))\n          \n{% for key, value in properties %}\n            %var{key.id} = nil\n            %found{key.id} = true\n          {% end %}\n\n\n          \n{% for key, value in properties %}\n            if !values[{{ value[:column_name] || key.id.stringify }}]?.nil?\n              %var{key.id} = values[{{ value[:column_name] || key.id.stringify }}]\n            else\n              %found{key.id} = false\n            end\n          {% end %}\n\n\n          \n{% for key, value in properties %}\n            begin\n              {% if value[:null] %}\n                {% if value[:default] != nil %}\n                  %casted_var{key.id} = %found{key.id} ? __bool_convert(%var{key.id}, {{ value[:parsed_type].id }}) : {{ value[:default] }}\n                {% else %}\n                  %casted_var{key.id} = %var{key.id}.as({{ value[:parsed_type].id }})\n                {% end %}\n              {% else %}{% if value[:default] != nil %}\n                %casted_var{key.id} = %var{key.id}.is_a?(Nil) ? {{ value[:default] }} : __bool_convert(%var{key.id}, {{ value[:parsed_type].id }})\n              {% else %}\n                %casted_var{key.id} = __bool_convert(%var{key.id}, {{ value[:parsed_type].id }})\n              {% end %}{% end %}\n            rescue e : Exception\n              raise ::Jennifer::DataTypeCasting.new({{ key.id.stringify }}, {{ @type }}, e) if ::Jennifer::DataTypeCasting.match?(e)\n              raise e\n            end\n          {% end %}\n\n\n          \n{% if properties.size > 1 %}\n            {\n            {% for key, value in properties %}\n              %casted_var{key.id},\n            {% end %}\n            }\n          {% else %}\n            {% key = properties.keys[0] %}\n            %casted_var{key}\n          {% end %}\n\n        \nend\n\n        def save!(skip_validation : Bool = false)\n          raise Jennifer::RecordInvalid.new(\nerrors) unless save(skip_validation)\n          true\n        \nend\n\n        def save(skip_validation : Bool = false) : Bool\n          unless ::Jennifer::Adapter.adapter.under_transaction?\n            \n{{ @type }}\n.transaction do\n              save_without_transaction(skip_validation)\n            \nend || false\n          \nelse\n            save_without_transaction(skip_validation)\n          \nend\n        \nend\n\n        \n# Saves all changes to db without invoking transaction; if validation not passed - returns `false`\n\n        def save_without_transaction(skip_validation : Bool = false) : Bool\n          unless skip_validation\n            return false unless __before_validation_callback\n            validate!\n            return false unless valid?\n            __after_validation_callback\n          \nend\n          return false unless __before_save_callback\n          response =\n            if new_record?\n              return false unless __before_create_callback\n              res = ::Jennifer::Adapter.adapter.insert(self)\n              \n{% if primary && primary_auto_incrementable %}\n                if primary.nil? && res.last_insert_id > -1\n                  init_primary_field(res.last_insert_id.to_i)\n                end\n              {% end %}\n\n              @new_record = false if res.rows_affected != 0\n              __after_create_callback\n              res\n            \nelse\n              ::Jennifer::Adapter.adapter.update(self)\n            \nend\n          __after_save_callback\n          response.rows_affected == 1\n        \nend\n\n        \n# Reloads all fields from db.\n\n        def reload\n          raise ::Jennifer::RecordNotFound.new(\"It is not persisted yet\") if new_record?\n          this = self\n          self.class.all.where \n{ this.class.primary == this.primary }.limit(1).each_result_set do |rs|\n            \n{{ (properties.keys.map do |key|\n  \"@#{key.id}\"\nend.join(\", \")).id }}\n = _extract_attributes(rs)\n          \nend\n          __refresh_changes\n          __refresh_relation_retrieves\n          self\n        \nend\n\n        \n# Returns if any field was changed. If field again got first value - `true` anyway\n\n        \n# will be returned.\n\n        def changed?\n          \n{% for key, value in properties %}\n            @{{ key.id }}_changed ||\n          {% end %}\n\n          false\n        \nend\n\n        \n# Returns hash with all attributes and symbol keys.\n\n        def to_h\n          \n{\n            \n{% for key in properties.keys %}\n              :{{ key.id }} => @{{ key.id }},\n            {% end %}\n\n          }\n        \nend\n\n        \n# Returns hash with all attributes and string keys\n\n        def to_str_h\n          \n{\n            \n{% for key in properties.keys %}\n              {{ key.stringify }} => @{{ key.id }},\n            {% end %}\n\n          }\n        \nend\n\n        \n# Sets *value* to field with name *name* and stores them directly to db without\n\n        \n# any validation or callback\n\n        def update_column(name, value : Jennifer::DBAny)\n          update_columns(\n{name => value})\n        \nend\n\n        \n# Sets given *values* to proper fields and stores them directly to db without\n\n        \n# any validation or callback\n\n        def update_columns(values : Hash(String | Symbol, Jennifer::DBAny))\n          values.each do |name, value|\n            case name.to_s\n            \n{% for key, value in properties %}\n            when \"{{ key.id }}\"\n              if value.is_a?({{ value[:parsed_type].id }})\n                local = value.as({{ value[:parsed_type].id }})\n                @{{ key.id }} = local\n                @{{ key.id }}_changed = true\n              else\n                raise ::Jennifer::BaseException.new(\"Wrong type for #{name} : #{value.class}\")\n              end\n            {% end %}\n\n            \nelse\n              raise ::Jennifer::BaseException.new(\"Unknown model attribute - #{name}\")\n            \nend\n          \nend\n\n          ::Jennifer::Adapter.adapter.update(self)\n          __refresh_changes\n        \nend\n\n        \n# Sets *name* field with *value*\n\n        def set_attribute(name : String | Symbol, value : Jennifer::DBAny)\n          case name.to_s\n          \n{% for key, value in properties %}\n            {% if value[:setter] == nil ? true : value[:setter] %}\n              when \"{{ key.id }}\"\n                if value.is_a?({{ value[:parsed_type].id }})\n                  self.{{ key.id }} = value.as({{ value[:parsed_type].id }})\n                else\n                  raise ::Jennifer::BaseException.new(\"wrong type for #{name} : #{value.class}\")\n                end\n            {% end %}\n          {% end %}\n\n          \nelse\n            raise ::Jennifer::BaseException.new(\"Unknown model attribute - #{name}\")\n          \nend\n        \nend\n\n        \n# Returns field by given name. If object has no such field - will raise `BaseException`.\n\n        \n# To avoid raising exception set `raise_exception` to `false`.\n\n        def attribute(name : String | Symbol, raise_exception : Bool = true)\n          case name.to_s\n          \n{% for key, value in properties %}\n          when \"{{ key.id }}\"\n            @{{ key.id }}\n          {% end %}\n\n          \nelse\n            raise ::Jennifer::BaseException.new(\"Unknown model attribute - #{name}\") if raise_exception\n          \nend\n        \nend\n\n        \n# NOTE: This is deprecated method - it will be removed in 0.5.0. Use #to_h instead\n\n        def attributes_hash\n          hash = to_h\n          \n{% for key, value in properties %}\n            {% if value[:primary] %}\n              hash.delete(:{{ key }}) unless hash[:{{ key.id }}]?.nil?\n            {% end %}\n          {% end %}\n\n          hash\n        \nend\n\n        def arguments_to_save\n          args = [] of ::Jennifer::DBAny\n          fields = [] of String\n          \n{% for key, value in properties %}\n            {% if value[:primary] %}{% else %}\n              if @{{ key.id }}_changed\n                args << {% if value[:stringified_type] =~ Jennifer::Macros::JSON_REGEXP %}\n                          @{{ key.id }}.to_json\n                        {% else %}\n                          @{{ key.id }}\n                        {% end %}\n                fields << \"{{ key.id }}\"\n              end\n            {% end %}\n          {% end %}\n\n          \n{args: args, fields: fields}\n        \nend\n\n        def arguments_to_insert\n          args = [] of ::Jennifer::DBAny\n          \n# TODO: think about moving this array to constant\n\n          fields = [] of String\n          \n{% for key, value in properties %}\n            {% if value[:primary] && primary_auto_incrementable %}{% else %}\n              args << {% if value[:stringified_type] =~ Jennifer::Macros::JSON_REGEXP %}\n                        (@{{ key.id }} ? @{{ key.id }}.to_json : nil)\n                      {% else %}\n                        @{{ key.id }}\n                      {% end %}\n              fields << \"{{ key.id }}\"\n            {% end %}\n          {% end %}\n\n          \n{args: args, fields: fields}\n        \nend\n\n        private def __refresh_changes\n          \n{% for key, value in properties %}\n            @{{ key.id }}_changed = false\n          {% end %}\n\n        \nend\n\n        private def __check_if_changed\n          raise Jennifer::Skip.new unless changed? || new_record?\n        \nend\n\n        private def init_attributes(values : Hash)\n          super\n          \n{{ (properties.keys.map do |key|\n  \"@#{key.id}\"\nend.join(\", \")).id }}\n = _extract_attributes(values)\n        \nend\n      \n"}},{"id":"mapping-macro","html_id":"mapping-macro","name":"mapping","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/mapping.cr#L570","def":{"name":"mapping","args":[],"double_splat":{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},"splat_index":null,"block_arg":null,"visibility":"Public","body":"        mapping(\n{{ properties }}\n)\n      \n"}},{"id":"with_timestamps-macro","html_id":"with_timestamps-macro","name":"with_timestamps","doc":"Adds callbacks for `created_at` and `updated_at` fields","summary":"<p>Adds callbacks for <code>created_at</code> and <code>updated_at</code> fields</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/mapping.cr#L77","def":{"name":"with_timestamps","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        before_create :__update_created_at\n        before_save :__update_updated_at\n\n        \n# Sets `created_at` tocurrent time\n\n        def __update_created_at\n          @created_at = Time.now\n        \nend\n\n        \n# Sets `updated_at` to current time\n\n        def __update_updated_at\n          @updated_at = Time.now\n        \nend\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationContainer","path":"Jennifer/Model/RelationContainer.html","kind":"class","full_name":"Jennifer::Model::RelationContainer(T, Q)","name":"RelationContainer","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/IRelationContainer","kind":"class","full_name":"Jennifer::Model::IRelationContainer","name":"IRelationContainer"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/IRelationContainer","kind":"class","full_name":"Jennifer::Model::IRelationContainer","name":"IRelationContainer"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/model/relation_container.cr","line_number":7,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_container.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(relation)-class-method","html_id":"new(relation)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"args_string":"(relation)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_container.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_container.cr#L12","def":{"name":"new","args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = RelationContainer(T, Q).allocate\n_.initialize(relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"each(&block)-instance-method","html_id":"each(&amp;block)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_container.cr#L21","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_container.cr#L21","def":{"name":"each","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"to_a.each do |e|\n  yield e\nend"}},{"id":"records-instance-method","html_id":"records-instance-method","name":"records","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_container.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_container.cr#L16","def":{"name":"records","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @records.empry?\n  @records = @query.to_a\nend\n@records\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/RelationDefinition","path":"Jennifer/Model/RelationDefinition.html","kind":"module","full_name":"Jennifer::Model::RelationDefinition","name":"RelationDefinition","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/relation_definition.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"__refresh_relation_retrieves-instance-method","html_id":"__refresh_relation_retrieves-instance-method","name":"__refresh_relation_retrieves","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L4","def":{"name":"__refresh_relation_retrieves","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"append_relation(name:String,hash)-instance-method","html_id":"append_relation(name:String,hash)-instance-method","name":"append_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"args_string":"(name : String, hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L11","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L11","def":{"name":"append_relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(Jennifer::UnknownRelation.new(self.class, name))"}},{"id":"relation_retrieved(name:String)-instance-method","html_id":"relation_retrieved(name:String)-instance-method","name":"relation_retrieved","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L15","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L15","def":{"name":"relation_retrieved","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(Jennifer::UnknownRelation.new(self.class, name))"}},{"id":"set_inverse_of(name:String,object)-instance-method","html_id":"set_inverse_of(name:String,object)-instance-method","name":"set_inverse_of","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""}],"args_string":"(name : String, object)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L7","def":{"name":"set_inverse_of","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(Jennifer::UnknownRelation.new(self.class, name))"}}],"macros":[{"id":"belongs_to(name,klass,request=nil,foreign=nil,primary=nil,join_table=nil,join_foreign=nil,dependent=:none)-macro","html_id":"belongs_to(name,klass,request=nil,foreign=nil,primary=nil,join_table=nil,join_foreign=nil,dependent=:none)-macro","name":"belongs_to","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"join_foreign","doc":null,"default_value":"nil","external_name":"join_foreign","restriction":""},{"name":"dependent","doc":null,"default_value":":none","external_name":"dependent","restriction":""}],"args_string":"(name, klass, request = nil, foreign = nil, primary = nil, join_table = nil, join_foreign = nil, dependent = :none)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L252","def":{"name":"belongs_to","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"join_foreign","doc":null,"default_value":"nil","external_name":"join_foreign","restriction":""},{"name":"dependent","doc":null,"default_value":":none","external_name":"dependent","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        ::Jennifer::Model::RelationDefinition.declare_dependent(\n{{ name }}\n, \n{{ dependent }}\n, :belongs_to)\n\n        @@relations[\"\n{{ name.id }}\n\"] =\n          ::Jennifer::Relation::BelongsTo(\n{{ klass }}\n, \n{{ @type }}\n).new(\"\n{{ name.id }}\n\", \n{{ foreign }}\n, \n{{ primary }}\n,\n            \n{{ klass }}\n.all\n{% if request %}.exec {{ request }} {% end %}\n)\n\n        \n{{ \"{% RELATION_NAMES << #{name.id.stringify} %}\".id }}\n\n\n        @\n{{ name.id }}\n : \n{{ klass }}\n?\n        @__\n{{ name.id }}\n_retrieved = false\n\n        def self.\n{{ name.id }}\n_relation\n          @@relations[\"\n{{ name.id }}\n\"].as(::Jennifer::Relation::BelongsTo(\n{{ klass }}\n, \n{{ @type }}\n))\n        \nend\n\n        def \n{{ name.id }}\n\n          if !@__\n{{ name.id }}\n_retrieved && @\n{{ name.id }}\n.nil? && !new_record?\n            @__\n{{ name.id }}\n_retrieved = true\n            @\n{{ name.id }}\n = \n{{ name.id }}\n_reload\n          \nend\n          @\n{{ name.id }}\n\n        \nend\n\n        def \n{{ name.id }}\n!\n          \n{{ name.id }}\n.not_nil!\n        \nend\n\n        def \n{{ name.id }}\n_query\n          foreign_field = \n{{ (foreign ? foreign : \"attribute(#{klass}.singular_table_name + \\\"_id\\\")\").id }}\n\n          @@relations[\"\n{{ name.id }}\n\"].query(foreign_field).as(::Jennifer::QueryBuilder::ModelQuery(\n{{ klass }}\n))\n        \nend\n\n        def \n{{ name.id }}\n_reload\n          @\n{{ name.id }}\n = \n{{ name.id }}\n_query.first.as(\n{{ klass }}\n?)\n        \nend\n\n        def append_\n{{ name.id }}\n(rel : Hash)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = \n{{ klass }}\n.build(rel, false)\n        \nend\n\n        def append_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = rel\n        \nend\n\n        def __\n{{ name.id }}\n_retrieved\n          @__\n{{ name.id }}\n_retrieved = true\n        \nend\n\n        def remove_\n{{ name.id }}\n\n          \n{{ @type }}\n.\n{{ name.id }}\n_relation.remove(self)\n          @\n{{ name.id }}\n = nil\n        \nend\n\n        def add_\n{{ name.id }}\n(rel : Hash)\n          @\n{{ name.id }}\n = \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n\n        def add_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @\n{{ name.id }}\n = \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n      \n"}},{"id":"declare_dependent(name,type,relation_type)-macro","html_id":"declare_dependent(name,type,relation_type)-macro","name":"declare_dependent","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"relation_type","doc":null,"default_value":"","external_name":"relation_type","restriction":""}],"args_string":"(name, type, relation_type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L55","def":{"name":"declare_dependent","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"relation_type","doc":null,"default_value":"","external_name":"relation_type","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% type = type.id.stringify %}\n\n        \n{% if (relation_type == (:belongs_to)) && (type == \"nullify\") %}\n          {% raise(\"Relation \\\"#{name}\\\" can't has belongs_to relation with dependent nullify\") %}\n        {% end %}\n\n        \n{% if type == \"nullify\" %}\n          ::Jennifer::Model::RelationDefinition.nullify_dependency({{ name }}, {{ relation_type }})\n        {% else %}{% if type == \"delete\" %}\n          ::Jennifer::Model::RelationDefinition.delete_dependency({{ name }}, {{ relation_type }})\n        {% else %}{% if type == \"destroy\" %}\n          ::Jennifer::Model::RelationDefinition.destroy_dependency({{ name }}, {{ relation_type }})\n        {% else %}{% if type == \"restrict_with_exception\" %}::Jennifer::Model::RelationDefinition.restrict_with_exception_dependency({{ name }}, {{ relation_type }})\n        {% else %}{% if type == \"none\" %}\n        {% else %}\n          {% raise(\"Dependency type #{type} for relation #{name} of #{@type} is not allowed.\") %}\n        {% end %}{% end %}{% end %}{% end %}{% end %}\n\n      \n"}},{"id":"delete_dependency(name,relation_type)-macro","html_id":"delete_dependency(name,relation_type)-macro","name":"delete_dependency","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"relation_type","doc":null,"default_value":"","external_name":"relation_type","restriction":""}],"args_string":"(name, relation_type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L28","def":{"name":"delete_dependency","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"relation_type","doc":null,"default_value":"","external_name":"relation_type","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        def __delete_callback_\n{{ name.id }}\n\n          rel = \n\\{\n{@type}}.relation(\n{{ name.id.stringify }}\n)\n          \n{{ name.id }}\n_query.delete\n        \nend\n\n        before_destroy :__delete_callback_\n{{ name.id }}\n\n      \n"}},{"id":"destroy_dependency(name,relation_type)-macro","html_id":"destroy_dependency(name,relation_type)-macro","name":"destroy_dependency","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"relation_type","doc":null,"default_value":"","external_name":"relation_type","restriction":""}],"args_string":"(name, relation_type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L37","def":{"name":"destroy_dependency","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"relation_type","doc":null,"default_value":"","external_name":"relation_type","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        def __destroy_callback_\n{{ name.id }}\n\n          rel = \n\\{\n{@type}}.relation(\n{{ name.id.stringify }}\n)\n          \n{{ name.id }}\n_query.destroy\n        \nend\n\n        before_destroy :__destroy_callback_\n{{ name.id }}\n\n      \n"}},{"id":"has_and_belongs_to_many(name,klass,request=nil,foreign=nil,primary=nil,join_table=nil,association_foreign=nil)-macro","html_id":"has_and_belongs_to_many(name,klass,request=nil,foreign=nil,primary=nil,join_table=nil,association_foreign=nil)-macro","name":"has_and_belongs_to_many","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"association_foreign","doc":null,"default_value":"nil","external_name":"association_foreign","restriction":""}],"args_string":"(name, klass, request = nil, foreign = nil, primary = nil, join_table = nil, association_foreign = nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L163","def":{"name":"has_and_belongs_to_many","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"association_foreign","doc":null,"default_value":"nil","external_name":"association_foreign","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        @@relations[\"\n{{ name.id }}\n\"] =\n          ::Jennifer::Relation::ManyToMany(\n{{ klass }}\n, \n{{ @type }}\n).new(\"\n{{ name.id }}\n\", \n{{ foreign }}\n, \n{{ primary }}\n,\n            \n{{ klass }}\n.all\n{% if request %}.exec {{ request }} {% end %}\n, \n{{ join_table }}\n, \n{{ association_foreign }}\n)\n\n        \n{{ \"{% RELATION_NAMES << #{name.id.stringify} %}\".id }}\n\n\n        before_destroy :__\n{{ name.id }}\n_clean\n\n        \n# Cleans up all join table records for given relation\n\n        def __\n{{ name.id }}\n_clean\n          relation = self.class.\n{{ name.id }}\n_relation\n          this = self\n          ::Jennifer::Adapter.adapter.delete(::Jennifer::QueryBuilder::Query.new(relation.join_table!).where do\n            c(relation.foreign_field) == this.attribute(relation.primary_field)\n          \nend)\n        \nend\n\n        @\n{{ name.id }}\n = [] of \n{{ klass }}\n\n        @__\n{{ name.id }}\n_retrieved = false\n\n        \n# :nodoc:\n\n        private def set_\n{{ name.id }}\n_relation(object : Array)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = object\n        \nend\n\n        \n# :nodoc:\n\n        private def set_\n{{ name.id }}\n_relation(object)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n << object\n        \nend\n\n        def self.\n{{ name.id }}\n_relation\n          @@relations[\"\n{{ name.id }}\n\"].as(::Jennifer::Relation::ManyToMany(\n{{ klass }}\n, \n{{ @type }}\n))\n        \nend\n\n        def \n{{ name.id }}\n_query\n          primary_field =\n            \n{% if primary %}\n              {{ primary.id }}\n            {% else %}\n              primary\n            {% end %}\n\n          @@relations[\"\n{{ name.id }}\n\"].query(primary_field).as(::Jennifer::QueryBuilder::ModelQuery(\n{{ klass }}\n))\n        \nend\n\n        def \n{{ name.id }}\n\n          if !@__\n{{ name.id }}\n_retrieved && @\n{{ name.id }}\n.empty? && !new_record?\n            set_\n{{ name.id }}\n_relation(\n{{ name.id }}\n_query.to_a.as(Array(\n{{ klass }}\n)))\n          \nend\n          @\n{{ name.id }}\n\n        \nend\n\n        def append_\n{{ name.id }}\n(rel : Hash)\n          set_\n{{ name.id }}\n_relation(\n{{ klass }}\n.build(rel, false))\n        \nend\n\n        def append_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          set_\n{{ name.id }}\n_relation(rel)\n        \nend\n\n        def __\n{{ name.id }}\n_retrieved\n          @__\n{{ name.id }}\n_retrieved = true\n        \nend\n\n        def remove_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          index = @\n{{ name.id }}\n.index \n{ |e| \ne.primary == rel.primary }\n          if index\n            \n{{ @type }}\n.\n{{ name.id }}\n_relation.remove(self, rel)\n            @\n{{ name.id }}\n.delete_at(index)\n          \nend\n          rel\n        \nend\n\n        \n# ... ; doesn't support `inverse_of` option\n\n        def add_\n{{ name.id }}\n(rel : Hash)\n          @\n{{ name.id }}\n << \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n\n        def add_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @\n{{ name.id }}\n << \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n\n        def \n{{ name.id }}\n_reload\n          @\n{{ name.id }}\n = \n{{ name.id }}\n_query.to_a.as(Array(\n{{ klass }}\n))\n        \nend\n      \n"}},{"id":"has_many(name,klass,request=nil,foreign=nil,primary=nil,dependent=:nullify,inverse_of=nil)-macro","html_id":"has_many(name,klass,request=nil,foreign=nil,primary=nil,dependent=:nullify,inverse_of=nil)-macro","name":"has_many","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"dependent","doc":null,"default_value":":nullify","external_name":"dependent","restriction":""},{"name":"inverse_of","doc":null,"default_value":"nil","external_name":"inverse_of","restriction":""}],"args_string":"(name, klass, request = nil, foreign = nil, primary = nil, dependent = :nullify, inverse_of = nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L74","def":{"name":"has_many","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"dependent","doc":null,"default_value":":nullify","external_name":"dependent","restriction":""},{"name":"inverse_of","doc":null,"default_value":"nil","external_name":"inverse_of","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% inverse_of_str = inverse_of.id.stringify %}\n\n\n        ::Jennifer::Model::RelationDefinition.declare_dependent(\n{{ name }}\n, \n{{ dependent }}\n, :has_many)\n\n        @@relations[\"\n{{ name.id }}\n\"] =\n          ::Jennifer::Relation::HasMany(\n{{ klass }}\n, \n{{ @type }}\n).new(\"\n{{ name.id }}\n\", \n{{ foreign }}\n, \n{{ primary }}\n,\n            \n{{ klass }}\n.all\n{% if request %}.exec {{ request }} {% end %}\n)\n\n        \n{{ \"{% RELATION_NAMES << #{name.id.stringify} %}\".id }}\n\n\n        @\n{{ name.id }}\n = [] of \n{{ klass }}\n\n        @__\n{{ name.id }}\n_retrieved = false\n\n        \n# :nodoc:\n\n        private def set_\n{{ name.id }}\n_relation(object : Array)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = object\n          \n{% if inverse_of %}\n            object.each(&.set_inverse_of({{ inverse_of_str }}, self))\n          {% end %}\n\n        \nend\n\n        \n# :nodoc:\n\n        private def set_\n{{ name.id }}\n_relation(object)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n << object\n          \n{% if inverse_of %}\n            object.set_inverse_of({{ inverse_of_str }}, self)\n          {% end %}\n\n        \nend\n\n        \n# returns relation metaobject\n\n        def self.\n{{ name.id }}\n_relation\n          @@relations[\"\n{{ name.id }}\n\"].as(::Jennifer::Relation::HasMany(\n{{ klass }}\n, \n{{ @type }}\n))\n        \nend\n\n        \n# returns relation query for the object\n\n        def \n{{ name.id }}\n_query\n          primary_value = \n{{ primary ? primary.id : \"primary\".id }}\n\n          \n{{ @type }}\n.relation(\n{{ name.id.stringify }}\n).query(primary_value).as(::Jennifer::QueryBuilder::ModelQuery(\n{{ klass }}\n))\n        \nend\n\n        \n# returns array of related objects\n\n        def \n{{ name.id }}\n\n          if !@__\n{{ name.id }}\n_retrieved && @\n{{ name.id }}\n.empty? && !new_record?\n            set_\n{{ name.id }}\n_relation(\n{{ name.id }}\n_query.to_a.as(Array(\n{{ klass }}\n)))\n          \nend\n          @\n{{ name.id }}\n\n        \nend\n\n        \n# builds related object from hash and adds to relation\n\n        def append_\n{{ name.id }}\n(rel : Hash)\n          obj = \n{{ klass }}\n.build(rel, false)\n          set_\n{{ name.id }}\n_relation(\n{{ klass }}\n.build(rel, false))\n        \nend\n\n        def append_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          set_\n{{ name.id }}\n_relation(rel)\n        \nend\n\n        def __\n{{ name.id }}\n_retrieved\n          @__\n{{ name.id }}\n_retrieved = true\n        \nend\n\n        \n# removes given object from relation array\n\n        def remove_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          index = @\n{{ name.id }}\n.index \n{ |e| \ne.primary == rel.primary }\n          if index\n            \n{{ @type }}\n.\n{{ name.id }}\n_relation.remove(self, rel)\n            @\n{{ name.id }}\n.delete_at(index)\n          \nend\n          rel\n        \nend\n\n        \n# Insert given object to db and relation; doesn't support `inverse_of` option\n\n        def add_\n{{ name.id }}\n(rel : Hash)\n          @\n{{ name.id }}\n << \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel).as(\n{{ klass }}\n)\n        \nend\n\n        def add_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @\n{{ name.id }}\n << \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n\n        def \n{{ name.id }}\n_reload\n          @\n{{ name.id }}\n = \n{{ name.id }}\n_query.to_a.as(Array(\n{{ klass }}\n))\n        \nend\n      \n"}},{"id":"has_one(name,klass,request=nil,foreign=nil,primary=nil,join_table=nil,join_foreign=nil,dependent=:nullify,inverse_of=nil)-macro","html_id":"has_one(name,klass,request=nil,foreign=nil,primary=nil,join_table=nil,join_foreign=nil,dependent=:nullify,inverse_of=nil)-macro","name":"has_one","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"join_foreign","doc":null,"default_value":"nil","external_name":"join_foreign","restriction":""},{"name":"dependent","doc":null,"default_value":":nullify","external_name":"dependent","restriction":""},{"name":"inverse_of","doc":null,"default_value":"nil","external_name":"inverse_of","restriction":""}],"args_string":"(name, klass, request = nil, foreign = nil, primary = nil, join_table = nil, join_foreign = nil, dependent = :nullify, inverse_of = nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L317","def":{"name":"has_one","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""},{"name":"request","doc":null,"default_value":"nil","external_name":"request","restriction":""},{"name":"foreign","doc":null,"default_value":"nil","external_name":"foreign","restriction":""},{"name":"primary","doc":null,"default_value":"nil","external_name":"primary","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"join_foreign","doc":null,"default_value":"nil","external_name":"join_foreign","restriction":""},{"name":"dependent","doc":null,"default_value":":nullify","external_name":"dependent","restriction":""},{"name":"inverse_of","doc":null,"default_value":"nil","external_name":"inverse_of","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        ::Jennifer::Model::RelationDefinition.declare_dependent(\n{{ name }}\n, \n{{ dependent }}\n, :has_one)\n\n        @@relations[\"\n{{ name.id }}\n\"] =\n          ::Jennifer::Relation::HasOne(\n{{ klass }}\n, \n{{ @type }}\n).new(\"\n{{ name.id }}\n\", \n{{ foreign }}\n, \n{{ primary }}\n,\n            \n{{ klass }}\n.all\n{% if request %}.exec {{ request }} {% end %}\n)\n\n        \n{{ \"{% RELATION_NAMES << #{name.id.stringify} %}\".id }}\n\n\n        @\n{{ name.id }}\n : \n{{ klass }}\n?\n        @__\n{{ name.id }}\n_retrieved = false\n\n        \n# :nodoc:\n\n        private def set_\n{{ name.id }}\n_relation(object)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = object\n          \n{% if inverse_of %}\n            object.not_nil!.set_inverse_of({{ inverse_of.id.stringify }}, self) if object\n          {% end %}\n\n        \nend\n\n        def self.\n{{ name.id }}\n_relation\n          @@relations[\"\n{{ name.id }}\n\"].as(::Jennifer::Relation::HasOne(\n{{ klass }}\n, \n{{ @type }}\n))\n        \nend\n\n        def \n{{ name.id }}\n\n          if !@__\n{{ name.id }}\n_retrieved && @\n{{ name.id }}\n.nil? && !new_record?\n            set_\n{{ name.id }}\n_relation(\n{{ name.id }}\n_reload)\n          \nend\n          @\n{{ name.id }}\n\n        \nend\n\n        def \n{{ name.id }}\n!\n          \n{{ name.id }}\n.not_nil!\n        \nend\n\n        def \n{{ name.id }}\n_query\n          primary_field = \n{{ (primary ? primary : \"primary\").id }}\n\n          @@relations[\"\n{{ name.id }}\n\"].query(primary_field).as(::Jennifer::QueryBuilder::ModelQuery(\n{{ klass }}\n))\n        \nend\n\n        def \n{{ name.id }}\n_reload\n          @\n{{ name.id }}\n = \n{{ name.id }}\n_query.first.as(\n{{ klass }}\n?)\n        \nend\n\n        \n# ... ; doesn't support `inverse_of` option\n\n        def append_\n{{ name.id }}\n(rel : Hash)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = \n{{ klass }}\n.build(rel, false)\n        \nend\n\n        def append_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @__\n{{ name.id }}\n_retrieved = true\n          @\n{{ name.id }}\n = rel\n        \nend\n\n        def __\n{{ name.id }}\n_retrieved\n          @__\n{{ name.id }}\n_retrieved = true\n        \nend\n\n        def remove_\n{{ name.id }}\n\n          \n{{ @type }}\n.\n{{ name.id }}\n_relation.remove(self)\n          @\n{{ name.id }}\n = nil\n        \nend\n\n        def add_\n{{ name.id }}\n(rel : Hash)\n          @\n{{ name.id }}\n = \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n\n        def add_\n{{ name.id }}\n(rel : \n{{ klass }}\n)\n          @\n{{ name.id }}\n = \n{{ @type }}\n.\n{{ name.id }}\n_relation.insert(self, rel)\n        \nend\n      \n"}},{"id":"inherited_hook-macro","html_id":"inherited_hook-macro","name":"inherited_hook","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L391","def":{"name":"inherited_hook","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        RELATION_NAMES = [] of String\n\n        def set_inverse_of(name : String, object)\n          \n\\{% \nbegin %}\n            \n\\{% \nrelations = RELATION_NAMES %}\n            \n\\{% if\n relations.size > 0 %}\n              case name\n              \n\\{% for\n rel in relations %}\n                when \n\\{\n{rel}}\n                  @\n\\{\n{rel.id}} = object\n                  __\n\\{\n{rel.id}}_retrieved\n              \n\\{% end\n %}\n              \nelse\n                super(name, object)\n              \nend\n            \n\\{% end\n %}\n          \n\\{% end\n %}\n        \nend\n\n        def append_relation(name : String, hash)\n          \n\\{% \nbegin %}\n            \n\\{% \nrelations = RELATION_NAMES %}\n            \n\\{% if\n relations.size > 0 %}\n              case name\n              \n\\{% for\n rel in relations %}\n              when \n\\{\n{rel}}\n                append_\n\\{\n{rel.id}}(hash)\n              \n\\{% end\n %}\n              \nelse\n                super(name, hash)\n              \nend\n            \n\\{% end\n %}\n          \n\\{% end\n %}\n        \nend\n\n        def relation_retrieved(name : String)\n          \n\\{% \nbegin %}\n            \n\\{% \nrelations = RELATION_NAMES %}\n            \n\\{% if\n relations.size > 0 %}\n              case name\n              \n\\{% for\n rel in relations %}\n                when \n\\{\n{rel}}\n                  __\n\\{\n{rel.id}}_retrieved\n              \n\\{% end\n %}\n              \nelse\n                super(name)\n              \nend\n            \n\\{% end\n %}\n          \n\\{% end\n %}\n        \nend\n\n        def __refresh_relation_retrieves\n          \n\\{% \nbegin %}\n            \n\\{% \nrelations = RELATION_NAMES %}\n            \n\\{% for\n rel in relations %}\n              @__\n\\{\n{rel.id}}_retrieved = false\n            \n\\{% end\n %}\n            super\n          \n\\{% end\n %}\n        \nend\n      \n"}},{"id":"nullify_dependency(name,relation_type)-macro","html_id":"nullify_dependency(name,relation_type)-macro","name":"nullify_dependency","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"relation_type","doc":null,"default_value":"","external_name":"relation_type","restriction":""}],"args_string":"(name, relation_type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L19","def":{"name":"nullify_dependency","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"relation_type","doc":null,"default_value":"","external_name":"relation_type","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        def __nullify_callback_\n{{ name.id }}\n\n          rel = \n\\{\n{@type}}.relation(\n{{ name.id.stringify }}\n)\n          \n{{ name.id }}\n_query.update(\n{rel.foreign_field => nil})\n        \nend\n\n        before_destroy :__nullify_callback_\n{{ name.id }}\n\n      \n"}},{"id":"restrict_with_exception_dependency(name,relation_type)-macro","html_id":"restrict_with_exception_dependency(name,relation_type)-macro","name":"restrict_with_exception_dependency","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"relation_type","doc":null,"default_value":"","external_name":"relation_type","restriction":""}],"args_string":"(name, relation_type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/relation_definition.cr#L46","def":{"name":"restrict_with_exception_dependency","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"relation_type","doc":null,"default_value":"","external_name":"relation_type","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        def __restrict_with_exception_callback_\n{{ name.id }}\n\n          rel = \n\\{\n{@type}}.relation(\n{{ name.id.stringify }}\n)\n          raise ::Jennifer::RecordExists.new(self, \n{{ name.id.stringify }}\n) if \n{{ name.id }}\n_query.exists?\n        \nend\n\n        before_destroy :__restrict_with_exception_callback_\n{{ name.id }}\n\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","path":"Jennifer/Model/Scoping.html","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/scoping.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/scoping.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Base","kind":"class","full_name":"Jennifer::View::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"scope(name)-macro","html_id":"scope(name)-macro","name":"scope","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/scoping.cr#L4","def":{"name":"scope","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""},"visibility":"Public","body":"        \n{% underscored_arg_list = (block.args.map(&.stringify).map do |e|\n  \"__\" + e\nend.join(\", \")).id %}\n\n\n        class Jennifer::QueryBuilder::ModelQuery(T)\n          def \n{{ name.id }}\n(\n{{ block.args.splat }}\n)\n            \n# NOTE: this is workaround for #responds_to?\n\n            klass = T\n            if klass.responds_to?(:\n{{ name.id }}\n)\n              klass.\n{{ name.id }}\n(self, \n{{ block.args.splat }}\n)\n            \nelse\n              raise Jennifer::BaseException.new(\"#{T} class has no \n{{ name.id }}\n scope.\")\n            \nend\n          \nend\n        \nend\n\n        def self.\n{{ name.id }}\n(\n{{ underscored_arg_list }}\n)\n          \n{{ name.id }}\n(all\n{% if !block.args.empty? %}, {{ underscored_arg_list }} {% end %}\n)\n        \nend\n\n        def self.\n{{ name.id }}\n(_query : ::Jennifer::QueryBuilder::ModelQuery(\n{{ @type }}\n)\n{% if !block.args.empty? %}, {{ underscored_arg_list }} {% end %}\n)\n          \n{% if !block.args.empty? %}\n            {{ block.args.splat }} = {{ underscored_arg_list }}\n          {% end %}\n\n          _query.exec \n{ \n{{ block.body }}\n }\n        \nend\n      \n"}},{"id":"scope(name,klass)-macro","html_id":"scope(name,klass)-macro","name":"scope","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(name, klass)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/scoping.cr#L31","def":{"name":"scope","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        class Jennifer::QueryBuilder::ModelQuery(T)\n          def \n{{ name.id }}\n(*args)\n            T.\n{{ name.id }}\n(self, *args)\n          \nend\n        \nend\n\n        def self.\n{{ name.id }}\n(_query : ::Jennifer::QueryBuilder::ModelQuery(\n{{ @type }}\n), *args)\n          \n{{ klass }}\n.new(_query, *args).call\n        \nend\n\n        def self.\n{{ name.id }}\n(*args)\n          \n{{ name.id }}\n(all, *args)\n        \nend\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/STIMapping","path":"Jennifer/Model/STIMapping.html","kind":"module","full_name":"Jennifer::Model::STIMapping","name":"STIMapping","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/sti_mapping.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/sti_mapping.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"sti_mapping(properties)-macro","html_id":"sti_mapping(properties)-macro","name":"sti_mapping","doc":null,"summary":null,"abstract":false,"args":[{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""}],"args_string":"(properties)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/sti_mapping.cr#L4","def":{"name":"sti_mapping","args":[{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        STI = true\n\n        def self.sti_condition\n          c(\"type\") == \n{{ @type.id.stringify }}\n\n        \nend\n\n        def self.table_name\n          superclass.table_name\n        \nend\n\n        def self.singular_table_name\n          superclass.table_name\n        \nend\n\n        def self.table_name(name)\n          raise \"You can't specify table name using STI on subclasses\"\n        \nend\n\n        def self.singular_table_name(name)\n          raise \"You can't specify table name using STI on subclasses\"\n        \nend\n\n        \n# NOTE: next section is a copy-paste from mapping.cr (with removing any parsing of primary option)\n\n        \n{% add_default_constructor = @type.superclass.constant(\"WITH_DEFAULT_CONSTRUCTOR\") %}\n\n\n        \n# generates hash with options\n\n        \n{% for key, value in properties %}\n          {% if (value.is_a?(HashLiteral)) || (value.is_a?(NamedTupleLiteral)) %}{% else %}\n            {% properties[key] = {type: value} %}\n          {% end %}\n          {% properties[key][:stringified_type] = properties[key][:type].stringify %}\n          {% if properties[key][:stringified_type] =~ Jennifer::Macros::NILLABLE_REGEXP %}\n            {% properties[key][:null] = trueproperties[key][:parsed_type] = properties[key][:stringified_type] %}\n          {% else %}\n            {% properties[key][:parsed_type] = properties[key][:null] ? properties[key][:stringified_type] + \"?\" : properties[key][:stringified_type] %}\n          {% end %}\n          {% add_default_constructor = add_default_constructor && (properties[key][:null] || (properties[key].keys.includes?(:default))) %}\n        {% end %}\n\n\n        __field_declaration(\n{{ properties }}\n, false)\n\n        def _sti_extract_attributes(values : Hash(String, ::Jennifer::DBAny))\n          \n{% for key, value in properties %}\n            %var{key.id} = nil\n            %found{key.id} = true\n          {% end %}\n\n\n          \n{% for key, value in properties %}\n            if !values[\"{{ key.id }}\"]?.nil?\n              %var{key.id} = values[\"{{ key.id }}\"]\n            else\n              %found{key.id} = false\n            end\n          {% end %}\n\n\n          \n{% for key, value in properties %}\n            begin\n              {% if value[:null] %}\n                {% if value[:default] != nil %}\n                  %var{key.id} = %found{key.id} ? __bool_convert(%var{key.id}, {{ value[:parsed_type].id }}) : {{ value[:default] }}\n                {% else %}\n                  %var{key.id} = %var{key.id}.as({{ value[:parsed_type].id }})\n                {% end %}\n              {% else %}{% if value[:default] != nil %}\n                %var{key.id} = %var{key.id}.is_a?(Nil) ? {{ value[:default] }} : __bool_convert(%var{key.id}, {{ value[:parsed_type].id }})\n              {% else %}\n                %var{key.id} = __bool_convert(%var{key.id}, {{ value[:parsed_type].id }})\n              {% end %}{% end %}\n            rescue e : Exception\n              raise ::Jennifer::DataTypeCasting.new({{ key.id.stringify }}, {{ @type }}, e) if ::Jennifer::DataTypeCasting.match?(e)\n              raise e\n            end\n          {% end %}\n\n\n          \n{% if properties.size > 1 %}\n            {\n            {% for key, value in properties %}\n              %var{key.id}.as({{ value[:parsed_type].id }}),\n            {% end %}\n            }\n          {% else %}\n            {% key = properties.keys[0] %}\n            %var{key}.as({{ properties[key][:parsed_type].id }})\n          {% end %}\n\n        \nend\n\n        \n# creates object from db tuple\n\n        def initialize(\n%pull\n : DB::ResultSet)\n          initialize(::Jennifer::Adapter.adapter.result_to_hash(\n%pull\n), false)\n        \nend\n\n        def initialize(values : Hash(Symbol, ::Jennifer::DBAny) | NamedTuple)\n          initialize(stringify_hash(values, Jennifer::DBAny))\n        \nend\n\n        def initialize(values : Hash(String, ::Jennifer::DBAny))\n          \n# TODO: try to make the \"type\" field customizable\n\n          values[\"type\"] = \"\n{{ @type.id }}\n\" if values[\"type\"]?.nil?\n          super(values)\n          \n{{ (properties.keys.map do |key|\n  \"@#{key.id}\"\nend.join(\", \")).id }}\n = _sti_extract_attributes(values)\n        \nend\n\n        def initialize(values : Hash | NamedTuple, @new_record)\n          initialize(values)\n        \nend\n\n        \n{% if add_default_constructor %}\n          WITH_DEFAULT_CONSTRUCTOR = true\n\n          def initialize\n            initialize({} of String => ::Jennifer::DBAny)\n          end\n        {% else %}\n          WITH_DEFAULT_CONSTRUCTOR = false\n        {% end %}\n\n\n        def reload\n          raise ::Jennifer::RecordNotFound.new(\"It is not persisted yet\") if new_record?\n          this = self\n          self.class.all.where \n{ this.class.primary == this.primary }.limit(1).each_result_set do |rs|\n            values = ::Jennifer::Adapter.adapter.result_to_hash(rs)\n            init_attributes(values)\n          \nend\n          __refresh_changes\n          __refresh_relation_retrieves\n          self\n        \nend\n\n        def changed?\n          super ||\n          \n{% for key in properties.keys %}\n            @{{ key.id }}_changed ||\n          {% end %}\n\n          false\n        \nend\n\n        def to_h\n          hash = super\n          \n{% for key in properties.keys %}\n            hash[:{{ key.id }}] = @{{ key.id }}\n          {% end %}\n\n          hash\n        \nend\n\n        def to_str_h\n          hash = super\n          \n{% for key in properties.keys %}\n            hash[{{ key.stringify }}] = @{{ key.id }}\n          {% end %}\n\n          hash\n        \nend\n\n        def update_columns(values : Hash(String | Symbol, Jennifer::DBAny))\n          missing_values = \n{} of String | Symbol => Jennifer::DBAny\n          values.each do |name, value|\n            case name.to_s\n            \n{% for key, value in properties %}\n            when \"{{ key.id }}\"\n              if value.is_a?({{ value[:parsed_type].id }})\n                local = value.as({{ value[:parsed_type].id }})\n                @{{ key.id }} = local\n                @{{ key.id }}_changed = true\n              else\n                raise ::Jennifer::BaseException.new(\"Wrong type for #{name} : #{value.class}\")\n              end\n            {% end %}\n\n            \nelse\n              missing_values[name] = value\n            \nend\n          \nend\n          super(missing_values)\n        \nend\n\n        def set_attribute(name, value)\n          case name.to_s\n          \n{% for key, value in properties %}\n            {% if value[:setter] != false %}\n              when \"{{ key.id }}\"\n                if value.is_a?({{ value[:parsed_type].id }})\n                  self.{{ key.id }} = value.as({{ value[:parsed_type].id }})\n                else\n                  raise ::Jennifer::BaseException.new(\"Wrong type for #{name} : #{value.class}\")\n                end\n            {% end %}\n          {% end %}\n\n          \nelse\n            super\n          \nend\n        \nend\n\n        def attribute(name : String, raise_exception = true)\n          if raise_exception && !\n{{ @type }}\n.field_names.includes?(name)\n            raise ::Jennifer::BaseException.new(\"Unknown model attribute - #{name}\")\n          \nend\n          case name\n          \n{% for key, value in properties %}\n          when \"{{ key.id }}\"\n            @{{ key.id }}\n          {% end %}\n\n          \nelse\n            super\n          \nend\n        \nend\n\n        def arguments_to_save\n          res = super\n          args = res[:args]\n          fields = res[:fields]\n          \n{% for key, value in properties %}\n            if @{{ key.id }}_changed\n              args << {% if value[:stringified_type] =~ Jennifer::Macros::JSON_REGEXP %}\n                        @{{ key.id }}.to_json\n                      {% else %}\n                        @{{ key.id }}\n                      {% end %}\n              fields << \"{{ key.id }}\"\n            end\n          {% end %}\n\n          \n{args: args, fields: fields}\n        \nend\n\n        def arguments_to_insert\n          res = super\n          args = res[:args]\n          fields = res[:fields]\n          \n{% for key, value in properties %}\n            args << {% if value[:stringified_type] =~ Jennifer::Macros::JSON_REGEXP %}\n                      (@{{ key.id }} ? @{{ key.id }}.to_json : nil)\n                    {% else %}\n                      @{{ key.id }}\n                    {% end %}\n            fields << {{ key.stringify }}\n          {% end %}\n\n\n          \n{ args: args, fields: fields }\n        \nend\n\n        def self.all\n          ::Jennifer::QueryBuilder::ModelQuery(\n{{ @type }}\n).build(table_name).where \n{ _type == \n{{ @type.stringify }}\n }\n        \nend\n\n        private def init_attributes(values : Hash)\n          super\n          \n{{ (properties.keys.map do |key|\n  \"@#{key.id}\"\nend.join(\", \")).id }}\n = _sti_extract_attributes(values)\n        \nend\n\n        private def __refresh_changes\n          \n{% for key in properties.keys %}\n            @{{ key.id }}_changed = false\n          {% end %}\n\n          super\n        \nend\n\n        \n{% all_properties = properties %}\n\n        \n{% for key, value in @type.superclass.constant(\"COLUMNS_METADATA\") %}\n          {% all_properties[key] = value %}\n        {% end %}\n\n\n        COLUMNS_METADATA = \n{{ all_properties }}\n\n        PRIMARY_AUTO_INCREMENTABLE = \n{{ @type.superclass.constant(\"PRIMARY_AUTO_INCREMENTABLE\") }}\n\n\n        def self.columns_tuple\n          COLUMNS_METADATA\n        \nend\n\n        def self.field_count\n          \n{{ all_properties.size }}\n\n        \nend\n\n        def self.field_names\n          [\n            \n{% for key in all_properties.keys %}\n              \"{{ key.id }}\",\n            {% end %}\n\n          ]\n        \nend\n      \n"}},{"id":"sti_mapping-macro","html_id":"sti_mapping-macro","name":"sti_mapping","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/sti_mapping.cr#L286","def":{"name":"sti_mapping","args":[],"double_splat":{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},"splat_index":null,"block_arg":null,"visibility":"Public","body":"        sti_mapping(\n{{ properties }}\n)\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Validation","path":"Jennifer/Model/Validation.html","kind":"module","full_name":"Jennifer::Model::Validation","name":"Validation","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/ValidationMessages","kind":"module","full_name":"Jennifer::Model::ValidationMessages","name":"ValidationMessages"},{"html_id":"github.com/imdrasil/jennifer.cr/Accord","kind":"module","full_name":"Accord","name":"Accord"}],"locations":[{"filename":"jennifer/model/validation.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Accord","kind":"module","full_name":"Accord","name":"Accord"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/ValidationMessages","kind":"module","full_name":"Jennifer::Model::ValidationMessages","name":"ValidationMessages"}],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Base","kind":"class","full_name":"Jennifer::Model::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"validate(skip=false)-instance-method","html_id":"validate(skip=false)-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[{"name":"skip","doc":null,"default_value":"false","external_name":"skip","restriction":""}],"args_string":"(skip = <span class=\"n\">false</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L9","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L9","def":{"name":"validate","args":[{"name":"skip","doc":null,"default_value":"false","external_name":"skip","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[{"id":"_not_nil_validation(field,allow_blank)-macro","html_id":"_not_nil_validation(field,allow_blank)-macro","name":"_not_nil_validation","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":""}],"args_string":"(field, allow_blank)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L36","def":{"name":"_not_nil_validation","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"allow_blank","doc":null,"default_value":"","external_name":"allow_blank","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        begin\n          \n{% if allow_blank %}\n            return if @{{ field.id }}.nil?\n          {% else %}\n            return errors.add({{ field }}, not_blank_message) if @{{ field.id }}.nil?\n          {% end %}\n\n          @\n{{ field.id }}\n.not_nil!\n        \nend\n      \n"}},{"id":"finished_hook-macro","html_id":"finished_hook-macro","name":"finished_hook","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L26","def":{"name":"finished_hook","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        def validate(skip = false)\n          return if skip\n          super\n          \n\\{% for\n method in VALIDATION_METHODS %}\n            \n\\{\n{method.id}}\n          \n\\{% end\n %}\n        \nend\n      \n"}},{"id":"inherited_hook-macro","html_id":"inherited_hook-macro","name":"inherited_hook","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L22","def":{"name":"inherited_hook","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        VALIDATION_METHODS = [] of String\n      "}},{"id":"validates_exclusion(field,value,allow_blank=false)-macro","html_id":"validates_exclusion(field,value,allow_blank=false)-macro","name":"validates_exclusion","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""}],"args_string":"(field, value, allow_blank = false)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L58","def":{"name":"validates_exclusion","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n)\n\n        def \n%validate_method\n\n          value = _not_nil_validation(\n{{ field }}\n, \n{{ allow_blank }}\n)\n          if (\n{{ value }}\n).includes?(value)\n            \nerrors.add(:\n{{ field.id }}\n, must_not_be_message(\n{{ value }}\n, value))\n          \nend\n        \nend\n      \n"}},{"id":"validates_format(field,value,allow_blank=false)-macro","html_id":"validates_format(field,value,allow_blank=false)-macro","name":"validates_format","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""}],"args_string":"(field, value, allow_blank = false)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L69","def":{"name":"validates_format","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n)\n\n        def \n%validate_method\n\n          value = _not_nil_validation(\n{{ field }}\n, \n{{ allow_blank }}\n)\n          unless \n{{ value }}\n =~ value\n            \nerrors.add(\n{{ field }}\n, must_be_like_message(\n{{ value }}\n, value))\n          \nend\n        \nend\n      \n"}},{"id":"validates_inclucion(field,value,allow_blank=false)-macro","html_id":"validates_inclucion(field,value,allow_blank=false)-macro","name":"validates_inclucion","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""}],"args_string":"(field, value, allow_blank = false)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L47","def":{"name":"validates_inclucion","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"allow_blank","doc":null,"default_value":"false","external_name":"allow_blank","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n)\n\n        def \n%validate_method\n\n          value = _not_nil_validation(\n{{ field }}\n, \n{{ allow_blank }}\n)\n          unless (\n{{ value }}\n).includes?(value)\n            \nerrors.add(\n{{ field }}\n, must_be_message(\n{{ value }}\n, value))\n          \nend\n        \nend\n      \n"}},{"id":"validates_length(field,**options)-macro","html_id":"validates_length(field,**options)-macro","name":"validates_length","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"args_string":"(field, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L80","def":{"name":"validates_length","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n)\n\n        def \n%validate_method\n\n          value = _not_nil_validation(\n{{ field }}\n, \n{{ options[:allow_blank] || false }}\n)\n          size = value.not_nil!.size\n          \n{% if options[:in] %}\n            unless ({{ options[:in] }}).includes?(size)\n              errors.add({{ field }}, length_in_message({{ options[:in] }}, size))\n            end\n          {% else %}{% if options[:is] %}\n            if {{ options[:is] }} != size\n              errors.add({{ field }}, length_is_message({{ options[:is] }}, size))\n            end\n          {% else %}\n            {% if options[:minimum] %}\n              if {{ options[:minimum] }} > size\n                errors.add({{ field }}, length_min_message({{ options[:minimum] }}, size))\n              end\n            {% end %}\n            {% if options[:maximum] %}\n              if {{ options[:maximum] }} < size\n                errors.add({{ field }}, length_max_message({{ options[:maximum] }}, size))\n              end\n            {% end %}\n          {% end %}{% end %}\n\n        \nend\n      \n"}},{"id":"validates_presence_of(field)-macro","html_id":"validates_presence_of(field)-macro","name":"validates_presence_of","doc":"Validates field to not be nil","summary":"<p>Validates field to not be nil</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"args_string":"(field)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L121","def":{"name":"validates_presence_of","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n)\n\n        def \n%validate_method\n\n          value = @\n{{ field.id }}\n\n          if value.nil?\n            \nerrors.add(\n{{ field }}\n, not_blank_message)\n          \nend\n        \nend\n      \n"}},{"id":"validates_uniqueness(field)-macro","html_id":"validates_uniqueness(field)-macro","name":"validates_uniqueness","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"args_string":"(field)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L109","def":{"name":"validates_uniqueness","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        validates_with_method(\n%validate_method\n)\n\n        def \n%validate_method\n\n          value = @\n{{ field.id }}\n\n          if \n{{ @type }}\n.where \n{ _\n{{ field.id }}\n == value }.exists?\n            \nerrors.add(\n{{ field }}\n, must_be_unique_message(value))\n          \nend\n        \nend\n      \n"}},{"id":"validates_with_method(name)-macro","html_id":"validates_with_method(name)-macro","name":"validates_with_method","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L12","def":{"name":"validates_with_method","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% VALIDATION_METHODS << name.id.stringify %}\n\n      \n"}},{"id":"validates_with_method(*names)-macro","html_id":"validates_with_method(*names)-macro","name":"validates_with_method","doc":null,"summary":null,"abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation.cr#L16","def":{"name":"validates_with_method","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for method in names %}\n          {% VALIDATION_METHODS << method.id.stringify %}\n        {% end %}\n\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/ValidationMessages","path":"Jennifer/Model/ValidationMessages.html","kind":"module","full_name":"Jennifer::Model::ValidationMessages","name":"ValidationMessages","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/validation_messages.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Validation","kind":"module","full_name":"Jennifer::Model::Validation","name":"Validation"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model","kind":"module","full_name":"Jennifer::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"length_in_message(expected,actual)-instance-method","html_id":"length_in_message(expected,actual)-instance-method","name":"length_in_message","doc":null,"summary":null,"abstract":false,"args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"args_string":"(expected, actual)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L16","def":{"name":"length_in_message","args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"must be of size #{expected} but has #{actual}\""}},{"id":"length_is_message(expected,actual)-instance-method","html_id":"length_is_message(expected,actual)-instance-method","name":"length_is_message","doc":null,"summary":null,"abstract":false,"args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"args_string":"(expected, actual)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L20","def":{"name":"length_is_message","args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"must be of size#{expected} but has #{actual}\""}},{"id":"length_max_message(expected,actual)-instance-method","html_id":"length_max_message(expected,actual)-instance-method","name":"length_max_message","doc":null,"summary":null,"abstract":false,"args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"args_string":"(expected, actual)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L28","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L28","def":{"name":"length_max_message","args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"must be less than or equal #{expected} but is #{actual}\""}},{"id":"length_min_message(expected,actual)-instance-method","html_id":"length_min_message(expected,actual)-instance-method","name":"length_min_message","doc":null,"summary":null,"abstract":false,"args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"args_string":"(expected, actual)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L24","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L24","def":{"name":"length_min_message","args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"must be greater than or equal #{expected} but is #{actual}\""}},{"id":"must_be_like_message(expected,actual)-instance-method","html_id":"must_be_like_message(expected,actual)-instance-method","name":"must_be_like_message","doc":null,"summary":null,"abstract":false,"args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"args_string":"(expected, actual)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L32","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L32","def":{"name":"must_be_like_message","args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"must be like #{expected} but is #{actual}\""}},{"id":"must_be_message(expected,actual)-instance-method","html_id":"must_be_message(expected,actual)-instance-method","name":"must_be_message","doc":null,"summary":null,"abstract":false,"args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"args_string":"(expected, actual)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L4","def":{"name":"must_be_message","args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"must be in #{expected} but is #{actual}\""}},{"id":"must_be_unique_message(value)-instance-method","html_id":"must_be_unique_message(value)-instance-method","name":"must_be_unique_message","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L36","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L36","def":{"name":"must_be_unique_message","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"must be unique\""}},{"id":"must_not_be_message(expected,actual)-instance-method","html_id":"must_not_be_message(expected,actual)-instance-method","name":"must_not_be_message","doc":null,"summary":null,"abstract":false,"args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"args_string":"(expected, actual)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L8","def":{"name":"must_not_be_message","args":[{"name":"expected","doc":null,"default_value":"","external_name":"expected","restriction":""},{"name":"actual","doc":null,"default_value":"","external_name":"actual","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"must not be in #{expected} but is #{actual}\""}},{"id":"not_blank_message-instance-method","html_id":"not_blank_message-instance-method","name":"not_blank_message","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/validation_messages.cr#L12","def":{"name":"not_blank_message","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"must not be blank\""}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Query","path":"Jennifer/Query.html","kind":"alias","full_name":"Jennifer::Query","name":"Query","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/query.cr","line_number":341,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"Jennifer::QueryBuilder::Query","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","path":"Jennifer/QueryBuilder.html","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/sql_node.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr"},{"filename":"jennifer/query_builder/logic_operator.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr"},{"filename":"jennifer/query_builder/aggregations.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr"},{"filename":"jennifer/query_builder/all.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr"},{"filename":"jennifer/query_builder/any.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr"},{"filename":"jennifer/query_builder/json_selector.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr"},{"filename":"jennifer/query_builder/criteria.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr"},{"filename":"jennifer/query_builder/condition.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr"},{"filename":"jennifer/query_builder/executables.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr"},{"filename":"jennifer/query_builder/expression_builder.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr"},{"filename":"jennifer/query_builder/grouping.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr"},{"filename":"jennifer/query_builder/ordering.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr"},{"filename":"jennifer/query_builder/joining.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr"},{"filename":"jennifer/query_builder/query.cr","line_number":8,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr"},{"filename":"jennifer/query_builder/i_model_query.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr"},{"filename":"jennifer/query_builder/join.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr"},{"filename":"jennifer/query_builder/model_query.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr"},{"filename":"jennifer/query_builder/query_object.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr"},{"filename":"jennifer/query_builder/raw_sql.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr"},{"filename":"jennifer/query_builder/star.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/star.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Aggregations","path":"Jennifer/QueryBuilder/Aggregations.html","kind":"module","full_name":"Jennifer::QueryBuilder::Aggregations","name":"Aggregations","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/aggregations.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"avg(field,klass:T.class):TforallT-instance-method","html_id":"avg(field,klass:T.class):TforallT-instance-method","name":"avg","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : T.class) : T forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L23","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L23","def":{"name":"avg","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"if @groups.empty?\nelse\n  raise(ArgumentError.new(\"Cannot use with grouping\"))\nend\n(group_avg(field, klass))[0]\n"}},{"id":"count:Int32-instance-method","html_id":"count:Int32-instance-method","name":"count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L4","def":{"name":"count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32","visibility":"Public","body":"::Jennifer::Adapter.adapter.count(self)"}},{"id":"group_avg(field,klass:T.class):Array(T)forallT-instance-method","html_id":"group_avg(field,klass:T.class):Array(T)forallT-instance-method","name":"group_avg","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : T.class) : Array(T) forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L52","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L52","def":{"name":"group_avg","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(T)","visibility":"Public","body":"_select = @raw_select\n@raw_select = \"AVG(#{field}) as m\"\nresult = to_a.map(&.[](\"m\"))\n@raw_select = _select\ntyped_array_cast(result, T)\n"}},{"id":"group_count(field)-instance-method","html_id":"group_count(field)-instance-method","name":"group_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"args_string":"(field)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L60","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L60","def":{"name":"group_count","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_select = @raw_select\n@raw_select = \"COUNT(#{field}) as m\"\nresult = to_a.map(&.[](\"m\"))\n@raw_select = _select\nresult\n"}},{"id":"group_max(field,klass:T.class):Array(T)forallT-instance-method","html_id":"group_max(field,klass:T.class):Array(T)forallT-instance-method","name":"group_max","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : T.class) : Array(T) forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L28","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L28","def":{"name":"group_max","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(T)","visibility":"Public","body":"_select = @raw_select\n@raw_select = \"MAX(#{field}) as m\"\nresult = to_a.map(&.[](\"m\"))\n@raw_select = _select\ntyped_array_cast(result, T)\n"}},{"id":"group_min(field,klass:T.class):Array(T)forallT-instance-method","html_id":"group_min(field,klass:T.class):Array(T)forallT-instance-method","name":"group_min","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : T.class) : Array(T) forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L36","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L36","def":{"name":"group_min","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(T)","visibility":"Public","body":"_select = @raw_select\n@raw_select = \"MIN(#{field}) as m\"\nresult = to_a.map(&.[](\"m\"))\n@raw_select = _select\ntyped_array_cast(result, T)\n"}},{"id":"group_sum(field,klass:T.class):Array(T)forallT-instance-method","html_id":"group_sum(field,klass:T.class):Array(T)forallT-instance-method","name":"group_sum","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : T.class) : Array(T) forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L44","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L44","def":{"name":"group_sum","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(T)","visibility":"Public","body":"_select = @raw_select\n@raw_select = \"SUM(#{field}) as m\"\nresult = to_a.map(&.[](\"m\"))\n@raw_select = _select\ntyped_array_cast(result, T)\n"}},{"id":"max(field,klass:T.class):TforallT-instance-method","html_id":"max(field,klass:T.class):TforallT-instance-method","name":"max","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : T.class) : T forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L8","def":{"name":"max","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"if @groups.empty?\nelse\n  raise(ArgumentError.new(\"Cannot use with grouping\"))\nend\n(group_max(field, klass))[0]\n"}},{"id":"min(field,klass:T.class):TforallT-instance-method","html_id":"min(field,klass:T.class):TforallT-instance-method","name":"min","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : T.class) : T forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L13","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L13","def":{"name":"min","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"if @groups.empty?\nelse\n  raise(ArgumentError.new(\"Cannot use with grouping\"))\nend\n(group_min(field, klass))[0]\n"}},{"id":"sum(field,klass:T.class):TforallT-instance-method","html_id":"sum(field,klass:T.class):TforallT-instance-method","name":"sum","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(field, klass : T.class) : T forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L18","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/aggregations.cr#L18","def":{"name":"sum","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"if @groups.empty?\nelse\n  raise(ArgumentError.new(\"Cannot use with grouping\"))\nend\n(group_sum(field, klass))[0]\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/All","path":"Jennifer/QueryBuilder/All.html","kind":"class","full_name":"Jennifer::QueryBuilder::All","name":"All","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/all.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(query)-class-method","html_id":"new(query)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L9","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L9","def":{"name":"new","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L12","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"ALL (#{@query.to_sql})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L7","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"query:Query-instance-method","html_id":"query:Query-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Query","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L4","def":{"name":"query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Query","visibility":"Public","body":"@query"}},{"id":"sql_args(*args,**options)-instance-method","html_id":"sql_args(*args,**options)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L5","def":{"name":"sql_args","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@query.sql_args(*args, **options)"}},{"id":"sql_args(*args,**options,&block)-instance-method","html_id":"sql_args(*args,**options,&amp;block)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L5","def":{"name":"sql_args","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@query.sql_args(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"sql_args_count(*args,**options)-instance-method","html_id":"sql_args_count(*args,**options)-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L5","def":{"name":"sql_args_count","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@query.sql_args_count(*args, **options)"}},{"id":"sql_args_count(*args,**options,&block)-instance-method","html_id":"sql_args_count(*args,**options,&amp;block)-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/all.cr#L5","def":{"name":"sql_args_count","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@query.sql_args_count(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/And","path":"Jennifer/QueryBuilder/And.html","kind":"class","full_name":"Jennifer::QueryBuilder::And","name":"And","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":84,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"OPERATOR","value":"\"AND\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L87","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L87","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"operator-instance-method","html_id":"operator-instance-method","name":"operator","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L89","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L89","def":{"name":"operator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"OPERATOR"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Any","path":"Jennifer/QueryBuilder/Any.html","kind":"class","full_name":"Jennifer::QueryBuilder::Any","name":"Any","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/any.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(query)-class-method","html_id":"new(query)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L9","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L9","def":{"name":"new","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L12","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"ANY (#{@query.to_sql})\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L7","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"query:Query-instance-method","html_id":"query:Query-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Query","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L4","def":{"name":"query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Query","visibility":"Public","body":"@query"}},{"id":"sql_args(*args,**options)-instance-method","html_id":"sql_args(*args,**options)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L5","def":{"name":"sql_args","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@query.sql_args(*args, **options)"}},{"id":"sql_args(*args,**options,&block)-instance-method","html_id":"sql_args(*args,**options,&amp;block)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L5","def":{"name":"sql_args","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@query.sql_args(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"sql_args_count(*args,**options)-instance-method","html_id":"sql_args_count(*args,**options)-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L5","def":{"name":"sql_args_count","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@query.sql_args_count(*args, **options)"}},{"id":"sql_args_count(*args,**options,&block)-instance-method","html_id":"sql_args_count(*args,**options,&amp;block)-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/any.cr#L5","def":{"name":"sql_args_count","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@query.sql_args_count(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Condition","path":"Jennifer/QueryBuilder/Condition.html","kind":"class","full_name":"Jennifer::QueryBuilder::Condition","name":"Condition","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/condition.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"RAW_OPERATORS","value":"[:is, :is_not]","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(field:String,table:String,relation=nil)-class-method","html_id":"new(field:String,table:String,relation=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"args_string":"(field : String, table : String, relation = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L16","def":{"name":"new","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(field, table, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(lhs,operator,rhs)-class-method","html_id":"new(lhs,operator,rhs)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""},{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":""},{"name":"rhs","doc":null,"default_value":"","external_name":"rhs","restriction":""}],"args_string":"(lhs, operator, rhs)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L23","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L23","def":{"name":"new","args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""},{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":""},{"name":"rhs","doc":null,"default_value":"","external_name":"rhs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(lhs, operator, rhs)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(lhs)-class-method","html_id":"new(lhs)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""}],"args_string":"(lhs)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L20","def":{"name":"new","args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(lhs)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L38","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L38","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lhs.alias_tables(aliases)\nif @rhs.is_a?(Criteria)\n  (@rhs.as(Criteria)).alias_tables(aliases)\nend\n"}},{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L67","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L67","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_lhs = @lhs.as_sql\nstr = case @operator\nwhen :bool\n  _lhs\nwhen :in\n  \"#{_lhs} IN(#{Adapter::SqlGenerator.escape_string((@rhs.as(Array)).size)})\"\nwhen :between\n  \"#{_lhs} BETWEEN #{Adapter.escape_string(1)} AND #{Adapter.escape_string(1)}\"\nelse\n  \"#{_lhs} #{Adapter::SqlGenerator.operator_to_sql(@operator)} #{parsed_rhs}\"\nend\nif @negative\n  str = \"NOT (#{str})\"\nend\nstr\n"}},{"id":"change_table(old_name,new_name)-instance-method","html_id":"change_table(old_name,new_name)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L43","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L43","def":{"name":"change_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lhs.change_table(old_name, new_name)\nif @rhs.is_a?(Criteria)\n  (@rhs.as(Criteria)).change_table(old_name, new_name)\nend\n"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L14","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L14","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"filter_out(arg:Criteria)-instance-method","html_id":"filter_out(arg:Criteria)-instance-method","name":"filter_out","doc":null,"summary":null,"abstract":false,"args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":"Criteria"}],"args_string":"(arg : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L118","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L118","def":{"name":"filter_out","args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"arg.as_sql"}},{"id":"filter_out(arg)-instance-method","html_id":"filter_out(arg)-instance-method","name":"filter_out","doc":null,"summary":null,"abstract":false,"args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":""}],"args_string":"(arg)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L122","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L122","def":{"name":"filter_out","args":[{"name":"arg","doc":null,"default_value":"","external_name":"arg","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.escape_string(1)"}},{"id":"lhs:Criteria-instance-method","html_id":"lhs:Criteria-instance-method","name":"lhs","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Criteria","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L10","def":{"name":"lhs","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Criteria","visibility":"Public","body":"@lhs"}},{"id":"not-instance-method","html_id":"not-instance-method","name":"not","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L48","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L48","def":{"name":"not","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@negative = !@negative\nself\n"}},{"id":"operator:Symbol-instance-method","html_id":"operator:Symbol-instance-method","name":"operator","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbol","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L10","def":{"name":"operator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol","visibility":"Public","body":"@operator"}},{"id":"parsed_rhs-instance-method","html_id":"parsed_rhs-instance-method","name":"parsed_rhs","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L57","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L57","def":{"name":"parsed_rhs","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if filterable?\n  filter_out(@rhs)\nelse\n  if @rhs.is_a?(Criteria)\n    (@rhs.as(Criteria)).as_sql\n  else\n    @rhs.to_s\n  end\nend"}},{"id":"rhs:Criteria::Rightable?-instance-method","html_id":"rhs:Criteria::Rightable?-instance-method","name":"rhs","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Criteria::Rightable?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L10","def":{"name":"rhs","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Criteria::Rightable | ::Nil","visibility":"Public","body":"@rhs"}},{"id":"set_relation(table,name)-instance-method","html_id":"set_relation(table,name)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L33","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L33","def":{"name":"set_relation","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lhs.set_relation(table, name)\nif @rhs.is_a?(Criteria)\n  (@rhs.as(Criteria)).set_relation(table, name)\nend\n"}},{"id":"sql_args:Array(DB::Any)-instance-method","html_id":"sql_args:Array(DB::Any)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(DB::Any)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L84","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L84","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DB::Any)","visibility":"Public","body":"res = [] of DB::Any\nif filterable?\n  if (@operator == (:in)) || (@operator == (:between))\n    (@rhs.as(Array)).each do |e|\n      if e.is_a?(Criteria)\n        res = res + e.sql_args\n      else\n        res << (e.as(DB::Any))\n      end\n    end\n  else\n    if !(@rhs.is_a?(Criteria))\n      res << (@rhs.as(DB::Any))\n    end\n  end\nend\nres\n"}},{"id":"sql_args_count-instance-method","html_id":"sql_args_count-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L102","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L102","def":{"name":"sql_args_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if filterable?\n  count = 0\n  if (@operator == (:in)) || (@operator == (:between))\n    (@rhs.as(Array)).each do |e|\n      count = count + (e.is_a?(Criteria) ? e.sql_args_count : 1)\n    end\n  else\n    if !(@rhs.is_a?(Criteria))\n      count = count + 1\n    end\n  end\n  count\nelse\n  0\nend"}},{"id":"to_s-instance-method","html_id":"to_s-instance-method","name":"to_s","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/condition.cr#L53","def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","path":"Jennifer/QueryBuilder/Criteria.html","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr"},{"filename":"jennifer/query_builder/json_selector.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr"},{"filename":"jennifer/query_builder/criteria.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr"},{"filename":"jennifer/adapter/postgres/criteria.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/criteria.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/JSONSelector","kind":"class","full_name":"Jennifer::QueryBuilder::JSONSelector","name":"JSONSelector"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RawSql","kind":"class","full_name":"Jennifer::QueryBuilder::RawSql","name":"RawSql"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Star","kind":"class","full_name":"Jennifer::QueryBuilder::Star","name":"Star"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(field:String,table:String,relation=nil)-class-method","html_id":"new(field:String,table:String,relation=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"args_string":"(field : String, table : String, relation = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L14","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L14","def":{"name":"new","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(field, table, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"!=(value:Rightable)-instance-method","html_id":"!=(value:Rightable)-instance-method","name":"!=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L84","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L84","def":{"name":"!=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if !(value.nil?)\n  Condition.new(self, :!=, value)\nelse\n  not(value)\nend"}},{"id":"!=(value:Symbol)-instance-method","html_id":"!=(value:Symbol)-instance-method","name":"!=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol"}],"args_string":"(value : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L76","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L76","def":{"name":"!=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self != value.to_s"}},{"id":"&(other:LogicOperator::Operandable)-instance-method","html_id":"&amp;(other:LogicOperator::Operandable)-instance-method","name":"&","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"args_string":"(other : LogicOperator::Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L114","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L114","def":{"name":"&","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Condition.new(self)) & other"}},{"id":"*(value:Rightable)-instance-method","html_id":"*(value:Rightable)-instance-method","name":"*","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"*","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :*, value)"}},{"id":"+(value:Rightable)-instance-method","html_id":"+(value:Rightable)-instance-method","name":"+","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"+","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :+, value)"}},{"id":"-(value:Rightable)-instance-method","html_id":"-(value:Rightable)-instance-method","name":"-","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"-","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :-, value)"}},{"id":"/(value:Rightable)-instance-method","html_id":"/(value:Rightable)-instance-method","name":"/","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"/","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :/, value)"}},{"id":"<(value:Rightable)-instance-method","html_id":"&lt;(value:Rightable)-instance-method","name":"<","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"<","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :<, value)"}},{"id":"<=(value:Rightable)-instance-method","html_id":"&lt;=(value:Rightable)-instance-method","name":"<=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"<=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :<=, value)"}},{"id":"==(value:Rightable)-instance-method","html_id":"==(value:Rightable)-instance-method","name":"==","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L67","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L67","def":{"name":"==","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if !(value.nil?)\n  Condition.new(self, :==, value)\nelse\n  is(value)\nend"}},{"id":"==(value:Symbol)-instance-method","html_id":"==(value:Symbol)-instance-method","name":"==","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol"}],"args_string":"(value : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L63","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L63","def":{"name":"==","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == value.to_s"}},{"id":"=~(value:String)-instance-method","html_id":"=~(value:String)-instance-method","name":"=~","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L59","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L59","def":{"name":"=~","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"regexp(value)"}},{"id":">(value:Rightable)-instance-method","html_id":"&gt;(value:Rightable)-instance-method","name":">","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":">","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :>, value)"}},{"id":">=(value:Rightable)-instance-method","html_id":"&gt;=(value:Rightable)-instance-method","name":">=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":">=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :>=, value)"}},{"id":"[](key)-instance-method","html_id":"[](key)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"args_string":"(key)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L49","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L49","def":{"name":"[]","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"take(key)"}},{"id":"alias:String?-instance-method","html_id":"alias:String?-instance-method","name":"alias","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L10","def":{"name":"alias","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@alias"}},{"id":"alias(name:String?)-instance-method","html_id":"alias(name:String?)-instance-method","name":"alias","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(name : String?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L36","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L36","def":{"name":"alias","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@alias = name\nself\n"}},{"id":"alias_tables(aliases:Hash(String,String))-instance-method","html_id":"alias_tables(aliases:Hash(String,String))-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":"Hash(String, String)"}],"args_string":"(aliases : Hash(String, String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L26","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L26","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":"Hash(String, String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @relation\n  @table = aliases[@relation.as(String)]\nend"}},{"id":"as_sql:String-instance-method","html_id":"as_sql:String-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L130","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L130","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@ident || (@ident = identifier)"}},{"id":"between(left:Rightable,right:Rightable)-instance-method","html_id":"between(left:Rightable,right:Rightable)-instance-method","name":"between","doc":null,"summary":null,"abstract":false,"args":[{"name":"left","doc":null,"default_value":"","external_name":"left","restriction":"Rightable"},{"name":"right","doc":null,"default_value":"","external_name":"right","restriction":"Rightable"}],"args_string":"(left : Rightable, right : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L93","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L93","def":{"name":"between","args":[{"name":"left","doc":null,"default_value":"","external_name":"left","restriction":"Rightable"},{"name":"right","doc":null,"default_value":"","external_name":"right","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :between, Ifrit.typed_array([left, right], DBAny))"}},{"id":"change_table(old_name:String,new_name:String)-instance-method","html_id":"change_table(old_name:String,new_name:String)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":"String"},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String"}],"args_string":"(old_name : String, new_name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L30","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L30","def":{"name":"change_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":"String"},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @table != old_name\n  return\nend\n@table = new_name\n@relation = nil\n"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L12","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"contain(value:Rightable)-instance-method","html_id":"contain(value:Rightable)-instance-method","name":"contain","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/criteria.cr#L2","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/criteria.cr#L2","def":{"name":"contain","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :contain, value)"}},{"id":"contained(value:Rightable)-instance-method","html_id":"contained(value:Rightable)-instance-method","name":"contained","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/criteria.cr#L2","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/criteria.cr#L2","def":{"name":"contained","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :contained, value)"}},{"id":"definition-instance-method","html_id":"definition-instance-method","name":"definition","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L138","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L138","def":{"name":"definition","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@alias ? \"#{identifier} AS #{@alias}\" : identifier"}},{"id":"field:String-instance-method","html_id":"field:String-instance-method","name":"field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L10","def":{"name":"field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@field"}},{"id":"hash-instance-method","html_id":"hash-instance-method","name":"hash","doc":"NOTE: workaround for passing criteria to the hash as a key - somewhy any Criteria is realized as same one","summary":"<p><span class=\"flag purple\">NOTE</span>  workaround for passing criteria to the hash as a key - somewhy any Criteria is realized as same one</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L18","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L18","def":{"name":"hash","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"object_id.hash"}},{"id":"identifier:String-instance-method","html_id":"identifier:String-instance-method","name":"identifier","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L134","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L134","def":{"name":"identifier","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"\"#{@table}.#{@field.to_s}\""}},{"id":"ilike(value:Rightable)-instance-method","html_id":"ilike(value:Rightable)-instance-method","name":"ilike","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"ilike","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :ilike, value)"}},{"id":"in(arr:Array)-instance-method","html_id":"in(arr:Array)-instance-method","name":"in","doc":null,"summary":null,"abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array"}],"args_string":"(arr : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L109","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L109","def":{"name":"in","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if arr.empty?\n  raise(ArgumentError.new(\"IN array can't be empty\"))\nend\nCondition.new(self, :in, arr.map do |e|\n  e.as(DBAny)\nend)\n"}},{"id":"is(value:Symbol|Bool|Nil)-instance-method","html_id":"is(value:Symbol|Bool|Nil)-instance-method","name":"is","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol | Bool | Nil"}],"args_string":"(value : Symbol | Bool | Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L97","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L97","def":{"name":"is","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol | Bool | Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :is, translate(value))"}},{"id":"like(value:Rightable)-instance-method","html_id":"like(value:Rightable)-instance-method","name":"like","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"like","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :like, value)"}},{"id":"not(value:Symbol|Bool|Nil)-instance-method","html_id":"not(value:Symbol|Bool|Nil)-instance-method","name":"not","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol | Bool | Nil"}],"args_string":"(value : Symbol | Bool | Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L101","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L101","def":{"name":"not","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Symbol | Bool | Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :is_not, translate(value))"}},{"id":"not-instance-method","html_id":"not-instance-method","name":"not","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L105","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L105","def":{"name":"not","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Condition.new(self)).not"}},{"id":"not_like(value:Rightable)-instance-method","html_id":"not_like(value:Rightable)-instance-method","name":"not_like","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"not_like","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :not_like, value)"}},{"id":"not_regexp(value:Rightable)-instance-method","html_id":"not_regexp(value:Rightable)-instance-method","name":"not_regexp","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"not_regexp","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :not_regexp, value)"}},{"id":"overlap(value:Rightable)-instance-method","html_id":"overlap(value:Rightable)-instance-method","name":"overlap","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/criteria.cr#L2","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/criteria.cr#L2","def":{"name":"overlap","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :overlap, value)"}},{"id":"path(elements:String)-instance-method","html_id":"path(elements:String)-instance-method","name":"path","doc":null,"summary":null,"abstract":false,"args":[{"name":"elements","doc":null,"default_value":"","external_name":"elements","restriction":"String"}],"args_string":"(elements : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L41","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L41","def":{"name":"path","args":[{"name":"elements","doc":null,"default_value":"","external_name":"elements","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"JSONSelector.new(self, elements, :path)"}},{"id":"regexp(value:Rightable)-instance-method","html_id":"regexp(value:Rightable)-instance-method","name":"regexp","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"args_string":"(value : Rightable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L53","def":{"name":"regexp","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Rightable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :regexp, value)"}},{"id":"relation:String?-instance-method","html_id":"relation:String?-instance-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L10","def":{"name":"relation","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@relation"}},{"id":"set_relation(table:String,name:String)-instance-method","html_id":"set_relation(table:String,name:String)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(table : String, name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L22","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L22","def":{"name":"set_relation","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (@relation.nil?) && (@table == table)\n  @relation = name\nend"}},{"id":"similar(value:String)-instance-method","html_id":"similar(value:String)-instance-method","name":"similar","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/criteria.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/criteria.cr#L8","def":{"name":"similar","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self, :similar, value)"}},{"id":"sql_args:Array(DB::Any)-instance-method","html_id":"sql_args:Array(DB::Any)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(DB::Any)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L142","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L142","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(DB::Any)","visibility":"Public","body":"[] of DB::Any"}},{"id":"sql_args_count-instance-method","html_id":"sql_args_count-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L146","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L146","def":{"name":"sql_args_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"0"}},{"id":"table:String-instance-method","html_id":"table:String-instance-method","name":"table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L10","def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table"}},{"id":"take(key:String|Number)-instance-method","html_id":"take(key:String|Number)-instance-method","name":"take","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String | Number"}],"args_string":"(key : String | Number)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L45","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L45","def":{"name":"take","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String | Number"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"JSONSelector.new(self, key, :take)"}},{"id":"to_condition-instance-method","html_id":"to_condition-instance-method","name":"to_condition","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L150","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L150","def":{"name":"to_condition","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Condition.new(self)"}},{"id":"to_s-instance-method","html_id":"to_s-instance-method","name":"to_s","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L126","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L126","def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql"}},{"id":"xor(other:LogicOperator::Operandable)-instance-method","html_id":"xor(other:LogicOperator::Operandable)-instance-method","name":"xor","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"args_string":"(other : LogicOperator::Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L122","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L122","def":{"name":"xor","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"to_condition.xor(other)"}},{"id":"|(other:LogicOperator::Operandable)-instance-method","html_id":"|(other:LogicOperator::Operandable)-instance-method","name":"|","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"args_string":"(other : LogicOperator::Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L118","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr#L118","def":{"name":"|","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator::Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Condition.new(self)) | other"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria/Rightable","path":"Jennifer/QueryBuilder/Criteria/Rightable.html","kind":"alias","full_name":"Jennifer::QueryBuilder::Criteria::Rightable","name":"Rightable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/criteria.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/criteria.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Array(Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | UInt32 | Nil) | Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | JSON::Any | Jennifer::QueryBuilder::SQLNode | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | UInt32 | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Executables","path":"Jennifer/QueryBuilder/Executables.html","kind":"module","full_name":"Jennifer::QueryBuilder::Executables","name":"Executables","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/executables.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"db_results-instance-method","html_id":"db_results-instance-method","name":"db_results","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L114","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L114","def":{"name":"db_results","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = [] of Hash(String, DBAny)\nif @do_nothing\n  return result\nend\neach_result_set do |rs|\n  result << (Adapter.adapter.result_to_hash(rs))\nend\nresult\n"}},{"id":"decrement-instance-method","html_id":"decrement-instance-method","name":"decrement","doc":"skips any callbacks and validations","summary":"<p>skips any callbacks and validations</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L102","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L102","def":{"name":"decrement","args":[],"double_splat":{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"hash = {} of Symbol | String => NamedTuple(value: DBAny, operator: Symbol)\nfields.each do |k, v|\n  hash[k] = {value: v, operator: :-}\nend\nmodify(hash)\n"}},{"id":"decrement(fields:Hash)-instance-method","html_id":"decrement(fields:Hash)-instance-method","name":"decrement","doc":"skips any callbacks and validations","summary":"<p>skips any callbacks and validations</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Hash"}],"args_string":"(fields : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L93","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L93","def":{"name":"decrement","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"hash = {} of Symbol | String => NamedTuple(value: DBAny, operator: Symbol)\nfields.each do |k, v|\n  hash[k] = {value: v, operator: :-}\nend\nmodify(hash)\n"}},{"id":"delete-instance-method","html_id":"delete-instance-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L53","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L53","def":{"name":"delete","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::Adapter.adapter.delete(self)"}},{"id":"each(&block)-instance-method","html_id":"each(&amp;block)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L135","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L135","def":{"name":"each","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"to_a.each do |e|\n  yield e\nend"}},{"id":"each_result_set(&block)-instance-method","html_id":"each_result_set(&amp;block)-instance-method","name":"each_result_set","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L141","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L141","def":{"name":"each_result_set","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::Adapter.adapter.select(self) do |rs|\n  begin\n    rs.each do\n      yield rs\n    end\n  rescue e : Exception\n    rs.read_to_end\n    raise(e)\n  end\nend"}},{"id":"exists?-instance-method","html_id":"exists?-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L57","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L57","def":{"name":"exists?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::Adapter.adapter.exists?(self)"}},{"id":"find_each(primary_key:String,batch_size:Int32=1000,start=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_each(primary_key:String,batch_size:Int32=1000,start=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_each","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"String"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(primary_key : String, batch_size : Int32 = <span class=\"n\">1000</span>, start = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L211","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L211","def":{"name":"find_each","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"String"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(primary_key, batch_size, start, direction) do |records|\n  records.each do |rec|\n    yield rec\n  end\nend"}},{"id":"find_each(batch_size:Int32=1000,start:Int32=0,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_each(batch_size:Int32=1000,start:Int32=0,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_each","doc":null,"summary":null,"abstract":false,"args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(batch_size : Int32 = <span class=\"n\">1000</span>, start : Int32 = <span class=\"n\">0</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L205","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L205","def":{"name":"find_each","args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(batch_size, start) do |records|\n  records.each do |rec|\n    yield rec\n  end\nend"}},{"id":"find_each(primary_key:Nil,batch_size:Int32=1000,start:Int32=0,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_each(primary_key:Nil,batch_size:Int32=1000,start:Int32=0,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_each","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Nil"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(primary_key : Nil, batch_size : Int32 = <span class=\"n\">1000</span>, start : Int32 = <span class=\"n\">0</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L199","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L199","def":{"name":"find_each","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Nil"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(batch_size, start) do |records|\n  records.each do |rec|\n    yield rec\n  end\nend"}},{"id":"find_each(primary_key:Criteria,batch_size:Int32=1000,start=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_each(primary_key:Criteria,batch_size:Int32=1000,start=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_each","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Criteria"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(primary_key : Criteria, batch_size : Int32 = <span class=\"n\">1000</span>, start = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L193","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L193","def":{"name":"find_each","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Criteria"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(primary_key, batch_size, start, direction) do |records|\n  records.each do |rec|\n    yield rec\n  end\nend"}},{"id":"find_in_batches(primary_key:String,batch_size:Int32=1000,start:Int32?=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_in_batches(primary_key:String,batch_size:Int32=1000,start:Int32?=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_in_batches","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"String"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":"Int32 | ::Nil"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(primary_key : String, batch_size : Int32 = <span class=\"n\">1000</span>, start : Int32? = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L189","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L189","def":{"name":"find_in_batches","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"String"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":"Int32 | ::Nil"},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(@expression.c(primary_key.not_nil!), batch_size, start, direction) do |records|\n  yield records\nend"}},{"id":"find_in_batches(batch_size:Int32=1000,start:Int32=0,&block)-instance-method","html_id":"find_in_batches(batch_size:Int32=1000,start:Int32=0,&amp;block)-instance-method","name":"find_in_batches","doc":null,"summary":null,"abstract":false,"args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"}],"args_string":"(batch_size : Int32 = <span class=\"n\">1000</span>, start : Int32 = <span class=\"n\">0</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L185","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L185","def":{"name":"find_in_batches","args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"find_in_batches(nil, batch_size, start) do |records|\n  yield records\nend"}},{"id":"find_in_batches(primary_key:Nil,batch_size:Int32=1000,start:Int32=0,&block)-instance-method","html_id":"find_in_batches(primary_key:Nil,batch_size:Int32=1000,start:Int32=0,&amp;block)-instance-method","name":"find_in_batches","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Nil"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"}],"args_string":"(primary_key : Nil, batch_size : Int32 = <span class=\"n\">1000</span>, start : Int32 = <span class=\"n\">0</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L168","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L168","def":{"name":"find_in_batches","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Nil"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"0","external_name":"start","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"if ordered?\n  Config.logger.warn(\"#find_in_batches is invoked with already ordered query - it will be reordered\")\nend\nConfig.logger.warn(\"#find_in_batches methods was invoked without passing primary_key key field name which may results in not proper records extraction; 'start' argument was realized as page number.\")\nrequest = (clone.reorder({} of String => String)).limit(batch_size)\nrecords = (request.offset(start * batch_size)).to_a\nwhile records.any?\n  records_size = records.size\n  yield records\n  if records_size < batch_size\n    break\n  end\n  start = start + 1\n  records = (request.offset(start * batch_size)).to_a\nend\n"}},{"id":"find_in_batches(primary_key:Criteria,batch_size:Int32=1000,start=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_in_batches(primary_key:Criteria,batch_size:Int32=1000,start=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_in_batches","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Criteria"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(primary_key : Criteria, batch_size : Int32 = <span class=\"n\">1000</span>, start = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L154","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L154","def":{"name":"find_in_batches","args":[{"name":"primary_key","doc":null,"default_value":"","external_name":"primary_key","restriction":"Criteria"},{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"if ordered?\n  Config.logger.warn(\"#find_in_batches is invoked with already ordered query - it will be reordered\")\nend\nrequest = (clone.reorder({primary_key => direction.to_s})).limit(batch_size)\nrecords = start ? request.clone.where do\n  primary_key >= start\nend.to_a : request.to_a\nwhile records.any?\n  records_size = records.size\n  primary_key_offset = records.last.attribute(primary_key.field)\n  yield records\n  if records_size < batch_size\n    break\n  end\n  records = request.clone.where do\n    primary_key > primary_key_offset\n  end.to_a\nend\n"}},{"id":"find_records_by_sql(query:String,args:Array(DBAny)=[]ofDBAny)-instance-method","html_id":"find_records_by_sql(query:String,args:Array(DBAny)=[]ofDBAny)-instance-method","name":"find_records_by_sql","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array(DBAny)"}],"args_string":"(query : String, args : Array(DBAny) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DBAny</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L217","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L217","def":{"name":"find_records_by_sql","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array(DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"results = [] of Record\nif @do_nothing\n  return results\nend\n::Jennifer::Adapter.adapter.query(query, args) do |rs|\n  begin\n    rs.each do\n      results << (Record.new(rs))\n    end\n  rescue e : Exception\n    rs.read_to_end\n    raise(e)\n  end\nend\nresults\n"}},{"id":"first-instance-method","html_id":"first-instance-method","name":"first","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L25","def":{"name":"first","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"old_limit = @limit\n@limit = 1\nr = to_a[0]?\n@limit = old_limit\nr\n"}},{"id":"first!-instance-method","html_id":"first!-instance-method","name":"first!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L33","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L33","def":{"name":"first!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"old_limit = @limit\nresult = to_a\n@limit = old_limit\nif result.empty?\n  raise(RecordNotFound.new(Adapter::SqlGenerator.select(self)))\nend\nresult[0]\n"}},{"id":"ids-instance-method","html_id":"ids-instance-method","name":"ids","doc":"works only if there is id field and it is covertable to Int32","summary":"<p>works only if there is id field and it is covertable to Int32</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L131","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L131","def":{"name":"ids","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(pluck(:id)).map do |__arg2|\n  __arg2.as(Int32)\nend"}},{"id":"increment-instance-method","html_id":"increment-instance-method","name":"increment","doc":"skips all callbacks and validations","summary":"<p>skips all callbacks and validations</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L84","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L84","def":{"name":"increment","args":[],"double_splat":{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"hash = {} of Symbol | String => NamedTuple(value: DBAny, operator: Symbol)\nfields.each do |k, v|\n  hash[k] = {value: v, operator: :+}\nend\nmodify(hash)\n"}},{"id":"increment(fields:Hash)-instance-method","html_id":"increment(fields:Hash)-instance-method","name":"increment","doc":"skips all callbacks and validations","summary":"<p>skips all callbacks and validations</p>","abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Hash"}],"args_string":"(fields : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L75","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L75","def":{"name":"increment","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"hash = {} of Symbol | String => NamedTuple(value: DBAny, operator: Symbol)\nfields.each do |k, v|\n  hash[k] = {value: v, operator: :+}\nend\nmodify(hash)\n"}},{"id":"last-instance-method","html_id":"last-instance-method","name":"last","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L4","def":{"name":"last","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"reverse_order\nold_limit = @limit\n@limit = 1\nr = to_a[0]?\n@limit = old_limit\nreverse_order\nr\n"}},{"id":"last!-instance-method","html_id":"last!-instance-method","name":"last!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L14","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L14","def":{"name":"last!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"old_limit = @limit\n@limit = 1\nreverse_order\nresult = to_a\nreverse_order\n@limit = old_limit\nif result.empty?\n  raise(RecordNotFound.new(Adapter::SqlGenerator.select(self)))\nend\nresult[0]\n"}},{"id":"modify(options:Hash)-instance-method","html_id":"modify(options:Hash)-instance-method","name":"modify","doc":"skips any callbacks and validations","summary":"<p>skips any callbacks and validations</p>","abstract":false,"args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L62","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L62","def":{"name":"modify","args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::Adapter.adapter.modify(self, options)"}},{"id":"pluck(*fields:String|Symbol)-instance-method","html_id":"pluck(*fields:String|Symbol)-instance-method","name":"pluck","doc":null,"summary":null,"abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"String | Symbol"}],"args_string":"(*fields : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L49","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L49","def":{"name":"pluck","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"String | Symbol"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::Adapter.adapter.pluck(self, fields.to_a.map(&.to_s))"}},{"id":"pluck(field:String|Symbol)-instance-method","html_id":"pluck(field:String|Symbol)-instance-method","name":"pluck","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String | Symbol"}],"args_string":"(field : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L45","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L45","def":{"name":"pluck","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::Adapter.adapter.pluck(self, field.to_s)"}},{"id":"pluck(fields:Array)-instance-method","html_id":"pluck(fields:Array)-instance-method","name":"pluck","doc":null,"summary":null,"abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"}],"args_string":"(fields : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L41","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L41","def":{"name":"pluck","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::Adapter.adapter.pluck(self, fields.map(&.to_s))"}},{"id":"results-instance-method","html_id":"results-instance-method","name":"results","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L123","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L123","def":{"name":"results","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = [] of Record\nif @do_nothing\n  return result\nend\neach_result_set do |rs|\n  result << (Record.new(rs))\nend\nresult\n"}},{"id":"to_a-instance-method","html_id":"to_a-instance-method","name":"to_a","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L110","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L110","def":{"name":"to_a","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"results"}},{"id":"update-instance-method","html_id":"update-instance-method","name":"update","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L70","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L70","def":{"name":"update","args":[],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"update(options.to_h)"}},{"id":"update(options:Hash)-instance-method","html_id":"update(options:Hash)-instance-method","name":"update","doc":null,"summary":null,"abstract":false,"args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"args_string":"(options : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L66","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/executables.cr#L66","def":{"name":"update","args":[{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::Adapter.adapter.update(self, options)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ExpressionBuilder","path":"Jennifer/QueryBuilder/ExpressionBuilder.html","kind":"class","full_name":"Jennifer::QueryBuilder::ExpressionBuilder","name":"ExpressionBuilder","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/expression_builder.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table:String,relation:String?=nil,query=nil)-class-method","html_id":"new(table:String,relation:String?=nil,query=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"},{"name":"query","doc":null,"default_value":"nil","external_name":"query","restriction":""}],"args_string":"(table : String, relation : String? = <span class=\"n\">nil</span>, query = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L8","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"},{"name":"query","doc":null,"default_value":"nil","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, relation, query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"all(query:Query)-instance-method","html_id":"all(query:Query)-instance-method","name":"all","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query"}],"args_string":"(query : Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L56","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L56","def":{"name":"all","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"All.new(query)"}},{"id":"any(query:Query)-instance-method","html_id":"any(query:Query)-instance-method","name":"any","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query"}],"args_string":"(query : Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L52","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L52","def":{"name":"any","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Any.new(query)"}},{"id":"c(name:String,table_name:String?=nil,relation:String?=nil)-instance-method","html_id":"c(name:String,table_name:String?=nil,relation:String?=nil)-instance-method","name":"c","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"args_string":"(name : String, table_name : String? = <span class=\"n\">nil</span>, relation : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L30","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L30","def":{"name":"c","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"table_name","doc":null,"default_value":"nil","external_name":"table_name","restriction":"String | ::Nil"},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @query\n  @query.not_nil!.with_relation!\nend\nCriteria.new(name, table_name || @table, relation || @relation)\n"}},{"id":"c_with_relation(name:String,relation:String)-instance-method","html_id":"c_with_relation(name:String,relation:String)-instance-method","name":"c_with_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":"String"}],"args_string":"(name : String, relation : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L37","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L37","def":{"name":"c_with_relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @query\n  @query.not_nil!.with_relation!\nend\nCriteria.new(name, @table, relation)\n"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L6","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L6","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"g(condition:LogicOperator)-instance-method","html_id":"g(condition:LogicOperator)-instance-method","name":"g","doc":null,"summary":null,"abstract":false,"args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":"LogicOperator"}],"args_string":"(condition : LogicOperator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L44","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L44","def":{"name":"g","args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":"LogicOperator"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Grouping.new(condition)"}},{"id":"group(condition:LogicOperator)-instance-method","html_id":"group(condition:LogicOperator)-instance-method","name":"group","doc":null,"summary":null,"abstract":false,"args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":"LogicOperator"}],"args_string":"(condition : LogicOperator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L48","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L48","def":{"name":"group","args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":"LogicOperator"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"g(condition)"}},{"id":"query:Query?-instance-method","html_id":"query:Query?-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Query?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L4","def":{"name":"query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Query | ::Nil","visibility":"Public","body":"@query"}},{"id":"query=(query:Query?)-instance-method","html_id":"query=(query:Query?)-instance-method","name":"query=","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query | ::Nil"}],"args_string":"(query : Query?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L4","def":{"name":"query=","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"Query | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@query = query"}},{"id":"sql(_query:String,args:Array(DB::Any)=[]ofDB::Any,use_brackets:Bool=true)-instance-method","html_id":"sql(_query:String,args:Array(DB::Any)=[]ofDB::Any,use_brackets:Bool=true)-instance-method","name":"sql","doc":null,"summary":null,"abstract":false,"args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":"Array(DB::Any)"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":"Bool"}],"args_string":"(_query : String, args : Array(DB::Any) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DB</span><span class=\"t\">::</span><span class=\"t\">Any</span>, use_brackets : Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L18","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L18","def":{"name":"sql","args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":"Array(DB::Any)"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"RawSql.new(_query, args, use_brackets)"}},{"id":"sql(_query:String,use_brackets:Bool=true)-instance-method","html_id":"sql(_query:String,use_brackets:Bool=true)-instance-method","name":"sql","doc":null,"summary":null,"abstract":false,"args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":"String"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":"Bool"}],"args_string":"(_query : String, use_brackets : Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L22","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L22","def":{"name":"sql","args":[{"name":"_query","doc":null,"default_value":"","external_name":"_query","restriction":"String"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"RawSql.new(_query, use_brackets)"}},{"id":"star(table:String=@table)-instance-method","html_id":"star(table:String=@table)-instance-method","name":"star","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"@table","external_name":"table","restriction":"String"}],"args_string":"(table : String = @table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L60","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L60","def":{"name":"star","args":[{"name":"table","doc":null,"default_value":"@table","external_name":"table","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Star.new(table)"}}],"macros":[{"id":"method_missing(call)-macro","html_id":"method_missing(call)-macro","name":"method_missing","doc":null,"summary":null,"abstract":false,"args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"args_string":"(call)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/expression_builder.cr#L64","def":{"name":"method_missing","args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% method_name = call.name.stringify %}\n\n        \n{% if method_name.starts_with?(\"__\") %}\n          def {{ method_name.id }}\n            eb = ExpressionBuilder.new(@table, {{ method_name[2..-1] }}, @query)\n            @query.not_nil!.with_relation! if @query\n            with eb yield\n          end\n        {% else %}{% if method_name.starts_with?(\"_\") %}\n          def {{ method_name.id }}\n            {% parts = method_name[1..-1].split(\"__\")table = parts[0]field = parts[1] %}\n            {% if parts.size == 1 %}\n              c({{ table }})\n            {% else %}\n              {% if Reference.all_subclasses.map(&.stringify).includes?(table.camelcase) %}\n                {{ table.camelcase.id }}._{{ field.id }}\n              {% else %}\n                c({{ field }}, {{ table }})\n              {% end %}\n            {% end %}\n          end\n        {% else %}{% if call.name.stringify =~ (/^_[_\\w]*/) %}\n          {% raise(\"Cant parse method name #{method_name}\") %}\n        {% end %}{% end %}{% end %}\n\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Grouping","path":"Jennifer/QueryBuilder/Grouping.html","kind":"class","full_name":"Jennifer::QueryBuilder::Grouping","name":"Grouping","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr"},{"filename":"jennifer/query_builder/grouping.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(condition)-class-method","html_id":"new(condition)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":""}],"args_string":"(condition)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L12","def":{"name":"new","args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(condition)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L15","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L15","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(\"(\" + @condition.as_sql) + \")\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L8","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"condition:LogicOperator-instance-method","html_id":"condition:LogicOperator-instance-method","name":"condition","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : LogicOperator","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L6","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L6","def":{"name":"condition","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"LogicOperator","visibility":"Public","body":"@condition"}},{"id":"sql_args(*args,**options)-instance-method","html_id":"sql_args(*args,**options)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L10","def":{"name":"sql_args","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@condition.sql_args(*args, **options)"}},{"id":"sql_args(*args,**options,&block)-instance-method","html_id":"sql_args(*args,**options,&amp;block)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L10","def":{"name":"sql_args","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@condition.sql_args(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"sql_args_count(*args,**options)-instance-method","html_id":"sql_args_count(*args,**options)-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L10","def":{"name":"sql_args_count","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@condition.sql_args_count(*args, **options)"}},{"id":"sql_args_count(*args,**options,&block)-instance-method","html_id":"sql_args_count(*args,**options,&amp;block)-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/grouping.cr#L10","def":{"name":"sql_args_count","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@condition.sql_args_count(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/IModelQuery","path":"Jennifer/QueryBuilder/IModelQuery.html","kind":"class","full_name":"Jennifer::QueryBuilder::IModelQuery","name":"IModelQuery","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Executables","kind":"module","full_name":"Jennifer::QueryBuilder::Executables","name":"Executables"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Joining","kind":"module","full_name":"Jennifer::QueryBuilder::Joining","name":"Joining"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Ordering","kind":"module","full_name":"Jennifer::QueryBuilder::Ordering","name":"Ordering"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Aggregations","kind":"module","full_name":"Jennifer::QueryBuilder::Aggregations","name":"Aggregations"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/i_model_query.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ModelQuery","kind":"class","full_name":"Jennifer::QueryBuilder::ModelQuery(T)","name":"ModelQuery"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"_select_fields:Array(Criteria)-instance-method","html_id":"_select_fields:Array(Criteria)-instance-method","name":"_select_fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L27","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L27","def":{"name":"_select_fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Criteria)","visibility":"Public","body":"if @select_fields.empty?\n  buff = [] of Criteria\n  buff << @expression.star\n  if !@relations.empty?\n    @relations.each do |r|\n      table_name = @table_aliases[r]? || (model_class.relation(r)).table_name\n      buff << (@expression.star(table_name))\n    end\n  end\n  buff\nelse\n  @select_fields\nend"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"NOTE: can't be abstract because is already implemented by super class","summary":"<p><span class=\"flag purple\">NOTE</span>  can't be abstract because is already implemented by super class</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L14","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L14","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(:clone, {{ @type }}))"}},{"id":"destroy-instance-method","html_id":"destroy-instance-method","name":"destroy","doc":"Loads all records and call `#destroy` on the each","summary":"<p>Loads all records and call <code><a href=\"../../Jennifer/QueryBuilder/IModelQuery.html#destroy-instance-method\">#destroy</a></code> on the each</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L126","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L126","def":{"name":"destroy","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"to_a.each(&.destroy)"}},{"id":"eager_load(*names)-instance-method","html_id":"eager_load(*names)-instance-method","name":"eager_load","doc":"Adds to select statement given relations (with correspond joins) and loads them from result","summary":"<p>Adds to select statement given relations (with correspond joins) and loads them from result</p>","abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L96","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L96","def":{"name":"eager_load","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"names.each do |name|\n  eager_load(name)\nend\nself\n"}},{"id":"eager_load(rels:Array(String),aliases=[]ofString|::Nil)-instance-method","html_id":"eager_load(rels:Array(String),aliases=[]ofString|::Nil)-instance-method","name":"eager_load","doc":"NOTE: Not implemented yet","summary":"<p><span class=\"flag purple\">NOTE</span>  Not implemented yet</p>","abstract":false,"args":[{"name":"rels","doc":null,"default_value":"","external_name":"rels","restriction":"Array(String)"},{"name":"aliases","doc":null,"default_value":"[] of String | ::Nil","external_name":"aliases","restriction":""}],"args_string":"(rels : Array(String), aliases = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">|</span> <span class=\"t\">::</span><span class=\"t\">Nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L108","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L108","def":{"name":"eager_load","args":[{"name":"rels","doc":null,"default_value":"","external_name":"rels","restriction":"Array(String)"},{"name":"aliases","doc":null,"default_value":"[] of String | ::Nil","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@relations << name.to_s\nraise(\"Not implemented\")\n"}},{"id":"eager_load(name:String|Symbol)-instance-method","html_id":"eager_load(name:String|Symbol)-instance-method","name":"eager_load","doc":"Adds to select statement given relation (with correspond joins) and loads them from result","summary":"<p>Adds to select statement given relation (with correspond joins) and loads them from result</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"args_string":"(name : String | Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L102","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L102","def":{"name":"eager_load","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@relations << name.to_s\nrelation(name)\n"}},{"id":"find_each(batch_size:Int32=1000,start=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_each(batch_size:Int32=1000,start=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_each","doc":null,"summary":null,"abstract":false,"args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(batch_size : Int32 = <span class=\"n\">1000</span>, start = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L121","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L121","def":{"name":"find_each","args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"super(model_class.primary, batch_size, start, direction) do |record|\n  yield record\nend"}},{"id":"find_in_batches(batch_size:Int32=1000,start=nil,direction:String|Symbol=&quot;asc&quot;,&block)-instance-method","html_id":"find_in_batches(batch_size:Int32=1000,start=nil,direction:String|Symbol=&amp;quot;asc&amp;quot;,&amp;block)-instance-method","name":"find_in_batches","doc":null,"summary":null,"abstract":false,"args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"args_string":"(batch_size : Int32 = <span class=\"n\">1000</span>, start = <span class=\"n\">nil</span>, direction : String | Symbol = <span class=\"s\">&quot;asc&quot;</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L117","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L117","def":{"name":"find_in_batches","args":[{"name":"batch_size","doc":null,"default_value":"1000","external_name":"batch_size","restriction":"Int32"},{"name":"start","doc":null,"default_value":"nil","external_name":"start","restriction":""},{"name":"direction","doc":null,"default_value":"\"asc\"","external_name":"direction","restriction":"String | Symbol"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"super(model_class.primary, batch_size, start, direction) do |records|\n  yield records\nend"}},{"id":"includes(relation:Symbol|String)-instance-method","html_id":"includes(relation:Symbol|String)-instance-method","name":"includes","doc":"Preload given relation after object loading","summary":"<p>Preload given relation after object loading</p>","abstract":false,"args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":"Symbol | String"}],"args_string":"(relation : Symbol | String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L68","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L68","def":{"name":"includes","args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":"Symbol | String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@preload_relations << relation.to_s\nself\n"}},{"id":"includes(relations:Array)-instance-method","html_id":"includes(relations:Array)-instance-method","name":"includes","doc":"Preload given relations after object loading","summary":"<p>Preload given relations after object loading</p>","abstract":false,"args":[{"name":"relations","doc":null,"default_value":"","external_name":"relations","restriction":"Array"}],"args_string":"(relations : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L74","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L74","def":{"name":"includes","args":[{"name":"relations","doc":null,"default_value":"","external_name":"relations","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"relations.each do |rel|\n  @preload_relations << rel.to_s\nend\nself\n"}},{"id":"includes(*relations)-instance-method","html_id":"includes(*relations)-instance-method","name":"includes","doc":"Preload given relations after object loading","summary":"<p>Preload given relations after object loading</p>","abstract":false,"args":[{"name":"relations","doc":null,"default_value":"","external_name":"relations","restriction":""}],"args_string":"(*relations)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L80","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L80","def":{"name":"includes","args":[{"name":"relations","doc":null,"default_value":"","external_name":"relations","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"relations.each do |rel|\n  @preload_relations << rel.to_s\nend\nself\n"}},{"id":"model_class-instance-method","html_id":"model_class-instance-method","name":"model_class","doc":"NOTE: improperly detects source of #abstract_class if run sam with only Version model","summary":"<p><span class=\"flag purple\">NOTE</span>  improperly detects source of #abstract_class if run sam with only Version model</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L9","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L9","def":{"name":"model_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(AbstractMethod.new(:model_class, {{ @type }}))"}},{"id":"preload(*relations)-instance-method","html_id":"preload(*relations)-instance-method","name":"preload","doc":"Alias for includes","summary":"<p>Alias for includes</p>","abstract":false,"args":[{"name":"relations","doc":null,"default_value":"","external_name":"relations","restriction":""}],"args_string":"(*relations)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L91","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L91","def":{"name":"preload","args":[{"name":"relations","doc":null,"default_value":"","external_name":"relations","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"includes(relations)"}},{"id":"preload(relation)-instance-method","html_id":"preload(relation)-instance-method","name":"preload","doc":"Alias for includes","summary":"<p>Alias for includes</p>","abstract":false,"args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"args_string":"(relation)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L86","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L86","def":{"name":"preload","args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"includes(relation)"}},{"id":"relation(name,type=:left)-instance-method","html_id":"relation(name,type=:left)-instance-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":":left","external_name":"type","restriction":""}],"args_string":"(name, type = <span class=\"n\">:left</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L113","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L113","def":{"name":"relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":":left","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(model_class.relation(name.to_s)).join_condition(self, type)"}},{"id":"table-instance-method","html_id":"table-instance-method","name":"table","doc":"Returns target table name","summary":"<p>Returns target table name</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L23","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L23","def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table.empty? ? model_class.table_name : @table"}},{"id":"with(*arr)-instance-method","html_id":"with(*arr)-instance-method","name":"with","doc":null,"summary":null,"abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""}],"args_string":"(*arr)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L44","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L44","def":{"name":"with","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.with(arr.to_a.map(&.to_s))"}},{"id":"with(arr:Array)-instance-method","html_id":"with(arr:Array)-instance-method","name":"with","doc":null,"summary":null,"abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array"}],"args_string":"(arr : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L48","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/i_model_query.cr#L48","def":{"name":"with","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"arr.each do |name|\n  table_name = (model_class.relation(name)).table_name\n  if @joins\n    temp_joins = _joins!.select do |j|\n      j.table == table_name\n    end\n    join = temp_joins.find do |__arg1|\n      __arg1.relation.nil?\n    end\n    if join\n      join.not_nil!.relation = name\n    else\n      if temp_joins.size == 0\n        raise(BaseException.new(\"#with should be called after correspond join: no such table \\\"#{table_name}\\\" of relation \\\"#{name}\\\"\"))\n      end\n    end\n  else\n    raise(BaseException.new(\"#with should be called after correspond join: no such table \\\"#{table_name}\\\" of relation \\\"#{name}\\\"\"))\n  end\n  @relations << name\nend\nself\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Join","path":"Jennifer/QueryBuilder/Join.html","kind":"class","full_name":"Jennifer::QueryBuilder::Join","name":"Join","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/join.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LateralJoin","kind":"class","full_name":"Jennifer::QueryBuilder::LateralJoin","name":"LateralJoin"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table,on:Criteria,type,aliass=nil,relation=nil)-class-method","html_id":"new(table,on:Criteria,type,aliass=nil,relation=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Criteria"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"args_string":"(table, on : Criteria, type, aliass = <span class=\"n\">nil</span>, relation = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L9","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L9","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Criteria"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, on, type, aliass, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(table,on:Condition|LogicOperator,type,aliass=nil,relation=nil)-class-method","html_id":"new(table,on:Condition|LogicOperator,type,aliass=nil,relation=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Condition | LogicOperator"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"args_string":"(table, on : Condition | LogicOperator, type, aliass = <span class=\"n\">nil</span>, relation = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L13","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L13","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Condition | LogicOperator"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, on, type, aliass, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L54","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L54","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @relation && (!@aliass)\n  @aliass = aliases[@relation.as(String)]\nend\n@on.alias_tables(aliases)\n"}},{"id":"aliass:String?-instance-method","html_id":"aliass:String?-instance-method","name":"aliass","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","def":{"name":"aliass","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@aliass"}},{"id":"aliass=(aliass:String?)-instance-method","html_id":"aliass=(aliass:String?)-instance-method","name":"aliass=","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliass","doc":null,"default_value":"","external_name":"aliass","restriction":"String | ::Nil"}],"args_string":"(aliass : String?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","def":{"name":"aliass=","args":[{"name":"aliass","doc":null,"default_value":"","external_name":"aliass","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@aliass = aliass"}},{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L24","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L24","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"sql_string = case @type\nwhen :left\n  \"LEFT JOIN \"\nwhen :right\n  \"RIGHT JOIN \"\nwhen :inner\n  \"JOIN \"\nwhen :full, :full_outer\n  \"FULL OUTER JOIN \"\nelse\n  raise(ArgumentError.new(\"Bad join type: #{@type}.\"))\nend\nsql_string + \"#{table_definition} ON #{@on.as_sql}\n\"\n"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L7","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"has_alias?-instance-method","html_id":"has_alias?-instance-method","name":"has_alias?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L20","def":{"name":"has_alias?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"!(@aliass.nil?)"}},{"id":"on:Condition|LogicOperator-instance-method","html_id":"on:Condition|LogicOperator-instance-method","name":"on","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Condition | LogicOperator","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","def":{"name":"on","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Condition | LogicOperator","visibility":"Public","body":"@on"}},{"id":"on=(on:Condition|LogicOperator)-instance-method","html_id":"on=(on:Condition|LogicOperator)-instance-method","name":"on=","doc":null,"summary":null,"abstract":false,"args":[{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Condition | LogicOperator"}],"args_string":"(on : Condition | LogicOperator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","def":{"name":"on=","args":[{"name":"on","doc":null,"default_value":"","external_name":"on","restriction":"Condition | LogicOperator"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@on = on"}},{"id":"relation:String?-instance-method","html_id":"relation:String?-instance-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","def":{"name":"relation","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@relation"}},{"id":"relation=(relation:String?)-instance-method","html_id":"relation=(relation:String?)-instance-method","name":"relation=","doc":null,"summary":null,"abstract":false,"args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":"String | ::Nil"}],"args_string":"(relation : String?)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","def":{"name":"relation=","args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@relation = relation"}},{"id":"sql_args-instance-method","html_id":"sql_args-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L59","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L59","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table.is_a?(String) ? @on.sql_args : (@table.as(Query)).sql_args + @on.sql_args"}},{"id":"sql_args_count-instance-method","html_id":"sql_args_count-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L63","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L63","def":{"name":"sql_args_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table.is_a?(String) ? @on.sql_args_count : (@table.as(Query)).sql_args_count + @on.sql_args_count"}},{"id":"table-instance-method","html_id":"table-instance-method","name":"table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L16","def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table.is_a?(String) ? @table.as(String) : \"\""}},{"id":"table=(table:String|Query)-instance-method","html_id":"table=(table:String|Query)-instance-method","name":"table=","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Query"}],"args_string":"(table : String | Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L4","def":{"name":"table=","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String | Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table = table"}},{"id":"table_definition-instance-method","html_id":"table_definition-instance-method","name":"table_definition","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L42","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L42","def":{"name":"table_definition","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@aliass ? \"#{table_name} #{@aliass}\" : table_name"}},{"id":"table_name:String-instance-method","html_id":"table_name:String-instance-method","name":"table_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L46","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L46","def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"if @table.is_a?(String)\n  @table.as(String)\nelse\n  (\"(\" + (@table.as(Query)).to_sql) + \")\"\nend"}},{"id":"type:Symbol-instance-method","html_id":"type:Symbol-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbol","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol","visibility":"Public","body":"@type"}},{"id":"type=(type:Symbol)-instance-method","html_id":"type=(type:Symbol)-instance-method","name":"type=","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol"}],"args_string":"(type : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L5","def":{"name":"type=","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@type = type"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Joining","path":"Jennifer/QueryBuilder/Joining.html","kind":"module","full_name":"Jennifer::QueryBuilder::Joining","name":"Joining","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/joining.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"join(source:Class,aliass:String?=nil,type=:inner,relation:String?=nil,&block)-instance-method","html_id":"join(source:Class,aliass:String?=nil,type=:inner,relation:String?=nil,&amp;block)-instance-method","name":"join","doc":null,"summary":null,"abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"args_string":"(source : Class, aliass : String? = <span class=\"n\">nil</span>, type = <span class=\"n\">:inner</span>, relation : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L4","def":{"name":"join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"eb = ExpressionBuilder.new(source.table_name, relation, self)\nif relation\n  with_relation!\nend\nother = with eb yield eb\nadd_join(Join.new(source.table_name, other, type, relation: relation))\nself\n"}},{"id":"join(source:String,aliass:String?=nil,type=:inner,relation:String?=nil,&block)-instance-method","html_id":"join(source:String,aliass:String?=nil,type=:inner,relation:String?=nil,&amp;block)-instance-method","name":"join","doc":null,"summary":null,"abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"args_string":"(source : String, aliass : String? = <span class=\"n\">nil</span>, type = <span class=\"n\">:inner</span>, relation : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L12","def":{"name":"join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"eb = ExpressionBuilder.new(source, relation, self)\nif relation\n  with_relation!\nend\nother = with eb yield eb\nadd_join(Join.new(source, other, type, relation))\nself\n"}},{"id":"join(source:Query,aliass:String,type=:inner,&block)-instance-method","html_id":"join(source:Query,aliass:String,type=:inner,&amp;block)-instance-method","name":"join","doc":"NOTE: aliass with passing source as a query is mandatory and will be passed to expression builder as table name","summary":"<p><span class=\"flag purple\">NOTE</span>  aliass with passing source as a query is mandatory and will be passed to expression builder as table name</p>","abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Query"},{"name":"aliass","doc":null,"default_value":"","external_name":"aliass","restriction":"String"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""}],"args_string":"(source : Query, aliass : String, type = <span class=\"n\">:inner</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L21","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L21","def":{"name":"join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Query"},{"name":"aliass","doc":null,"default_value":"","external_name":"aliass","restriction":"String"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"eb = ExpressionBuilder.new(aliass, nil, self)\nother = with eb yield eb\nadd_join(Join.new(source, other, type, nil))\nself\n"}},{"id":"lateral_join(source:Query,aliass:String?=nil,type=:inner,relation:String?=nil,&block)-instance-method","html_id":"lateral_join(source:Query,aliass:String?=nil,type=:inner,relation:String?=nil,&amp;block)-instance-method","name":"lateral_join","doc":null,"summary":null,"abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Query"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"args_string":"(source : Query, aliass : String? = <span class=\"n\">nil</span>, type = <span class=\"n\">:inner</span>, relation : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L28","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L28","def":{"name":"lateral_join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Query"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""},{"name":"relation","doc":null,"default_value":"nil","external_name":"relation","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"eb = ExpressionBuilder.new(aliass, nil, self)\nother = with eb yield eb\nadd_join(LateralJoin.new(source, other, type, nil))\nself\n"}},{"id":"left_join(source:Class,aliass:String?=nil,&block)-instance-method","html_id":"left_join(source:Class,aliass:String?=nil,&amp;block)-instance-method","name":"left_join","doc":null,"summary":null,"abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"}],"args_string":"(source : Class, aliass : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L35","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L35","def":{"name":"left_join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"join(source, aliass, :left) do |eb|\n  with eb yield\nend"}},{"id":"left_join(source:String,aliass:String?=nil,&block)-instance-method","html_id":"left_join(source:String,aliass:String?=nil,&amp;block)-instance-method","name":"left_join","doc":null,"summary":null,"abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"}],"args_string":"(source : String, aliass : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L39","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L39","def":{"name":"left_join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"join(source, aliass, :left) do |eb|\n  with eb yield\nend"}},{"id":"right_join(source:Class,aliass:String?=nil,&block)-instance-method","html_id":"right_join(source:Class,aliass:String?=nil,&amp;block)-instance-method","name":"right_join","doc":null,"summary":null,"abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"}],"args_string":"(source : Class, aliass : String? = <span class=\"n\">nil</span>, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L43","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L43","def":{"name":"right_join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"Class"},{"name":"aliass","doc":null,"default_value":"nil","external_name":"aliass","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"join(source, aliass, :right) do |eb|\n  with eb yield\nend"}},{"id":"right_join(source:String,&block)-instance-method","html_id":"right_join(source:String,&amp;block)-instance-method","name":"right_join","doc":null,"summary":null,"abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"}],"args_string":"(source : String, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L47","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/joining.cr#L47","def":{"name":"right_join","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"join(source, aliass, :left) do |eb|\n  with eb yield\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/JSONSelector","path":"Jennifer/QueryBuilder/JSONSelector.html","kind":"class","full_name":"Jennifer::QueryBuilder::JSONSelector","name":"JSONSelector","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/json_selector.cr","line_number":6,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(criteria:Criteria,path,type)-class-method","html_id":"new(criteria:Criteria,path,type)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"criteria","doc":null,"default_value":"","external_name":"criteria","restriction":"Criteria"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(criteria : Criteria, path, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr#L11","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr#L11","def":{"name":"new","args":[{"name":"criteria","doc":null,"default_value":"","external_name":"criteria","restriction":"Criteria"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(criteria, path, type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr#L15","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr#L15","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter::SqlGenerator.json_path(self)"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr#L9","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr#L9","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"path:Int32|String-instance-method","html_id":"path:Int32|String-instance-method","name":"path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32 | String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr#L7","def":{"name":"path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32 | String","visibility":"Public","body":"@path"}},{"id":"type:Symbol-instance-method","html_id":"type:Symbol-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbol","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/json_selector.cr#L7","def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol","visibility":"Public","body":"@type"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LateralJoin","path":"Jennifer/QueryBuilder/LateralJoin.html","kind":"class","full_name":"Jennifer::QueryBuilder::LateralJoin","name":"LateralJoin","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Join","kind":"class","full_name":"Jennifer::QueryBuilder::Join","name":"Join"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Join","kind":"class","full_name":"Jennifer::QueryBuilder::Join","name":"Join"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/join.cr","line_number":68,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L69","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/join.cr#L69","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"sql_string = (case @type\nwhen :left\n  \"LEFT JOIN \"\nwhen :right\n  \"RIGHT JOIN \"\nwhen :inner\n  \"JOIN \"\nwhen :full, :full_outer\n  \"FULL OUTER JOIN \"\nelse\n  raise(ArgumentError.new(\"Bad join type: #{@type}.\"))\nend) + \"LATERAL \"\nsql_string + \"#{table_definition} ON #{@on.as_sql}\n\"\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","path":"Jennifer/QueryBuilder/LogicOperator.html","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"}],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/And","kind":"class","full_name":"Jennifer::QueryBuilder::And","name":"And"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Or","kind":"class","full_name":"Jennifer::QueryBuilder::Or","name":"Or"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Xor","kind":"class","full_name":"Jennifer::QueryBuilder::Xor","name":"Xor"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(lhs,rhs)-class-method","html_id":"new(lhs,rhs)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""},{"name":"rhs","doc":null,"default_value":"","external_name":"rhs","restriction":""}],"args_string":"(lhs, rhs)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L42","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L42","def":{"name":"new","args":[{"name":"lhs","doc":null,"default_value":"","external_name":"lhs","restriction":""},{"name":"rhs","doc":null,"default_value":"","external_name":"rhs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(lhs, rhs)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"==(other:LogicOperator)-instance-method","html_id":"==(other:LogicOperator)-instance-method","name":"==","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator"}],"args_string":"(other : LogicOperator)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L78","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L78","def":{"name":"==","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(@lhs == other.lhs) && (@rhs == other.rhs)"}},{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L51","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@rhs.alias_tables(aliases)\n@lhs.alias_tables(aliases)\n"}},{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L66","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L66","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(((@lhs.as_sql + \" \") + operator) + \" \") + @rhs.as_sql"}},{"id":"change_table(old_name,new_name)-instance-method","html_id":"change_table(old_name,new_name)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L61","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L61","def":{"name":"change_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@rhs.change_table(old_name, new_name)\n@lhs.change_table(old_name, new_name)\n"}},{"id":"lhs:Operandable-instance-method","html_id":"lhs:Operandable-instance-method","name":"lhs","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Operandable","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L40","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L40","def":{"name":"lhs","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Operandable","visibility":"Public","body":"@lhs"}},{"id":"operator-instance-method","html_id":"operator-instance-method","name":"operator","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L45","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L45","def":{"name":"operator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"rhs:Operandable-instance-method","html_id":"rhs:Operandable-instance-method","name":"rhs","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Operandable","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L40","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L40","def":{"name":"rhs","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Operandable","visibility":"Public","body":"@rhs"}},{"id":"set_relation(table,name)-instance-method","html_id":"set_relation(table,name)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L56","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L56","def":{"name":"set_relation","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@rhs.set_relation(table, name)\n@lhs.set_relation(table, name)\n"}},{"id":"sql_args-instance-method","html_id":"sql_args-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L70","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L70","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lhs.sql_args + @rhs.sql_args"}},{"id":"sql_args_count-instance-method","html_id":"sql_args_count-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L74","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L74","def":{"name":"sql_args_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lhs.sql_args_count + @rhs.sql_args_count"}},{"id":"to_s-instance-method","html_id":"to_s-instance-method","name":"to_s","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L47","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L47","def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"as_sql"}}],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operandable","path":"Jennifer/QueryBuilder/LogicOperator/Operandable.html","kind":"alias","full_name":"Jennifer::QueryBuilder::LogicOperator::Operandable","name":"Operandable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":38,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"(Jennifer::QueryBuilder::Condition | Jennifer::QueryBuilder::LogicOperator | Jennifer::QueryBuilder::SQLNode)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","path":"Jennifer/QueryBuilder/LogicOperator/Operators.html","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":10,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Condition","kind":"class","full_name":"Jennifer::QueryBuilder::Condition","name":"Condition"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Grouping","kind":"class","full_name":"Jennifer::QueryBuilder::Grouping","name":"Grouping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"&(other:Criteria)-instance-method","html_id":"&amp;(other:Criteria)-instance-method","name":"&","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"args_string":"(other : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L11","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L11","def":{"name":"&","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"And.new(self, other.to_condition)"}},{"id":"&(other:Operandable)-instance-method","html_id":"&amp;(other:Operandable)-instance-method","name":"&","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"args_string":"(other : Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L23","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L23","def":{"name":"&","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"And.new(self, other)"}},{"id":"xor(other:Criteria)-instance-method","html_id":"xor(other:Criteria)-instance-method","name":"xor","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"args_string":"(other : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L19","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L19","def":{"name":"xor","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Xor.new(self, other.to_condition)"}},{"id":"xor(other:Operandable)-instance-method","html_id":"xor(other:Operandable)-instance-method","name":"xor","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"args_string":"(other : Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L31","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L31","def":{"name":"xor","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Xor.new(self, other)"}},{"id":"|(other:Criteria)-instance-method","html_id":"|(other:Criteria)-instance-method","name":"|","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"args_string":"(other : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L15","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L15","def":{"name":"|","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Or.new(self, other.to_condition)"}},{"id":"|(other:Operandable)-instance-method","html_id":"|(other:Operandable)-instance-method","name":"|","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"args_string":"(other : Operandable)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L27","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L27","def":{"name":"|","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Operandable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Or.new(self, other)"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/ModelQuery","path":"Jennifer/QueryBuilder/ModelQuery.html","kind":"class","full_name":"Jennifer::QueryBuilder::ModelQuery(T)","name":"ModelQuery","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/IModelQuery","kind":"class","full_name":"Jennifer::QueryBuilder::IModelQuery","name":"IModelQuery"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/IModelQuery","kind":"class","full_name":"Jennifer::QueryBuilder::IModelQuery","name":"IModelQuery"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Executables","kind":"module","full_name":"Jennifer::QueryBuilder::Executables","name":"Executables"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Joining","kind":"module","full_name":"Jennifer::QueryBuilder::Joining","name":"Joining"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Ordering","kind":"module","full_name":"Jennifer::QueryBuilder::Ordering","name":"Ordering"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Aggregations","kind":"module","full_name":"Jennifer::QueryBuilder::Aggregations","name":"Aggregations"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/model_query.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table)-class-method","html_id":"new(table)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L52","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L52","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = ModelQuery(T).allocate\n_.initialize(table)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L41","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L41","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = ModelQuery(T).allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr#L11","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr#L11","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"find_by_sql(query:String,args:Array(DBAny)=[]ofDBAny)-instance-method","html_id":"find_by_sql(query:String,args:Array(DBAny)=[]ofDBAny)-instance-method","name":"find_by_sql","doc":"Perform search using given plain query and arguments and builds ` but also allow to preload\nrelated records using `#preload` method nad respects `#none`","summary":"<p>Perform search using given plain query and arguments and builds ` but also allow to preload related records using <code>#preload</code> method nad respects <code>#none</code></p>","abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array(DBAny)"}],"args_string":"(query : String, args : Array(DBAny) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DBAny</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr#L28","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr#L28","def":{"name":"find_by_sql","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"args","doc":null,"default_value":"[] of DBAny","external_name":"args","restriction":"Array(DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"results = [] of T\nif @do_nothing\n  return results\nend\n::Jennifer::Adapter.adapter.query(query, args) do |rs|\n  begin\n    rs.each do\n      results << (T.build(rs))\n    end\n  rescue e : Exception\n    rs.read_to_end\n    raise(e)\n  end\nend\nadd_preloaded(results)\n"}},{"id":"initialize_copy_with(other,except:Array(String))-instance-method","html_id":"initialize_copy_with(other,except:Array(String))-instance-method","name":"initialize_copy_with","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""},{"name":"except","doc":null,"default_value":"","external_name":"except","restriction":"Array(String)"}],"args_string":"(other, except : Array(String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr#L6","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr#L6","def":{"name":"initialize_copy_with","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""},{"name":"except","doc":null,"default_value":"","external_name":"except","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"super(other, except)\n@preload_relations = [] of String\n"}},{"id":"model_class-instance-method","html_id":"model_class-instance-method","name":"model_class","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr#L22","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr#L22","def":{"name":"model_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"T"}},{"id":"to_a-instance-method","html_id":"to_a-instance-method","name":"to_a","doc":"Executes request and maps result set to objects with loading any requested related objects","summary":"<p>Executes request and maps result set to objects with loading any requested related objects</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr#L45","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/model_query.cr#L45","def":{"name":"to_a","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @do_nothing\n  return [] of T\nend\nif @relation_used\n  add_aliases\nend\nif @relations.empty?\nelse\n  return to_a_with_relations\nend\nresult = [] of T\n::Jennifer::Adapter.adapter.select(self) do |rs|\n  rs.each do\n    begin\n      result << (T.build(rs))\n    rescue e : Exception\n      rs.read_to_end\n      raise(e)\n    end\n  end\nend\nadd_preloaded(result)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Or","path":"Jennifer/QueryBuilder/Or.html","kind":"class","full_name":"Jennifer::QueryBuilder::Or","name":"Or","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":94,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"OPERATOR","value":"\"OR\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L97","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L97","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"operator-instance-method","html_id":"operator-instance-method","name":"operator","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L99","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L99","def":{"name":"operator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"OPERATOR"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Ordering","path":"Jennifer/QueryBuilder/Ordering.html","kind":"module","full_name":"Jennifer::QueryBuilder::Ordering","name":"Ordering","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/query_builder/ordering.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"order(opts:Hash(String,String|Symbol))-instance-method","html_id":"order(opts:Hash(String,String|Symbol))-instance-method","name":"order","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String, String | Symbol)"}],"args_string":"(opts : Hash(String, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L12","def":{"name":"order","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts.each do |k, v|\n  @order[@expression.sql(k, false)] = v.to_s\nend\nself\n"}},{"id":"order(opts:Hash(Symbol,String|Symbol))-instance-method","html_id":"order(opts:Hash(Symbol,String|Symbol))-instance-method","name":"order","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Symbol, String | Symbol)"}],"args_string":"(opts : Hash(Symbol, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L19","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L19","def":{"name":"order","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Symbol, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts.each do |k, v|\n  key = @expression.c(k.to_s)\n  @order[key] = v.to_s\nend\nself\n"}},{"id":"order(opts:Hash(Criteria,String|Symbol))-instance-method","html_id":"order(opts:Hash(Criteria,String|Symbol))-instance-method","name":"order","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Criteria, String | Symbol)"}],"args_string":"(opts : Hash(Criteria, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L27","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L27","def":{"name":"order","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Criteria, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts.each do |k, v|\n  @order[k] = v.to_s\n  if k.is_a?(RawSql)\n    (k.as(RawSql)).without_brackets\n  end\nend\nself\n"}},{"id":"order(opts:Hash(String|Symbol,String|Symbol))-instance-method","html_id":"order(opts:Hash(String|Symbol,String|Symbol))-instance-method","name":"order","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String | Symbol, String | Symbol)"}],"args_string":"(opts : Hash(String | Symbol, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L35","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L35","def":{"name":"order","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String | Symbol, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts.each do |k, v|\n  key = k.is_a?(String) ? @expression.sql(k, false) : @expression.c(k.to_s)\n  @order[key] = v.to_s\nend\nself\n"}},{"id":"order-instance-method","html_id":"order-instance-method","name":"order","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L4","def":{"name":"order","args":[],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"opts.each do |k, v|\n  key = @expression.c(k.to_s)\n  @order[key] = v.to_s\nend\nself\n"}},{"id":"order(&block)-instance-method","html_id":"order(&amp;block)-instance-method","name":"order","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L43","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L43","def":{"name":"order","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"order(with @expression yield)"}},{"id":"ordered?-instance-method","html_id":"ordered?-instance-method","name":"ordered?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L75","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L75","def":{"name":"ordered?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"!@order.empty?"}},{"id":"reorder(opts:Hash(String,String|Symbol))-instance-method","html_id":"reorder(opts:Hash(String,String|Symbol))-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String, String | Symbol)"}],"args_string":"(opts : Hash(String, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L51","def":{"name":"reorder","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order.clear\norder(opts)\n"}},{"id":"reorder(opts:Hash(Symbol,String|Symbol))-instance-method","html_id":"reorder(opts:Hash(Symbol,String|Symbol))-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Symbol, String | Symbol)"}],"args_string":"(opts : Hash(Symbol, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L56","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L56","def":{"name":"reorder","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Symbol, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order.clear\norder(opts)\n"}},{"id":"reorder(opts:Hash(Criteria,String|Symbol))-instance-method","html_id":"reorder(opts:Hash(Criteria,String|Symbol))-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Criteria, String | Symbol)"}],"args_string":"(opts : Hash(Criteria, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L61","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L61","def":{"name":"reorder","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(Criteria, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order.clear\norder(opts)\n"}},{"id":"reorder(opts:Hash(String|Symbol,String|Symbol))-instance-method","html_id":"reorder(opts:Hash(String|Symbol,String|Symbol))-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String | Symbol, String | Symbol)"}],"args_string":"(opts : Hash(String | Symbol, String | Symbol))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L66","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L66","def":{"name":"reorder","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":"Hash(String | Symbol, String | Symbol)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order.clear\norder(opts)\n"}},{"id":"reorder-instance-method","html_id":"reorder-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L47","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L47","def":{"name":"reorder","args":[],"double_splat":{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"reorder(opts.to_h)"}},{"id":"reorder(&block)-instance-method","html_id":"reorder(&amp;block)-instance-method","name":"reorder","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L71","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/ordering.cr#L71","def":{"name":"reorder","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"reorder(with @expression yield)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Query","path":"Jennifer/QueryBuilder/Query.html","kind":"class","full_name":"Jennifer::QueryBuilder::Query","name":"Query","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Executables","kind":"module","full_name":"Jennifer::QueryBuilder::Executables","name":"Executables"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Joining","kind":"module","full_name":"Jennifer::QueryBuilder::Joining","name":"Joining"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Ordering","kind":"module","full_name":"Jennifer::QueryBuilder::Ordering","name":"Ordering"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Aggregations","kind":"module","full_name":"Jennifer::QueryBuilder::Aggregations","name":"Aggregations"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/query.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Aggregations","kind":"module","full_name":"Jennifer::QueryBuilder::Aggregations","name":"Aggregations"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Executables","kind":"module","full_name":"Jennifer::QueryBuilder::Executables","name":"Executables"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Joining","kind":"module","full_name":"Jennifer::QueryBuilder::Joining","name":"Joining"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Ordering","kind":"module","full_name":"Jennifer::QueryBuilder::Ordering","name":"Ordering"}],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Ifrit","kind":"module","full_name":"Ifrit","name":"Ifrit"}],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/IModelQuery","kind":"class","full_name":"Jennifer::QueryBuilder::IModelQuery","name":"IModelQuery"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[{"id":"[](*opts)-class-method","html_id":"[](*opts)-class-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L120","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L120","def":{"name":"[]","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"build(*opts)"}},{"id":"build(*opts)-class-method","html_id":"build(*opts)-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L114","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L114","def":{"name":"build","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"q = new(*opts)\nq.expression_builder.query = q\nq\n"}}],"constructors":[{"id":"new(table)-class-method","html_id":"new(table)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L52","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L52","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L41","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L41","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"_distinct:Bool-instance-method","html_id":"_distinct:Bool-instance-method","name":"_distinct","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_distinct","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@distinct"}},{"id":"_distinct!-instance-method","html_id":"_distinct!-instance-method","name":"_distinct!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_distinct!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@distinct.not_nil!"}},{"id":"_from:Jennifer::QueryBuilder::Query|String|Nil-instance-method","html_id":"_from:Jennifer::QueryBuilder::Query|String|Nil-instance-method","name":"_from","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Jennifer::QueryBuilder::Query | String | Nil","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_from","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@from"}},{"id":"_from!-instance-method","html_id":"_from!-instance-method","name":"_from!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_from!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@from.not_nil!"}},{"id":"_groups:Array(Jennifer::QueryBuilder::Criteria)-instance-method","html_id":"_groups:Array(Jennifer::QueryBuilder::Criteria)-instance-method","name":"_groups","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Jennifer::QueryBuilder::Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_groups","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@groups"}},{"id":"_groups!-instance-method","html_id":"_groups!-instance-method","name":"_groups!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_groups!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@groups.not_nil!"}},{"id":"_having:Jennifer::QueryBuilder::Condition|Jennifer::QueryBuilder::LogicOperator|Nil-instance-method","html_id":"_having:Jennifer::QueryBuilder::Condition|Jennifer::QueryBuilder::LogicOperator|Nil-instance-method","name":"_having","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Jennifer::QueryBuilder::Condition | Jennifer::QueryBuilder::LogicOperator | Nil","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_having","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@having"}},{"id":"_having!-instance-method","html_id":"_having!-instance-method","name":"_having!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_having!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@having.not_nil!"}},{"id":"_joins:Array(Jennifer::QueryBuilder::Join)?-instance-method","html_id":"_joins:Array(Jennifer::QueryBuilder::Join)?-instance-method","name":"_joins","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Jennifer::QueryBuilder::Join)?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_joins","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@joins"}},{"id":"_joins!-instance-method","html_id":"_joins!-instance-method","name":"_joins!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_joins!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@joins.not_nil!"}},{"id":"_limit:Int32?-instance-method","html_id":"_limit:Int32?-instance-method","name":"_limit","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_limit","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@limit"}},{"id":"_limit!-instance-method","html_id":"_limit!-instance-method","name":"_limit!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_limit!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@limit.not_nil!"}},{"id":"_lock:Bool|String|Nil-instance-method","html_id":"_lock:Bool|String|Nil-instance-method","name":"_lock","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool | String | Nil","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_lock","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lock"}},{"id":"_lock!-instance-method","html_id":"_lock!-instance-method","name":"_lock!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_lock!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lock.not_nil!"}},{"id":"_offset:Int32?-instance-method","html_id":"_offset:Int32?-instance-method","name":"_offset","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_offset","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@offset"}},{"id":"_offset!-instance-method","html_id":"_offset!-instance-method","name":"_offset!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_offset!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@offset.not_nil!"}},{"id":"_order:Hash(Jennifer::QueryBuilder::Criteria,String)-instance-method","html_id":"_order:Hash(Jennifer::QueryBuilder::Criteria,String)-instance-method","name":"_order","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(Jennifer::QueryBuilder::Criteria, String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_order","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order"}},{"id":"_order!-instance-method","html_id":"_order!-instance-method","name":"_order!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_order!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order.not_nil!"}},{"id":"_raw_select:String?-instance-method","html_id":"_raw_select:String?-instance-method","name":"_raw_select","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_raw_select","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@raw_select"}},{"id":"_raw_select!-instance-method","html_id":"_raw_select!-instance-method","name":"_raw_select!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_raw_select!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@raw_select.not_nil!"}},{"id":"_relations:Array(String)-instance-method","html_id":"_relations:Array(String)-instance-method","name":"_relations","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_relations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@relations"}},{"id":"_relations!-instance-method","html_id":"_relations!-instance-method","name":"_relations!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_relations!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@relations.not_nil!"}},{"id":"_select_fields:Array(Criteria)-instance-method","html_id":"_select_fields:Array(Criteria)-instance-method","name":"_select_fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L101","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L101","def":{"name":"_select_fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Criteria)","visibility":"Public","body":"if @select_fields.empty?\n  ([] of Criteria) << @expression.star\nelse\n  @select_fields\nend"}},{"id":"_table:String-instance-method","html_id":"_table:String-instance-method","name":"_table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table"}},{"id":"_table!-instance-method","html_id":"_table!-instance-method","name":"_table!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_table!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table.not_nil!"}},{"id":"_table_aliases:Hash(String,String)-instance-method","html_id":"_table_aliases:Hash(String,String)-instance-method","name":"_table_aliases","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_table_aliases","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_aliases"}},{"id":"_table_aliases!-instance-method","html_id":"_table_aliases!-instance-method","name":"_table_aliases!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_table_aliases!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_aliases.not_nil!"}},{"id":"_unions:Array(Jennifer::QueryBuilder::Query)?-instance-method","html_id":"_unions:Array(Jennifer::QueryBuilder::Query)?-instance-method","name":"_unions","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Jennifer::QueryBuilder::Query)?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_unions","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@unions"}},{"id":"_unions!-instance-method","html_id":"_unions!-instance-method","name":"_unions!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L16","def":{"name":"_unions!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@unions.not_nil!"}},{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L128","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L128","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tree ? @tree.not_nil!.as_sql : \"\""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L83","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L83","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone.expression_builder.query = clone\nclone\n"}},{"id":"distinct-instance-method","html_id":"distinct-instance-method","name":"distinct","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L249","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L249","def":{"name":"distinct","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@distinct = true\nself\n"}},{"id":"empty?-instance-method","html_id":"empty?-instance-method","name":"empty?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L170","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L170","def":{"name":"empty?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(((((@tree.nil?) && (@limit.nil?)) && (@offset.nil?)) && ((@joins.nil?) || @joins.not_nil!.empty?)) && @order.empty?) && @relations.empty?"}},{"id":"eql?(other:Query)-instance-method","html_id":"eql?(other:Query)-instance-method","name":"eql?","doc":"Compare current object with given comparing generated sql query and parameters.\nIs mostly used for testing","summary":"<p>Compare current object with given comparing generated sql query and parameters.</p>","abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Query"}],"args_string":"(other : Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L79","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L79","def":{"name":"eql?","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(sql_args == other.sql_args) && (to_sql == other.to_sql)"}},{"id":"except(parts:Array(String))-instance-method","html_id":"except(parts:Array(String))-instance-method","name":"except","doc":null,"summary":null,"abstract":false,"args":[{"name":"parts","doc":null,"default_value":"","external_name":"parts","restriction":"Array(String)"}],"args_string":"(parts : Array(String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L90","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L90","def":{"name":"except","args":[{"name":"parts","doc":null,"default_value":"","external_name":"parts","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy_without(self, parts)\nclone.expression_builder.query = clone\nclone\n"}},{"id":"exec(&block)-instance-method","html_id":"exec(&amp;block)-instance-method","name":"exec","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L175","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L175","def":{"name":"exec","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"with self yield\nself\n"}},{"id":"expression_builder:Jennifer::QueryBuilder::ExpressionBuilder-instance-method","html_id":"expression_builder:Jennifer::QueryBuilder::ExpressionBuilder-instance-method","name":"expression_builder","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Jennifer::QueryBuilder::ExpressionBuilder","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L97","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L97","def":{"name":"expression_builder","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@expression"}},{"id":"from(_from:String|Query)-instance-method","html_id":"from(_from:String|Query)-instance-method","name":"from","doc":null,"summary":null,"abstract":false,"args":[{"name":"_from","doc":null,"default_value":"","external_name":"_from","restriction":"String | Query"}],"args_string":"(_from : String | Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L224","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L224","def":{"name":"from","args":[{"name":"_from","doc":null,"default_value":"","external_name":"_from","restriction":"String | Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@from = _from\nself\n"}},{"id":"group(*columns:String)-instance-method","html_id":"group(*columns:String)-instance-method","name":"group","doc":"Groups by given columns realizes them as are","summary":"<p>Groups by given columns realizes them as are</p>","abstract":false,"args":[{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":"String"}],"args_string":"(*columns : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L267","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L267","def":{"name":"group","args":[{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"columns.each do |c|\n  @groups << (@expression.sql(c, false))\nend\nself\n"}},{"id":"group(column:String)-instance-method","html_id":"group(column:String)-instance-method","name":"group","doc":"Groups by given column realizes it as is","summary":"<p>Groups by given column realizes it as is</p>","abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"String"}],"args_string":"(column : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L255","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L255","def":{"name":"group","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@groups << (@expression.sql(column, false))\nself\n"}},{"id":"group(*columns:Symbol)-instance-method","html_id":"group(*columns:Symbol)-instance-method","name":"group","doc":"Groups by given columns realizes them as current table's ones","summary":"<p>Groups by given columns realizes them as current table's ones</p>","abstract":false,"args":[{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":"Symbol"}],"args_string":"(*columns : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L273","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L273","def":{"name":"group","args":[{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":"Symbol"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"columns.each do |c|\n  @groups << (@expression.c(c.to_s))\nend\nself\n"}},{"id":"group(column:Symbol)-instance-method","html_id":"group(column:Symbol)-instance-method","name":"group","doc":"Groups by given column realizes it as current table's field","summary":"<p>Groups by given column realizes it as current table's field</p>","abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"Symbol"}],"args_string":"(column : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L261","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L261","def":{"name":"group","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@groups << (@expression.c(column.to_s))\nself\n"}},{"id":"group(&block)-instance-method","html_id":"group(&amp;block)-instance-method","name":"group","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L284","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L284","def":{"name":"group","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"fields = with @expression yield\nfields.each do |f|\n  if f.is_a?(RawSql)\n    (f.as(RawSql)).without_brackets\n  end\nend\n@groups.concat(fields)\nself\n"}},{"id":"group(column:Criteria)-instance-method","html_id":"group(column:Criteria)-instance-method","name":"group","doc":null,"summary":null,"abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"Criteria"}],"args_string":"(column : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L278","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L278","def":{"name":"group","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if column.is_a?(RawSql)\n  (column.as(RawSql)).without_brackets\nend\n@groups << column\nself\n"}},{"id":"having(&block)-instance-method","html_id":"having(&amp;block)-instance-method","name":"having","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L234","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L234","def":{"name":"having","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"other = with @expression yield\nif @having.nil?\n  @having = other\nelse\n  @having = @having.not_nil! & other\nend\nself\n"}},{"id":"initialize_copy_without(other,except:Array(String))-instance-method","html_id":"initialize_copy_without(other,except:Array(String))-instance-method","name":"initialize_copy_without","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""},{"name":"except","doc":null,"default_value":"","external_name":"except","restriction":"Array(String)"}],"args_string":"(other, except : Array(String))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L56","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L56","def":{"name":"initialize_copy_without","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""},{"name":"except","doc":null,"default_value":"","external_name":"except","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% for segment in [\"having\", \"limit\", \"offset\", \"raw_select\", \"from\", \"lock\", \"distinct\"] of ::String %}\n          @{{ segment.id }} = other.@{{ segment.id }}.clone unless except.includes?({{ segment }})\n        {% end %}\n@order = except.includes?(\"order\") ? {} of Criteria => String : (other.@order).clone\nif except.includes?(\"join\")\nelse\n  @joins = (other.@joins).clone\nend\nif except.includes?(\"union\")\nelse\n  @unions = (other.@unions).clone\nend\n@groups = except.includes?(\"group\") ? [] of Criteria : (other.@groups).clone\n@do_nothing = except.includes?(\"none\") ? false : other.@do_nothing\n@select_fields = except.includes?(\"select\") ? [] of Criteria : other.@select_fields\nif except.includes?(\"where\")\nelse\n  @tree = (other.@tree).clone\nend\n@table = (other.@table).clone\n@table_aliases = (other.@table_aliases).clone\n@relation_used = false\n@relations = [] of String\n@expression = ExpressionBuilder.new(@table)\n"}},{"id":"limit(count:Int32)-instance-method","html_id":"limit(count:Int32)-instance-method","name":"limit","doc":null,"summary":null,"abstract":false,"args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"Int32"}],"args_string":"(count : Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L291","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L291","def":{"name":"limit","args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@limit = count\nself\n"}},{"id":"lock(type:String|Bool=true)-instance-method","html_id":"lock(type:String|Bool=true)-instance-method","name":"lock","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"args_string":"(type : String | Bool = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L301","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L301","def":{"name":"lock","args":[{"name":"type","doc":null,"default_value":"true","external_name":"type","restriction":"String | Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lock = type\nself\n"}},{"id":"none-instance-method","html_id":"none-instance-method","name":"none","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L229","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L229","def":{"name":"none","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@do_nothing = true\nself\n"}},{"id":"offset(count:Int32)-instance-method","html_id":"offset(count:Int32)-instance-method","name":"offset","doc":null,"summary":null,"abstract":false,"args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"Int32"}],"args_string":"(count : Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L296","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L296","def":{"name":"offset","args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@offset = count\nself\n"}},{"id":"select(&block)-instance-method","html_id":"select(&amp;block)-instance-method","name":"select","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L215","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L215","def":{"name":"select","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"fields = with @expression yield\nfields.each do |f|\n  if f.is_a?(RawSql)\n    (f.as(RawSql)).without_brackets\n  end\nend\n@select_fields.concat(fields)\nself\n"}},{"id":"select(*fields:Symbol)-instance-method","html_id":"select(*fields:Symbol)-instance-method","name":"select","doc":null,"summary":null,"abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Symbol"}],"args_string":"(*fields : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L202","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L202","def":{"name":"select","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Symbol"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"fields.each do |f|\n  @select_fields << (@expression.c(f.to_s))\nend\nself\n"}},{"id":"select(fields:Array(Criteria))-instance-method","html_id":"select(fields:Array(Criteria))-instance-method","name":"select","doc":null,"summary":null,"abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Criteria)"}],"args_string":"(fields : Array(Criteria))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L207","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L207","def":{"name":"select","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(Criteria)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"fields.each do |f|\n  @select_fields << f\n  if f.is_a?(RawSql)\n    (f.as(RawSql)).without_brackets\n  end\nend\nself\n"}},{"id":"select(field_name:Symbol)-instance-method","html_id":"select(field_name:Symbol)-instance-method","name":"select","doc":null,"summary":null,"abstract":false,"args":[{"name":"field_name","doc":null,"default_value":"","external_name":"field_name","restriction":"Symbol"}],"args_string":"(field_name : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L197","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L197","def":{"name":"select","args":[{"name":"field_name","doc":null,"default_value":"","external_name":"field_name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@select_fields << (@expression.c(field_name.to_s))\nself\n"}},{"id":"select(field:Criteria)-instance-method","html_id":"select(field:Criteria)-instance-method","name":"select","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Criteria"}],"args_string":"(field : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L191","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L191","def":{"name":"select","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@select_fields << field\nif field.is_a?(RawSql)\n  (field.as(RawSql)).without_brackets\nend\nself\n"}},{"id":"select(raw_sql:String)-instance-method","html_id":"select(raw_sql:String)-instance-method","name":"select","doc":null,"summary":null,"abstract":false,"args":[{"name":"raw_sql","doc":null,"default_value":"","external_name":"raw_sql","restriction":"String"}],"args_string":"(raw_sql : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L186","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L186","def":{"name":"select","args":[{"name":"raw_sql","doc":null,"default_value":"","external_name":"raw_sql","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@raw_select = raw_sql\nself\n"}},{"id":"select_args-instance-method","html_id":"select_args-instance-method","name":"select_args","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L144","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L144","def":{"name":"select_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args = [] of DB::Any\nif @from.is_a?(Query)\n  args.concat((@from.as(Query)).select_args)\nend\nif @joins\n  _joins!.each do |join|\n    args.concat(join.sql_args)\n  end\nend\nif @tree\n  args.concat(@tree.not_nil!.sql_args)\nend\nif @having\n  args.concat(@having.not_nil!.sql_args)\nend\nargs\n"}},{"id":"select_args_count-instance-method","html_id":"select_args_count-instance-method","name":"select_args_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L153","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L153","def":{"name":"select_args_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"count = 0\nif @from.is_a?(Query)\n  count = count + (@from.as(Query)).select_args_count\nend\nif @joins\n  _joins!.each do |join|\n    count = count + join.sql_args_count\n  end\nend\nif @tree\n  count = count + @tree.not_nil!.sql_args_count\nend\nif @having\n  count = count + @having.not_nil!.sql_args_count\nend\ncount\n"}},{"id":"set_tree(other:LogicOperator|Condition)-instance-method","html_id":"set_tree(other:LogicOperator|Condition)-instance-method","name":"set_tree","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator | Condition"}],"args_string":"(other : LogicOperator | Condition)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L310","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L310","def":{"name":"set_tree","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"LogicOperator | Condition"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tree = if (!(@tree.nil?)) && (!(other.nil?))\n  (@tree.as(Condition | LogicOperator)) & other\nelse\n  other\nend\nself\n"}},{"id":"set_tree(other:Criteria)-instance-method","html_id":"set_tree(other:Criteria)-instance-method","name":"set_tree","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"args_string":"(other : Criteria)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L323","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L323","def":{"name":"set_tree","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Criteria"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"set_tree(Condition.new(other))"}},{"id":"set_tree(other:Query)-instance-method","html_id":"set_tree(other:Query)-instance-method","name":"set_tree","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Query"}],"args_string":"(other : Query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L319","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L319","def":{"name":"set_tree","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Query"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"set_tree(other.tree)"}},{"id":"set_tree(other:Nil)-instance-method","html_id":"set_tree(other:Nil)-instance-method","name":"set_tree","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Nil"}],"args_string":"(other : Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L327","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L327","def":{"name":"set_tree","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(ArgumentError.new(\"Condition tree couldn't be nil\"))"}},{"id":"sql_args-instance-method","html_id":"sql_args-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L132","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L132","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @tree\n  @tree.not_nil!.sql_args\nelse\n  [] of DB::Any\nend"}},{"id":"sql_args_count-instance-method","html_id":"sql_args_count-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L140","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L140","def":{"name":"sql_args_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tree ? @tree.not_nil!.sql_args_count : 0"}},{"id":"to_s-instance-method","html_id":"to_s-instance-method","name":"to_s","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L306","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L306","def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"to_sql"}},{"id":"to_sql-instance-method","html_id":"to_sql-instance-method","name":"to_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L124","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L124","def":{"name":"to_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter::SqlGenerator.select(self)"}},{"id":"tree:Condition|LogicOperator|Nil-instance-method","html_id":"tree:Condition|LogicOperator|Nil-instance-method","name":"tree","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Condition | LogicOperator | Nil","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L39","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L39","def":{"name":"tree","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Condition | LogicOperator | ::Nil","visibility":"Public","body":"@tree"}},{"id":"tree=(tree:Condition|LogicOperator|Nil)-instance-method","html_id":"tree=(tree:Condition|LogicOperator|Nil)-instance-method","name":"tree=","doc":null,"summary":null,"abstract":false,"args":[{"name":"tree","doc":null,"default_value":"","external_name":"tree","restriction":"Condition | LogicOperator | ::Nil"}],"args_string":"(tree : Condition | LogicOperator | Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L39","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L39","def":{"name":"tree=","args":[{"name":"tree","doc":null,"default_value":"","external_name":"tree","restriction":"Condition | LogicOperator | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tree = tree"}},{"id":"union(query)-instance-method","html_id":"union(query)-instance-method","name":"union","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L244","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L244","def":{"name":"union","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"add_union(query)\nself\n"}},{"id":"where(&block)-instance-method","html_id":"where(&amp;block)-instance-method","name":"where","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L180","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L180","def":{"name":"where","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"other = (with @expression yield)\nset_tree(other)\nself\n"}},{"id":"with_relation!-instance-method","html_id":"with_relation!-instance-method","name":"with_relation!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L162","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L162","def":{"name":"with_relation!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@relation_used = true"}},{"id":"with_relation?:Bool-instance-method","html_id":"with_relation?:Bool-instance-method","name":"with_relation?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L166","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query.cr#L166","def":{"name":"with_relation?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@relation_used"}}],"macros":[{"id":"str_hash(hash,types)-macro","html_id":"str_hash(hash,types)-macro","name":"str_hash","doc":"accepts hash literal","summary":"<p>accepts hash literal</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"str_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash(\n{{ hash }}\n, String, \n{{ types }}\n)\n    \n"}},{"id":"str_hash_cast(hash,types)-macro","html_id":"str_hash_cast(hash,types)-macro","name":"str_hash_cast","doc":null,"summary":null,"abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"str_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash_cast(\n{{ hash }}\n, String, \n{{ types }}\n)\n    \n"}},{"id":"stringify_hash(hash,types)-macro","html_id":"stringify_hash(hash,types)-macro","name":"stringify_hash","doc":"accepts any hash","summary":"<p>accepts any hash</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"stringify_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_53 = \n{} of String =>\n{{ types }}\n\n        \n{{ hash }}\n.each do |k, v|\n          __temp_53[k.to_s] = v.as(\n{{ types }}\n)\n        \nend\n        __temp_53\n      \nend\n    \n"}},{"id":"sym_hash(hash,types)-macro","html_id":"sym_hash(hash,types)-macro","name":"sym_hash","doc":"accepts hash literal","summary":"<p>accepts hash literal</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"sym_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash(\n{{ hash }}\n, Symbol, \n{{ types }}\n)\n    \n"}},{"id":"sym_hash_cast(hash,types)-macro","html_id":"sym_hash_cast(hash,types)-macro","name":"sym_hash_cast","doc":"accepts any hash or named tuple\nexample: Ifrit.as_sym_hash(hash, String | Int32)","summary":"<p>accepts any hash or named tuple example: Ifrit.as_sym_hash(hash, String | Int32)</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"sym_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash_cast(\n{{ hash }}\n, Symbol, \n{{ types }}\n)\n    \n"}},{"id":"typed_array(arr,klass)-macro","html_id":"typed_array(arr,klass)-macro","name":"typed_array","doc":"accepts arrayliteral","summary":"<p>accepts arrayliteral</p>","abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(arr, klass)","source_link":null,"def":{"name":"typed_array","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        [\n        \n{% for v in arr %}\n          {{ v }}.as({{ klass }}),\n        {% end %}\n\n        ]\n      \nend\n    \n"}},{"id":"typed_array_cast(arr,klass)-macro","html_id":"typed_array_cast(arr,klass)-macro","name":"typed_array_cast","doc":"accepts any array","summary":"<p>accepts any array</p>","abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(arr, klass)","source_link":null,"def":{"name":"typed_array_cast","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        array = [] of \n{{ klass }}\n\n        \n{{ arr }}\n.each \n{ |e| array << \ne.as(\n{{ klass }}\n) }\n        array\n      \nend\n    \n"}},{"id":"typed_hash(hash,key,types)-macro","html_id":"typed_hash(hash,key,types)-macro","name":"typed_hash","doc":"accepts only hash literals\nexample: Ifrit.typed_hash({\"a\" => 1, \"b\" => \"b\"}, String, Int32 | String)","summary":"<p>accepts only hash literals example: Ifrit.typed_hash({\"a\" => 1, \"b\" => \"b\"}, String, Int32 | String)</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, key, types)","source_link":null,"def":{"name":"typed_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_53 = \n{} of \n{{ key.id }}\n => \n{{ types.id }}\n\n        \n{% type = key.resolve %}\n\n        \n{% for k, v in hash %}\n          {% if k.is_a?(MacroId) %}\n            {% if type.union? %}\n              {% p(type.union_types) %}\n              {% if type.union_types.includes?(String) %}\n                {% name = k.stringify %}\n              {% else %}{% if type.union_types.includes?(Symbol) %}\n                {% name = \":#{k}\".id %}\n              {% else %}\n                {% name = k %}\n              {% end %}{% end %}\n            {% else %}{% if type == String %}\n              {% name = \"#{k}\" %}\n            {% else %}{% if type == Symbol %}\n              {% name = \":#{k}\".id %}\n            {% else %}\n              {% name = k %}\n            {% end %}{% end %}{% end %}\n          {% else %}\n            {% name = k %}\n          {% end %}\n          __temp_53[{{ name }}] = {{ v }}.as({{ types.id }})\n        {% end %}\n\n        __temp_53\n      \nend\n    \n"}},{"id":"typed_hash_cast(hash,key,types)-macro","html_id":"typed_hash_cast(hash,key,types)-macro","name":"typed_hash_cast","doc":"accepts any hash","summary":"<p>accepts any hash</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, key, types)","source_link":null,"def":{"name":"typed_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_54 = \n{} of \n{{ key }}\n => \n{{ types.id }}\n\n        \n{{ hash.id }}\n.each \n{ |k, v| __temp_54[k.as(\n{{ key }}\n)] = v.as(\n{{ types.id }}\n) }\n        __temp_54\n      \nend\n    \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/QueryObject","path":"Jennifer/QueryBuilder/QueryObject.html","kind":"struct","full_name":"Jennifer::QueryBuilder::QueryObject","name":"QueryObject","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/imdrasil/jennifer.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/query_object.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(relation)-class-method","html_id":"new(relation)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"args_string":"(relation)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr#L6","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr#L6","def":{"name":"new","args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(relation,*options)-class-method","html_id":"new(relation,*options)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"args_string":"(relation, *options)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr#L10","def":{"name":"new","args":[{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""},{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""}],"double_splat":null,"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(relation, *options)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"call-instance-method","html_id":"call-instance-method","name":"call","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr#L14","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr#L14","def":{"name":"call","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"params:Array(Jennifer::DBAny)-instance-method","html_id":"params:Array(Jennifer::DBAny)-instance-method","name":"params","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Jennifer::DBAny)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr#L4","def":{"name":"params","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Jennifer::DBAny)","visibility":"Public","body":"@params"}},{"id":"relation:Jennifer::QueryBuilder::IModelQuery-instance-method","html_id":"relation:Jennifer::QueryBuilder::IModelQuery-instance-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Jennifer::QueryBuilder::IModelQuery","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/query_object.cr#L4","def":{"name":"relation","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Jennifer::QueryBuilder::IModelQuery","visibility":"Public","body":"@relation"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/RawSql","path":"Jennifer/QueryBuilder/RawSql.html","kind":"class","full_name":"Jennifer::QueryBuilder::RawSql","name":"RawSql","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/raw_sql.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(field,args:Array=[]ofDB::Any,use_brackets=true)-class-method","html_id":"new(field,args:Array=[]ofDB::Any,use_brackets=true)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":"Array"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":""}],"args_string":"(field, args : Array = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">DB</span><span class=\"t\">::</span><span class=\"t\">Any</span>, use_brackets = <span class=\"n\">true</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L10","def":{"name":"new","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"args","doc":null,"default_value":"[] of DB::Any","external_name":"args","restriction":"Array"},{"name":"use_brackets","doc":null,"default_value":"true","external_name":"use_brackets","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(field, args, use_brackets)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(field,use_brackets)-class-method","html_id":"new(field,use_brackets)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"use_brackets","doc":null,"default_value":"","external_name":"use_brackets","restriction":""}],"args_string":"(field, use_brackets)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L15","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L15","def":{"name":"new","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"use_brackets","doc":null,"default_value":"","external_name":"use_brackets","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(field, use_brackets)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L28","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L28","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L8","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"identifier-instance-method","html_id":"identifier-instance-method","name":"identifier","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L30","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L30","def":{"name":"identifier","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@use_brackets ? (\"(\" + @field) + \")\" : @field"}},{"id":"sql_args:Array(Bool|Float32|Float64|Int32|Int64|Slice(UInt8)|String|Time|Nil)-instance-method","html_id":"sql_args:Array(Bool|Float32|Float64|Int32|Int64|Slice(UInt8)|String|Time|Nil)-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Bool | Float32 | Float64 | Int32 | Int64 | Slice(UInt8) | String | Time | Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L34","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L34","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@params"}},{"id":"sql_args_count-instance-method","html_id":"sql_args_count-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L38","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L38","def":{"name":"sql_args_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@params.size"}},{"id":"with_brackets-instance-method","html_id":"with_brackets-instance-method","name":"with_brackets","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L20","def":{"name":"with_brackets","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@use_brackets = true"}},{"id":"without_brackets-instance-method","html_id":"without_brackets-instance-method","name":"without_brackets","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L24","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/raw_sql.cr#L24","def":{"name":"without_brackets","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@use_brackets = false"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","path":"Jennifer/QueryBuilder/SQLNode.html","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/sql_node.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/All","kind":"class","full_name":"Jennifer::QueryBuilder::All","name":"All"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Any","kind":"class","full_name":"Jennifer::QueryBuilder::Any","name":"Any"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Grouping","kind":"class","full_name":"Jennifer::QueryBuilder::Grouping","name":"Grouping"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"alias_tables(aliases)-instance-method","html_id":"alias_tables(aliases)-instance-method","name":"alias_tables","doc":null,"summary":null,"abstract":false,"args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"args_string":"(aliases)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L14","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L14","def":{"name":"alias_tables","args":[{"name":"aliases","doc":null,"default_value":"","external_name":"aliases","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"as_sql-instance-method","html_id":"as_sql-instance-method","name":"as_sql","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L4","def":{"name":"as_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"change_table(old_name,new_name)-instance-method","html_id":"change_table(old_name,new_name)-instance-method","name":"change_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"args_string":"(old_name, new_name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L17","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L17","def":{"name":"change_table","args":[{"name":"old_name","doc":null,"default_value":"","external_name":"old_name","restriction":""},{"name":"new_name","doc":null,"default_value":"","external_name":"new_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"set_relation(table,name)-instance-method","html_id":"set_relation(table,name)-instance-method","name":"set_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(table, name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L11","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L11","def":{"name":"set_relation","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"sql_args:Array-instance-method","html_id":"sql_args:Array-instance-method","name":"sql_args","doc":null,"summary":null,"abstract":true,"args":[],"args_string":" : Array","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L5","def":{"name":"sql_args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array","visibility":"Public","body":""}},{"id":"sql_args_count:Int32-instance-method","html_id":"sql_args_count:Int32-instance-method","name":"sql_args_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/sql_node.cr#L7","def":{"name":"sql_args_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32","visibility":"Public","body":"sql_args.size"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Star","path":"Jennifer/QueryBuilder/Star.html","kind":"class","full_name":"Jennifer::QueryBuilder::Star","name":"Star","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Criteria","kind":"class","full_name":"Jennifer::QueryBuilder::Criteria","name":"Criteria"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/SQLNode","kind":"class","full_name":"Jennifer::QueryBuilder::SQLNode","name":"SQLNode"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/star.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/star.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table:String)-class-method","html_id":"new(table:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"}],"args_string":"(table : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/star.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/star.cr#L4","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/Xor","path":"Jennifer/QueryBuilder/Xor.html","kind":"class","full_name":"Jennifer::QueryBuilder::Xor","name":"Xor","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator","kind":"class","full_name":"Jennifer::QueryBuilder::LogicOperator","name":"LogicOperator"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder/LogicOperator/Operators","kind":"module","full_name":"Jennifer::QueryBuilder::LogicOperator::Operators","name":"Operators"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/query_builder/logic_operator.cr","line_number":104,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"OPERATOR","value":"\"XOR\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/QueryBuilder","kind":"module","full_name":"Jennifer::QueryBuilder","name":"QueryBuilder"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L107","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L107","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}},{"id":"operator-instance-method","html_id":"operator-instance-method","name":"operator","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L109","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/query_builder/logic_operator.cr#L109","def":{"name":"operator","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"OPERATOR"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Record","path":"Jennifer/Record.html","kind":"struct","full_name":"Jennifer::Record","name":"Record","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/imdrasil/jennifer.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/adapter/record.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(attributes:Hash(String,DBAny))-class-method","html_id":"new(attributes:Hash(String,DBAny))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"attributes","doc":null,"default_value":"","external_name":"attributes","restriction":"Hash(String, DBAny)"}],"args_string":"(attributes : Hash(String, DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L5","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L5","def":{"name":"new","args":[{"name":"attributes","doc":null,"default_value":"","external_name":"attributes","restriction":"Hash(String, DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(attributes)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(result_set:DB::ResultSet)-class-method","html_id":"new(result_set:DB::ResultSet)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"result_set","doc":null,"default_value":"","external_name":"result_set","restriction":"DB::ResultSet"}],"args_string":"(result_set : DB::ResultSet)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L8","def":{"name":"new","args":[{"name":"result_set","doc":null,"default_value":"","external_name":"result_set","restriction":"DB::ResultSet"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(result_set)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L12","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](name:Symbol|String)-instance-method","html_id":"[](name:Symbol|String)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol | String"}],"args_string":"(name : Symbol | String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L20","def":{"name":"[]","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol | String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"attribute(name)"}},{"id":"attribute(name:String|Symbol,type:T.class):TforallT-instance-method","html_id":"attribute(name:String|Symbol,type:T.class):TforallT-instance-method","name":"attribute","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"T.class"}],"args_string":"(name : String | Symbol, type : T.class) : T forall T","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L32","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L32","def":{"name":"attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | Symbol"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"value = @attributes[name.to_s]\nif value.is_a?(T)\n  value\nelse\n  raise(BaseException.new(\"Field \\\"#{name}\\\" (#{value.class}) is not of type #{T}.\"))\nend\n"}},{"id":"attribute(name:String)-instance-method","html_id":"attribute(name:String)-instance-method","name":"attribute","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L24","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L24","def":{"name":"attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@attributes[name]"}},{"id":"attribute(name:Symbol)-instance-method","html_id":"attribute(name:Symbol)-instance-method","name":"attribute","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L28","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L28","def":{"name":"attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@attributes[name.to_s]"}},{"id":"attributes:Hash(String,Array(Char)|Array(Float32)|Array(Float64)|Array(Int16)|Array(Int32)|Array(Int64)|Array(String)|Bool|Char|Float32|Float64|Int16|Int32|Int64|JSON::Any|PG::Geo::Box|PG::Geo::Circle|PG::Geo::Line|PG::Geo::LineSegment|PG::Geo::Path|PG::Geo::Point|PG::Geo::Polygon|PG::Numeric|Slice(UInt8)|String|Time|UInt32|Nil)-instance-method","html_id":"attributes:Hash(String,Array(Char)|Array(Float32)|Array(Float64)|Array(Int16)|Array(Int32)|Array(Int64)|Array(String)|Bool|Char|Float32|Float64|Int16|Int32|Int64|JSON::Any|PG::Geo::Box|PG::Geo::Circle|PG::Geo::Line|PG::Geo::LineSegment|PG::Geo::Path|PG::Geo::Point|PG::Geo::Polygon|PG::Numeric|Slice(UInt8)|String|Time|UInt32|Nil)-instance-method","name":"attributes","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Array(Char) | Array(Float32) | Array(Float64) | Array(Int16) | Array(Int32) | Array(Int64) | Array(String) | Bool | Char | Float32 | Float64 | Int16 | Int32 | Int64 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | UInt32 | Nil)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L3","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L3","def":{"name":"attributes","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@attributes"}},{"id":"fields-instance-method","html_id":"fields-instance-method","name":"fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L16","def":{"name":"fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@attributes.keys"}}],"macros":[{"id":"method_missing(call)-macro","html_id":"method_missing(call)-macro","name":"method_missing","doc":null,"summary":null,"abstract":false,"args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"args_string":"(call)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/record.cr#L41","def":{"name":"method_missing","args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      \n{% if call.args.size == 0 %}\n        def {{ call.name.id }}\n          @attributes[{{ call.name.id.stringify }}]\n        end\n      {% else %}{% if call.args.size == 1 %}\n        def {{ call.name.id }}(type : T.class) : T forall T\n          attribute({{ call.name.stringify }}, T)\n        end\n      {% end %}{% end %}\n\n    \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordExists","path":"Jennifer/RecordExists.html","kind":"class","full_name":"Jennifer::RecordExists","name":"RecordExists","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":94,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(record,relation)-class-method","html_id":"new(record,relation)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"args_string":"(record, relation)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L95","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L95","def":{"name":"new","args":[{"name":"record","doc":null,"default_value":"","external_name":"record","restriction":""},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(record, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordInvalid","path":"Jennifer/RecordInvalid.html","kind":"class","full_name":"Jennifer::RecordInvalid","name":"RecordInvalid","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":79,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(errors:Accord::ErrorList)-class-method","html_id":"new(errors:Accord::ErrorList)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"errors","doc":null,"default_value":"","external_name":"errors","restriction":"Accord::ErrorList"}],"args_string":"(errors : Accord::ErrorList)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L82","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L82","def":{"name":"new","args":[{"name":"errors","doc":null,"default_value":"","external_name":"errors","restriction":"Accord::ErrorList"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(errors)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"errors:Accord::ErrorList-instance-method","html_id":"errors:Accord::ErrorList-instance-method","name":"errors","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Accord::ErrorList","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L80","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L80","def":{"name":"errors","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@errors"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/RecordNotFound","path":"Jennifer/RecordNotFound.html","kind":"class","full_name":"Jennifer::RecordNotFound","name":"RecordNotFound","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":57,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(query)-class-method","html_id":"new(query)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"args_string":"(query)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L58","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L58","def":{"name":"new","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(query)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","path":"Jennifer/Relation.html","kind":"module","full_name":"Jennifer::Relation","name":"Relation","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/relation/base.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr"},{"filename":"jennifer/relation/belongs_to.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr"},{"filename":"jennifer/relation/has_many.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_many.cr"},{"filename":"jennifer/relation/has_one.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_one.cr"},{"filename":"jennifer/relation/many_to_many.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","path":"Jennifer/Relation/Base.html","kind":"class","full_name":"Jennifer::Relation::Base(T, Q)","name":"Base","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/base.cr","line_number":18,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/BelongsTo","kind":"class","full_name":"Jennifer::Relation::BelongsTo(T, Q)","name":"BelongsTo"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/HasMany","kind":"class","full_name":"Jennifer::Relation::HasMany(T, Q)","name":"HasMany"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/HasOne","kind":"class","full_name":"Jennifer::Relation::HasOne(T, Q)","name":"HasOne"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/ManyToMany","kind":"class","full_name":"Jennifer::Relation::ManyToMany(T, Q)","name":"ManyToMany"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":"T - related model\nQ - parent model","summary":"<p>T - related model Q - parent model</p>","class_methods":[],"constructors":[{"id":"new(name,foreign:String|Symbol?,primary:String|Symbol?,query:QueryBuilder::Query,through=nil)-class-method","html_id":"new(name,foreign:String|Symbol?,primary:String|Symbol?,query:QueryBuilder::Query,through=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":"String | Symbol | ::Nil"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"String | Symbol | ::Nil"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"},{"name":"through","doc":null,"default_value":"nil","external_name":"through","restriction":""}],"args_string":"(name, foreign : String | Symbol?, primary : String | Symbol?, query : QueryBuilder::Query, through = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L24","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L24","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":"String | Symbol | ::Nil"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"String | Symbol | ::Nil"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"QueryBuilder::Query"},{"name":"through","doc":null,"default_value":"nil","external_name":"through","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = Base(T, Q).allocate\n_.initialize(name, foreign, primary, query, through)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"condition_clause(ids:Array)-instance-method","html_id":"condition_clause(ids:Array)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"args_string":"(ids : Array)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L42","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L42","def":{"name":"condition_clause","args":[{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tree = (T.c(foreign_field)).in(ids)\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"condition_clause(id)-instance-method","html_id":"condition_clause(id)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L47","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L47","def":{"name":"condition_clause","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tree = (T.c(foreign_field)) == id\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"condition_clause-instance-method","html_id":"condition_clause-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L35","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L35","def":{"name":"condition_clause","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_foreign = foreign_field\n_primary = primary_field\ntree = (T.c(_foreign, @name)) == (Q.c(_primary))\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"foreign:String?-instance-method","html_id":"foreign:String?-instance-method","name":"foreign","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L20","def":{"name":"foreign","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@foreign"}},{"id":"foreign_field-instance-method","html_id":"foreign_field-instance-method","name":"foreign_field","doc":"Foreign key on ~T~ model side","summary":"<p>Foreign key on ~T~ model side</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L90","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L90","def":{"name":"foreign_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@foreign || (@foreign = Q.singular_table_name + \"_id\")"}},{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L74","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L74","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"rel.set_attribute(foreign_field, obj.attribute(primary_field))\nrel.save!\nrel\n"}},{"id":"insert(obj:Q,rel:Hash(Symbol,Jennifer::DBAny))-instance-method","html_id":"insert(obj:Q,rel:Hash(Symbol,Jennifer::DBAny))-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(Symbol, Jennifer::DBAny)"}],"args_string":"(obj : Q, rel : Hash(Symbol, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L70","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L70","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(Symbol, Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"insert(obj, stringify_hash(rel, Jennifer::DBAny))"}},{"id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","html_id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"args_string":"(obj : Q, rel : Hash(String, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L65","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L65","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"rel[foreign_field] = obj.attribute(primary_field)\nT.create!(rel)\n"}},{"id":"join_condition(query,type)-instance-method","html_id":"join_condition(query,type)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(query, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L52","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L52","def":{"name":"join_condition","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\nquery.join(model_class, type: type, relation: @name) do |eb|\n  this.condition_clause.not_nil!\nend\n"}},{"id":"join_query:QueryBuilder::Condition|QueryBuilder::LogicOperator|Nil-instance-method","html_id":"join_query:QueryBuilder::Condition|QueryBuilder::LogicOperator|Nil-instance-method","name":"join_query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : QueryBuilder::Condition | QueryBuilder::LogicOperator | Nil","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L19","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L19","def":{"name":"join_query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"QueryBuilder::Condition | QueryBuilder::LogicOperator | ::Nil","visibility":"Public","body":"@join_query"}},{"id":"model_class-instance-method","html_id":"model_class-instance-method","name":"model_class","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L31","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L31","def":{"name":"model_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"T"}},{"id":"primary:String?-instance-method","html_id":"primary:String?-instance-method","name":"primary","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L20","def":{"name":"primary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@primary"}},{"id":"primary_field-instance-method","html_id":"primary_field-instance-method","name":"primary_field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L94","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L94","def":{"name":"primary_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@primary || (@primary = Q.primary_field_name)"}},{"id":"query(primary_value)-instance-method","html_id":"query(primary_value)-instance-method","name":"query","doc":"Returns query for given primary field values","summary":"<p>Returns query for given primary field values</p>","abstract":false,"args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"args_string":"(primary_value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L60","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L60","def":{"name":"query","args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"condition = condition_clause(primary_value)\nT.where do\n  condition\nend\n"}},{"id":"remove(obj:Q,rel:T)-instance-method","html_id":"remove(obj:Q,rel:T)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L80","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L80","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (rel.attribute(foreign_field)) == (obj.attribute(primary_field))\n  rel.update_column(foreign_field, nil)\nend\nrel\n"}},{"id":"table_name-instance-method","html_id":"table_name-instance-method","name":"table_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L85","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L85","def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"T.table_name"}},{"id":"through:Symbol?-instance-method","html_id":"through:Symbol?-instance-method","name":"through","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbol?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L20","def":{"name":"through","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbol | ::Nil","visibility":"Public","body":"@through"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/BelongsTo","path":"Jennifer/Relation/BelongsTo.html","kind":"class","full_name":"Jennifer::Relation::BelongsTo(T, Q)","name":"BelongsTo","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/belongs_to.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(*opts)-class-method","html_id":"new(*opts)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L4","def":{"name":"new","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = BelongsTo(T, Q).allocate\n_.initialize(*opts)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"condition_clause(id)-instance-method","html_id":"condition_clause(id)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"args_string":"(id)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L15","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L15","def":{"name":"condition_clause","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_tree = (T.c(primary_field)) == id\n@join_query ? _tree & @join_query.not_nil!.clone : _tree\n"}},{"id":"condition_clause-instance-method","html_id":"condition_clause-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L8","def":{"name":"condition_clause","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_foreign = foreign_field\n_primary = primary_field\ntree = (T.c(_primary, @name)) == (Q.c(_foreign))\n@join_query ? tree & @join_query.not_nil!.clone : tree\n"}},{"id":"foreign_field-instance-method","html_id":"foreign_field-instance-method","name":"foreign_field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L99","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L99","def":{"name":"foreign_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@foreign || (@foreign = T.singular_table_name + \"_id\")"}},{"id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","html_id":"insert(obj:Q,rel:Hash(String,Jennifer::DBAny))-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"args_string":"(obj : Q, rel : Hash(String, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L77","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L77","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash(String, Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"main_obj = T.create!(rel)\nobj.update_column(foreign_field, main_obj.attribute(primary_field))\nmain_obj\n"}},{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L83","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L83","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if obj.attribute(foreign_field).nil?\nelse\n  raise(BaseException.new(\"Object already belongs to another object\"))\nend\nobj.set_attribute(foreign_field, rel.attribute(primary_field))\nif rel.new_record?\n  rel.save!\nend\nrel\n"}},{"id":"join_condition(query,type)-instance-method","html_id":"join_condition(query,type)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(query, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L20","def":{"name":"join_condition","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\nquery.join(model_class, type: type, relation: @name) do |eb|\n  this.condition_clause.not_nil!\nend\n"}},{"id":"join_condition(query,type,&block)-instance-method","html_id":"join_condition(query,type,&amp;block)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(query, type, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L27","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L27","def":{"name":"join_condition","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\nquery.join(model_class, type: type, relation: @name) do |eb|\n  this.condition_clause.not_nil! & (yield eb)\nend\n"}},{"id":"primary_field-instance-method","html_id":"primary_field-instance-method","name":"primary_field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L103","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L103","def":{"name":"primary_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@primary || (@primary = T.primary_field_name)"}},{"id":"query(primary_value)-instance-method","html_id":"query(primary_value)-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"args_string":"(primary_value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L54","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L54","def":{"name":"query","args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"condition = condition_clause(primary_value)\nT.where do\n  condition\nend\n"}},{"id":"remove(obj:Q,rel:T)-instance-method","html_id":"remove(obj:Q,rel:T)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L90","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L90","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (obj.attribute(foreign_field)) == (rel.attribute(primary_field))\n  obj.update_column(foreign_field, nil)\nend\nrel\n"}},{"id":"remove(obj:Q)-instance-method","html_id":"remove(obj:Q)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"}],"args_string":"(obj : Q)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L95","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/belongs_to.cr#L95","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"obj.update_column(foreign_field, nil)"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/HasMany","path":"Jennifer/Relation/HasMany.html","kind":"class","full_name":"Jennifer::Relation::HasMany(T, Q)","name":"HasMany","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/has_many.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_many.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(*opts)-class-method","html_id":"new(*opts)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_many.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_many.cr#L4","def":{"name":"new","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = HasMany(T, Q).allocate\n_.initialize(*opts)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_many.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_many.cr#L8","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"rel.set_attribute(foreign_field, obj.attribute(primary_field))\nrel.save!\nrel\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/HasOne","path":"Jennifer/Relation/HasOne.html","kind":"class","full_name":"Jennifer::Relation::HasOne(T, Q)","name":"HasOne","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/has_one.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_one.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(*opts)-class-method","html_id":"new(*opts)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(*opts)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_one.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_one.cr#L4","def":{"name":"new","args":[{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = HasOne(T, Q).allocate\n_.initialize(*opts)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_one.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_one.cr#L8","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if obj.attribute(foreign_field).nil?\nelse\n  raise(BaseException.new(\"Object already has one another object\"))\nend\nsuper(obj, rel)\n"}},{"id":"remove(obj:Q)-instance-method","html_id":"remove(obj:Q)-instance-method","name":"remove","doc":"TODO: find way to update exactly one record, not all","summary":"<p><span class=\"flag orange\">TODO</span>  find way to update exactly one record, not all</p>","abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"}],"args_string":"(obj : Q)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_one.cr#L14","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/has_one.cr#L14","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\n_pf = obj.attribute(primary_field)\nT.all.where do\n  (T.c(this.foreign_field)) == _pf\nend.update({foreign_field => nil})\n"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","path":"Jennifer/Relation/IRelation.html","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/base.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Ifrit","kind":"module","full_name":"Ifrit","name":"Ifrit"}],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base(T, Q)","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/StubRelation","kind":"class","full_name":"Jennifer::StubRelation","name":"StubRelation"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"condition_clause(a)-instance-method","html_id":"condition_clause(a)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":true,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"args_string":"(a)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L10","def":{"name":"condition_clause","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"condition_clause-instance-method","html_id":"condition_clause-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L9","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L9","def":{"name":"condition_clause","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"insert(a,b)-instance-method","html_id":"insert(a,b)-instance-method","name":"insert","doc":null,"summary":null,"abstract":true,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"args_string":"(a, b)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L13","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L13","def":{"name":"insert","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"join_condition(a,b)-instance-method","html_id":"join_condition(a,b)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":true,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"args_string":"(a, b)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L11","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L11","def":{"name":"join_condition","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"join_query-instance-method","html_id":"join_query-instance-method","name":"join_query","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L8","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L8","def":{"name":"join_query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"model_class-instance-method","html_id":"model_class-instance-method","name":"model_class","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L7","def":{"name":"model_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"query(a)-instance-method","html_id":"query(a)-instance-method","name":"query","doc":null,"summary":null,"abstract":true,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"args_string":"(a)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L12","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L12","def":{"name":"query","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"table_name-instance-method","html_id":"table_name-instance-method","name":"table_name","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L6","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/base.cr#L6","def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[{"id":"str_hash(hash,types)-macro","html_id":"str_hash(hash,types)-macro","name":"str_hash","doc":"accepts hash literal","summary":"<p>accepts hash literal</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"str_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash(\n{{ hash }}\n, String, \n{{ types }}\n)\n    \n"}},{"id":"str_hash_cast(hash,types)-macro","html_id":"str_hash_cast(hash,types)-macro","name":"str_hash_cast","doc":null,"summary":null,"abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"str_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash_cast(\n{{ hash }}\n, String, \n{{ types }}\n)\n    \n"}},{"id":"stringify_hash(hash,types)-macro","html_id":"stringify_hash(hash,types)-macro","name":"stringify_hash","doc":"accepts any hash","summary":"<p>accepts any hash</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"stringify_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_57 = \n{} of String =>\n{{ types }}\n\n        \n{{ hash }}\n.each do |k, v|\n          __temp_57[k.to_s] = v.as(\n{{ types }}\n)\n        \nend\n        __temp_57\n      \nend\n    \n"}},{"id":"sym_hash(hash,types)-macro","html_id":"sym_hash(hash,types)-macro","name":"sym_hash","doc":"accepts hash literal","summary":"<p>accepts hash literal</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"sym_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash(\n{{ hash }}\n, Symbol, \n{{ types }}\n)\n    \n"}},{"id":"sym_hash_cast(hash,types)-macro","html_id":"sym_hash_cast(hash,types)-macro","name":"sym_hash_cast","doc":"accepts any hash or named tuple\nexample: Ifrit.as_sym_hash(hash, String | Int32)","summary":"<p>accepts any hash or named tuple example: Ifrit.as_sym_hash(hash, String | Int32)</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"sym_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash_cast(\n{{ hash }}\n, Symbol, \n{{ types }}\n)\n    \n"}},{"id":"typed_array(arr,klass)-macro","html_id":"typed_array(arr,klass)-macro","name":"typed_array","doc":"accepts arrayliteral","summary":"<p>accepts arrayliteral</p>","abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(arr, klass)","source_link":null,"def":{"name":"typed_array","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        [\n        \n{% for v in arr %}\n          {{ v }}.as({{ klass }}),\n        {% end %}\n\n        ]\n      \nend\n    \n"}},{"id":"typed_array_cast(arr,klass)-macro","html_id":"typed_array_cast(arr,klass)-macro","name":"typed_array_cast","doc":"accepts any array","summary":"<p>accepts any array</p>","abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(arr, klass)","source_link":null,"def":{"name":"typed_array_cast","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        array = [] of \n{{ klass }}\n\n        \n{{ arr }}\n.each \n{ |e| array << \ne.as(\n{{ klass }}\n) }\n        array\n      \nend\n    \n"}},{"id":"typed_hash(hash,key,types)-macro","html_id":"typed_hash(hash,key,types)-macro","name":"typed_hash","doc":"accepts only hash literals\nexample: Ifrit.typed_hash({\"a\" => 1, \"b\" => \"b\"}, String, Int32 | String)","summary":"<p>accepts only hash literals example: Ifrit.typed_hash({\"a\" => 1, \"b\" => \"b\"}, String, Int32 | String)</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, key, types)","source_link":null,"def":{"name":"typed_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_57 = \n{} of \n{{ key.id }}\n => \n{{ types.id }}\n\n        \n{% type = key.resolve %}\n\n        \n{% for k, v in hash %}\n          {% if k.is_a?(MacroId) %}\n            {% if type.union? %}\n              {% p(type.union_types) %}\n              {% if type.union_types.includes?(String) %}\n                {% name = k.stringify %}\n              {% else %}{% if type.union_types.includes?(Symbol) %}\n                {% name = \":#{k}\".id %}\n              {% else %}\n                {% name = k %}\n              {% end %}{% end %}\n            {% else %}{% if type == String %}\n              {% name = \"#{k}\" %}\n            {% else %}{% if type == Symbol %}\n              {% name = \":#{k}\".id %}\n            {% else %}\n              {% name = k %}\n            {% end %}{% end %}{% end %}\n          {% else %}\n            {% name = k %}\n          {% end %}\n          __temp_57[{{ name }}] = {{ v }}.as({{ types.id }})\n        {% end %}\n\n        __temp_57\n      \nend\n    \n"}},{"id":"typed_hash_cast(hash,key,types)-macro","html_id":"typed_hash_cast(hash,key,types)-macro","name":"typed_hash_cast","doc":"accepts any hash","summary":"<p>accepts any hash</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, key, types)","source_link":null,"def":{"name":"typed_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_58 = \n{} of \n{{ key }}\n => \n{{ types.id }}\n\n        \n{{ hash.id }}\n.each \n{ |k, v| __temp_58[k.as(\n{{ key }}\n)] = v.as(\n{{ types.id }}\n) }\n        __temp_58\n      \nend\n    \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/ManyToMany","path":"Jennifer/Relation/ManyToMany.html","kind":"class","full_name":"Jennifer::Relation::ManyToMany(T, Q)","name":"ManyToMany","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/Base","kind":"class","full_name":"Jennifer::Relation::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/relation/many_to_many.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation","kind":"module","full_name":"Jennifer::Relation","name":"Relation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name,foreign:String|Symbol?,primary:String|Symbol?,query,join_table=nil,_join_foreign=nil)-class-method","html_id":"new(name,foreign:String|Symbol?,primary:String|Symbol?,query,join_table=nil,_join_foreign=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":"String | Symbol | ::Nil"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"String | Symbol | ::Nil"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"_join_foreign","doc":null,"default_value":"nil","external_name":"_join_foreign","restriction":""}],"args_string":"(name, foreign : String | Symbol?, primary : String | Symbol?, query, join_table = <span class=\"n\">nil</span>, _join_foreign = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L6","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L6","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign","doc":null,"default_value":"","external_name":"foreign","restriction":"String | Symbol | ::Nil"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"String | Symbol | ::Nil"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"join_table","doc":null,"default_value":"nil","external_name":"join_table","restriction":""},{"name":"_join_foreign","doc":null,"default_value":"nil","external_name":"_join_foreign","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = ManyToMany(T, Q).allocate\n_.initialize(name, foreign, primary, query, join_table, _join_foreign)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"association_foreign:String?-instance-method","html_id":"association_foreign:String?-instance-method","name":"association_foreign","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L4","def":{"name":"association_foreign","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@association_foreign"}},{"id":"association_foreign_key-instance-method","html_id":"association_foreign_key-instance-method","name":"association_foreign_key","doc":"Stands for","summary":"<p>Stands for</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L71","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L71","def":{"name":"association_foreign_key","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@association_foreign || T.to_s.foreign_key"}},{"id":"insert(obj:Q,rel:Hash)-instance-method","html_id":"insert(obj:Q,rel:Hash)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash"}],"args_string":"(obj : Q, rel : Hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L19","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L19","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"Hash"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new_obj = T.create!(rel)\nadd_join_table_record(obj, new_obj)\nnew_obj\n"}},{"id":"insert(obj:Q,rel:T)-instance-method","html_id":"insert(obj:Q,rel:T)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L25","def":{"name":"insert","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if rel.new_record?\n  rel.save!\nend\nadd_join_table_record(obj, rel)\nrel\n"}},{"id":"join_condition(query,type)-instance-method","html_id":"join_condition(query,type)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":false,"args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(query, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L54","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L54","def":{"name":"join_condition","args":[{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_foreign = foreign_field\n_primary = primary_field\njt = @join_table.not_nil!\njtk = @association_foreign || T.to_s.foreign_key\nq = (query.join(jt, type: type) do\n  (Q.c(_primary)) == (c(_foreign))\nend).join(T, type: type) do\n  T.primary == (c(jtk, jt))\nend\nif @join_query\n  _tree = @join_query.not_nil!\n  q.where do\n    _tree\n  end\nelse\n  q\nend\n"}},{"id":"join_table:String?-instance-method","html_id":"join_table:String?-instance-method","name":"join_table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L4","def":{"name":"join_table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@join_table"}},{"id":"join_table!-instance-method","html_id":"join_table!-instance-method","name":"join_table!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L15","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L15","def":{"name":"join_table!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@join_table.not_nil!"}},{"id":"query(primary_value)-instance-method","html_id":"query(primary_value)-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"args_string":"(primary_value)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L41","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L41","def":{"name":"query","args":[{"name":"primary_value","doc":null,"default_value":"","external_name":"primary_value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"afk = association_foreign_key\n_primary_value = primary_value\nmfk = foreign_field\nq = T.all.join(join_table!) do\n  ((c(afk)) == T.primary) & ((c(mfk)) == _primary_value)\nend\nif @join_query\n  _tree = @join_query.not_nil!\n  q.where do\n    _tree\n  end\nelse\n  q\nend\n"}},{"id":"remove(obj:Q,rel:T)-instance-method","html_id":"remove(obj:Q,rel:T)-instance-method","name":"remove","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"args_string":"(obj : Q, rel : T)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L31","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/relation/many_to_many.cr#L31","def":{"name":"remove","args":[{"name":"obj","doc":null,"default_value":"","external_name":"obj","restriction":"Q"},{"name":"rel","doc":null,"default_value":"","external_name":"rel","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"this = self\nprimary_value = obj.attribute(primary_field)\nassociation_primary_value = rel.primary\n(QueryBuilder::Query.new(join_table!)).where do\n  ((c(this.foreign_field)) == primary_value) & ((c(this.association_foreign_key)) == association_primary_value)\nend.delete\nrel\n"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Skip","path":"Jennifer/Skip.html","kind":"class","full_name":"Jennifer::Skip","name":"Skip","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":88,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":"Exception class to stoping model callback invoking.","summary":"<p>Exception class to stoping model callback invoking.</p>","class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L89","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L89","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/StubRelation","path":"Jennifer/StubRelation.html","kind":"class","full_name":"Jennifer::StubRelation","name":"StubRelation","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Relation/IRelation","kind":"class","full_name":"Jennifer::Relation::IRelation","name":"IRelation"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer.cr","line_number":30,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"condition_clause(a)-instance-method","html_id":"condition_clause(a)-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"args_string":"(a)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L47","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L47","def":{"name":"condition_clause","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"condition_clause-instance-method","html_id":"condition_clause-instance-method","name":"condition_clause","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","def":{"name":"condition_clause","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"foreign_field-instance-method","html_id":"foreign_field-instance-method","name":"foreign_field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","def":{"name":"foreign_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"insert(a,b)-instance-method","html_id":"insert(a,b)-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"args_string":"(a, b)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L31","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L31","def":{"name":"insert","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"join_condition(a,b)-instance-method","html_id":"join_condition(a,b)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":false,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"args_string":"(a, b)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L35","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L35","def":{"name":"join_condition","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"join_condition(a,b,&block)-instance-method","html_id":"join_condition(a,b,&amp;block)-instance-method","name":"join_condition","doc":null,"summary":null,"abstract":false,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"args_string":"(a, b, &block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L39","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L39","def":{"name":"join_condition","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"join_query-instance-method","html_id":"join_query-instance-method","name":"join_query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","def":{"name":"join_query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"model_class-instance-method","html_id":"model_class-instance-method","name":"model_class","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","def":{"name":"model_class","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"primary_field-instance-method","html_id":"primary_field-instance-method","name":"primary_field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","def":{"name":"primary_field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"query(a)-instance-method","html_id":"query(a)-instance-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"args_string":"(a)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L43","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L43","def":{"name":"query","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"set_callback-instance-method","html_id":"set_callback-instance-method","name":"set_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","def":{"name":"set_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"table_name-instance-method","html_id":"table_name-instance-method","name":"table_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}},{"id":"type-instance-method","html_id":"type-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L51","def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(\"stubed relation\")"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/UnknownRelation","path":"Jennifer/UnknownRelation.html","kind":"class","full_name":"Jennifer::UnknownRelation","name":"UnknownRelation","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":63,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(owner,exception:KeyError)-class-method","html_id":"new(owner,exception:KeyError)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"owner","doc":null,"default_value":"","external_name":"owner","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":"KeyError"}],"args_string":"(owner, exception : KeyError)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L64","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L64","def":{"name":"new","args":[{"name":"owner","doc":null,"default_value":"","external_name":"owner","restriction":""},{"name":"exception","doc":null,"default_value":"","external_name":"exception","restriction":"KeyError"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(owner, exception)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(owner,relation)-class-method","html_id":"new(owner,relation)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"owner","doc":null,"default_value":"","external_name":"owner","restriction":""},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"args_string":"(owner, relation)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L68","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L68","def":{"name":"new","args":[{"name":"owner","doc":null,"default_value":"","external_name":"owner","restriction":""},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(owner, relation)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/UnknownSTIType","path":"Jennifer/UnknownSTIType.html","kind":"class","full_name":"Jennifer::UnknownSTIType","name":"UnknownSTIType","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/BaseException","kind":"class","full_name":"Jennifer::BaseException","name":"BaseException"},{"html_id":"github.com/imdrasil/jennifer.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/exceptions.cr","line_number":128,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(parent_klass,type)-class-method","html_id":"new(parent_klass,type)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"parent_klass","doc":null,"default_value":"","external_name":"parent_klass","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(parent_klass, type)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L129","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/exceptions.cr#L129","def":{"name":"new","args":[{"name":"parent_klass","doc":null,"default_value":"","external_name":"parent_klass","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(parent_klass, type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View","path":"Jennifer/View.html","kind":"module","full_name":"Jennifer::View","name":"View","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/view/experimental_mapping.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/experimental_mapping.cr"},{"filename":"jennifer/view/base.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr"},{"filename":"jennifer/view/materialized.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/materialized.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer","kind":"module","full_name":"Jennifer","name":"Jennifer"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Base","path":"Jennifer/View/Base.html","kind":"class","full_name":"Jennifer::View::Base","name":"Base","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/ExperimentalMapping","kind":"module","full_name":"Jennifer::View::ExperimentalMapping","name":"ExperimentalMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/view/base.cr","line_number":5,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/ExperimentalMapping","kind":"module","full_name":"Jennifer::View::ExperimentalMapping","name":"ExperimentalMapping"}],"extended_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Ifrit","kind":"module","full_name":"Ifrit","name":"Ifrit"}],"subclasses":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Materialized","kind":"class","full_name":"Jennifer::View::Materialized","name":"Materialized"}],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View","kind":"module","full_name":"Jennifer::View","name":"View"},"doc":null,"summary":null,"class_methods":[{"id":"adapter-class-method","html_id":"adapter-class-method","name":"adapter","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L70","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L70","def":{"name":"adapter","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Adapter.adapter"}},{"id":"all-class-method","html_id":"all-class-method","name":"all","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L51","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L51","def":{"name":"all","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"QueryBuilder::ModelQuery(self).new(table_name)"}},{"id":"build(values:Hash|NamedTuple,new_record:Bool)-class-method","html_id":"build(values:Hash|NamedTuple,new_record:Bool)-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":"Bool"}],"args_string":"(values : Hash | NamedTuple, new_record : Bool)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L47","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L47","def":{"name":"build","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash | NamedTuple"},{"name":"new_record","doc":null,"default_value":"","external_name":"new_record","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"build(values)"}},{"id":"build(pull:DB::ResultSet)-class-method","html_id":"build(pull:DB::ResultSet)-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"DB::ResultSet"}],"args_string":"(pull : DB::ResultSet)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L29","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L29","def":{"name":"build","args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"DB::ResultSet"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = new(pull)\no.__after_initialize_callback\no\n"}},{"id":"build(values:Hash(Symbol,Jennifer::DBAny)|NamedTuple)-class-method","html_id":"build(values:Hash(Symbol,Jennifer::DBAny)|NamedTuple)-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(Symbol, ::Jennifer::DBAny) | NamedTuple"}],"args_string":"(values : Hash(Symbol, Jennifer::DBAny) | NamedTuple)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L35","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L35","def":{"name":"build","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(Symbol, ::Jennifer::DBAny) | NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = new(values)\no.__after_initialize_callback\no\n"}},{"id":"build(values:Hash(String,Jennifer::DBAny))-class-method","html_id":"build(values:Hash(String,Jennifer::DBAny))-class-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"args_string":"(values : Hash(String, Jennifer::DBAny))","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L41","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L41","def":{"name":"build","args":[{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Hash(String, ::Jennifer::DBAny)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = new(values)\no.__after_initialize_callback\no\n"}},{"id":"c(name:String,relation)-class-method","html_id":"c(name:String,relation)-class-method","name":"c","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"args_string":"(name : String, relation)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L66","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L66","def":{"name":"c","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"relation","doc":null,"default_value":"","external_name":"relation","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::QueryBuilder::Criteria.new(name, table_name, relation)"}},{"id":"c(name)-class-method","html_id":"c(name)-class-method","name":"c","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L62","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L62","def":{"name":"c","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"::Jennifer::QueryBuilder::Criteria.new(name, table_name)"}},{"id":"table_name-class-method","html_id":"table_name-class-method","name":"table_name","doc":"NOTE: for query generating","summary":"<p><span class=\"flag purple\">NOTE</span>  for query generating</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L25","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L25","def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"view_name"}},{"id":"view_name(value:String)-class-method","html_id":"view_name(value:String)-class-method","name":"view_name","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(value : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L20","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L20","def":{"name":"view_name","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@view_name = value"}},{"id":"view_name-class-method","html_id":"view_name-class-method","name":"view_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L16","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L16","def":{"name":"view_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@view_name || (@@view_name = to_s.underscore.pluralize)"}},{"id":"views-class-method","html_id":"views-class-method","name":"views","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L88","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L88","def":{"name":"views","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% if true %}\n          {% if @type.all_subclasses.size > 1 %}\n            [{{ (@type.all_subclasses.join(\", \")).id }}] - [Jennifer::View::Materialized]\n          {% else %}\n            [] of Jennifer::View::Base.class\n          {% end %}\n        {% end %}"}},{"id":"where(&block)-class-method","html_id":"where(&amp;block)-class-method","name":"where","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L55","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L55","def":{"name":"where","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"ac = all\ntree = with ac.expression_builder yield\nac.set_tree(tree)\nac\n"}}],"constructors":[],"instance_methods":[{"id":"__after_initialize_callback-instance-method","html_id":"__after_initialize_callback-instance-method","name":"__after_initialize_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L82","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L82","def":{"name":"__after_initialize_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"true"}},{"id":"append_relation(name:String,hash)-instance-method","html_id":"append_relation(name:String,hash)-instance-method","name":"append_relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"args_string":"(name : String, hash)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L74","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L74","def":{"name":"append_relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(Jennifer::UnknownRelation.new(self.class, name))"}},{"id":"attribute(name)-instance-method","html_id":"attribute(name)-instance-method","name":"attribute","doc":null,"summary":null,"abstract":true,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L86","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L86","def":{"name":"attribute","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"relation_retrieved(name:String)-instance-method","html_id":"relation_retrieved(name:String)-instance-method","name":"relation_retrieved","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L78","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L78","def":{"name":"relation_retrieved","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(Jennifer::UnknownRelation.new(self.class, name))"}}],"macros":[{"id":"after_initialize(*names)-macro","html_id":"after_initialize(*names)-macro","name":"after_initialize","doc":null,"summary":null,"abstract":false,"args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"args_string":"(*names)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/base.cr#L10","def":{"name":"after_initialize","args":[{"name":"names","doc":null,"default_value":"","external_name":"names","restriction":""}],"double_splat":null,"splat_index":0,"block_arg":null,"visibility":"Public","body":"        \n{% for name in names %}\n          {% AFTER_INITIALIZE_CALLBACKS << name.id.stringify %}\n        {% end %}\n\n      \n"}},{"id":"str_hash(hash,types)-macro","html_id":"str_hash(hash,types)-macro","name":"str_hash","doc":"accepts hash literal","summary":"<p>accepts hash literal</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"str_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash(\n{{ hash }}\n, String, \n{{ types }}\n)\n    \n"}},{"id":"str_hash_cast(hash,types)-macro","html_id":"str_hash_cast(hash,types)-macro","name":"str_hash_cast","doc":null,"summary":null,"abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"str_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash_cast(\n{{ hash }}\n, String, \n{{ types }}\n)\n    \n"}},{"id":"stringify_hash(hash,types)-macro","html_id":"stringify_hash(hash,types)-macro","name":"stringify_hash","doc":"accepts any hash","summary":"<p>accepts any hash</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"stringify_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_61 = \n{} of String =>\n{{ types }}\n\n        \n{{ hash }}\n.each do |k, v|\n          __temp_61[k.to_s] = v.as(\n{{ types }}\n)\n        \nend\n        __temp_61\n      \nend\n    \n"}},{"id":"sym_hash(hash,types)-macro","html_id":"sym_hash(hash,types)-macro","name":"sym_hash","doc":"accepts hash literal","summary":"<p>accepts hash literal</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"sym_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash(\n{{ hash }}\n, Symbol, \n{{ types }}\n)\n    \n"}},{"id":"sym_hash_cast(hash,types)-macro","html_id":"sym_hash_cast(hash,types)-macro","name":"sym_hash_cast","doc":"accepts any hash or named tuple\nexample: Ifrit.as_sym_hash(hash, String | Int32)","summary":"<p>accepts any hash or named tuple example: Ifrit.as_sym_hash(hash, String | Int32)</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, types)","source_link":null,"def":{"name":"sym_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      Ifrit.typed_hash_cast(\n{{ hash }}\n, Symbol, \n{{ types }}\n)\n    \n"}},{"id":"typed_array(arr,klass)-macro","html_id":"typed_array(arr,klass)-macro","name":"typed_array","doc":"accepts arrayliteral","summary":"<p>accepts arrayliteral</p>","abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(arr, klass)","source_link":null,"def":{"name":"typed_array","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        [\n        \n{% for v in arr %}\n          {{ v }}.as({{ klass }}),\n        {% end %}\n\n        ]\n      \nend\n    \n"}},{"id":"typed_array_cast(arr,klass)-macro","html_id":"typed_array_cast(arr,klass)-macro","name":"typed_array_cast","doc":"accepts any array","summary":"<p>accepts any array</p>","abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"args_string":"(arr, klass)","source_link":null,"def":{"name":"typed_array_cast","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        array = [] of \n{{ klass }}\n\n        \n{{ arr }}\n.each \n{ |e| array << \ne.as(\n{{ klass }}\n) }\n        array\n      \nend\n    \n"}},{"id":"typed_hash(hash,key,types)-macro","html_id":"typed_hash(hash,key,types)-macro","name":"typed_hash","doc":"accepts only hash literals\nexample: Ifrit.typed_hash({\"a\" => 1, \"b\" => \"b\"}, String, Int32 | String)","summary":"<p>accepts only hash literals example: Ifrit.typed_hash({\"a\" => 1, \"b\" => \"b\"}, String, Int32 | String)</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, key, types)","source_link":null,"def":{"name":"typed_hash","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_61 = \n{} of \n{{ key.id }}\n => \n{{ types.id }}\n\n        \n{% type = key.resolve %}\n\n        \n{% for k, v in hash %}\n          {% if k.is_a?(MacroId) %}\n            {% if type.union? %}\n              {% p(type.union_types) %}\n              {% if type.union_types.includes?(String) %}\n                {% name = k.stringify %}\n              {% else %}{% if type.union_types.includes?(Symbol) %}\n                {% name = \":#{k}\".id %}\n              {% else %}\n                {% name = k %}\n              {% end %}{% end %}\n            {% else %}{% if type == String %}\n              {% name = \"#{k}\" %}\n            {% else %}{% if type == Symbol %}\n              {% name = \":#{k}\".id %}\n            {% else %}\n              {% name = k %}\n            {% end %}{% end %}{% end %}\n          {% else %}\n            {% name = k %}\n          {% end %}\n          __temp_61[{{ name }}] = {{ v }}.as({{ types.id }})\n        {% end %}\n\n        __temp_61\n      \nend\n    \n"}},{"id":"typed_hash_cast(hash,key,types)-macro","html_id":"typed_hash_cast(hash,key,types)-macro","name":"typed_hash_cast","doc":"accepts any hash","summary":"<p>accepts any hash</p>","abstract":false,"args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"args_string":"(hash, key, types)","source_link":null,"def":{"name":"typed_hash_cast","args":[{"name":"hash","doc":null,"default_value":"","external_name":"hash","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"types","doc":null,"default_value":"","external_name":"types","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      begin\n        __temp_62 = \n{} of \n{{ key }}\n => \n{{ types.id }}\n\n        \n{{ hash.id }}\n.each \n{ |k, v| __temp_62[k.as(\n{{ key }}\n)] = v.as(\n{{ types.id }}\n) }\n        __temp_62\n      \nend\n    \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/ExperimentalMapping","path":"Jennifer/View/ExperimentalMapping.html","kind":"module","full_name":"Jennifer::View::ExperimentalMapping","name":"ExperimentalMapping","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/view/experimental_mapping.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/experimental_mapping.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Base","kind":"class","full_name":"Jennifer::View::Base","name":"Base"}],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View","kind":"module","full_name":"Jennifer::View","name":"View"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"__field_declaration-macro","html_id":"__field_declaration-macro","name":"__field_declaration","doc":"Generates getter and setters","summary":"<p>Generates getter and setters</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/experimental_mapping.cr#L5","def":{"name":"__field_declaration","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n{% for key, value in COLUMNS_METADATA %}\n          @{{ key.id }} : {{ value[:parsed_type].id }}\n\n          {% if value[:setter] != false %}\n            def {{ key.id }}=(_{{ key.id }} : {{ value[:parsed_type].id }})\n              @{{ key.id }} = _{{ key.id }}\n            end\n          {% end %}\n\n          {% if value[:getter] != false %}\n            def {{ key.id }}\n              @{{ key.id }}\n            end\n\n            {% if value[:null] != false %}\n              def {{ key.id }}!\n                @{{ key.id }}.not_nil!\n              end\n            {% end %}\n          {% end %}\n\n          def self._{{ key }}\n            c({{ key.stringify }})\n          end\n\n          {% if value[:primary] %}\n            def primary\n              @{{ key.id }}\n            end\n\n            def self.primary\n              c({{ key.stringify }})\n            end\n\n            def self.primary_field_name\n              {{ key.stringify }}\n            end\n\n            def self.primary_field_type\n              {{ value[:parsed_type].id }}\n            end\n          {% end %}\n        {% end %}\n\n      \n"}},{"id":"__instance_methods-macro","html_id":"__instance_methods-macro","name":"__instance_methods","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/experimental_mapping.cr#L51","def":{"name":"__instance_methods","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        \n# Creates object from `DB::ResultSet`\n\n        def initialize(\n%pull\n : DB::ResultSet)\n          \n{{ (COLUMNS_METADATA.keys.map do |f|\n  \"@#{f.id}\"\nend.join(\", \")).id }}\n = _extract_attributes(\n%pull\n)\n        \nend\n\n        def initialize(values : Hash(String, ::Jennifer::DBAny))\n          \n{{ (COLUMNS_METADATA.keys.map do |f|\n  \"@#{f.id}\"\nend.join(\", \")).id }}\n = _extract_attributes(values)\n        \nend\n\n        \n# Accepts symbol hash or named tuple, stringify it and calls\n\n        \n# TODO: check how converting affects performance\n\n        def initialize(values : Hash(Symbol, ::Jennifer::DBAny) | NamedTuple)\n          initialize(stringify_hash(values, Jennifer::DBAny))\n        \nend\n\n        def initialize(values : Hash | NamedTuple, new_record)\n          initialize(values)\n        \nend\n\n        \n# Extracts arguments due to mapping from *pull* and returns tuple for\n\n        \n# fields assignment. It stands on that fact result set has all defined fields in a raw\n\n        \n# TODO: think about moving it to class scope\n\n        \n# NOTE: don't use it manually - there is some dependencies on caller such as reading result set to the end\n\n        \n#  if eception was raised\n\n        def _extract_attributes(pull : DB::ResultSet)\n          \n{% for key in COLUMNS_METADATA.keys %}\n            %var{key.id} = nil\n            %found{key.id} = false\n          {% end %}\n\n          own_attributes = \n{{ COLUMNS_METADATA.size }}\n\n          pull.each_column do |column|\n            break if own_attributes == 0\n            case column\n            \n{% for key, value in COLUMNS_METADATA %}\n              when {{ value[:column_name] ? value[:column_name].id : key.id.stringify }}\n                own_attributes -= 1\n                %found{key.id} = true\n                begin\n                  %var{key.id} = pull.read({{ value[:parsed_type].id }})\n                rescue e : Exception\n                  raise ::Jennifer::DataTypeMismatch.new(column, {{ @type }}, e) if ::Jennifer::DataTypeMismatch.match?(e)\n                  raise e\n                end\n            {% end %}\n\n            \nelse\n              \n{% if STRICT_MAPPNIG %}\n                raise ::Jennifer::BaseException.new(\"Undefined column #{column} for model {{ @type }}.\")\n              {% else %}\n                pull.read\n              {% end %}\n\n            \nend\n          \nend\n          pull.read_to_end\n          \n{% if STRICT_MAPPNIG %}\n            {% for key in COLUMNS_METADATA.keys %}\n              unless %found{key.id}\n                raise ::Jennifer::BaseException.new(\"Column #{{{ @type }}}##{{{ key.id.stringify }}} hasn't been found in the result set.\")\n              end\n            {% end %}\n          {% end %}\n\n          \n{% if COLUMNS_METADATA.size > 1 %}\n            {\n            {% for key, value in COLUMNS_METADATA %}\n              begin\n                %var{key.id}.as({{ value[:parsed_type].id }})\n              rescue e : Exception\n                raise ::Jennifer::DataTypeCasting.new({{ key.id.stringify }}, {{ @type }}, e) if ::Jennifer::DataTypeCasting.match?(e)\n                raise e\n              end,\n            {% end %}\n            }\n          {% else %}\n            {% key = COLUMNS_METADATA.keys[0] %}\n            begin\n              %var{key}.as({{ COLUMNS_METADATA[key][:parsed_type].id }})\n            rescue e : Exception\n              raise ::Jennifer::DataTypeCasting.new({{ key.id.stringify }}, {{ @type }}, e) if ::Jennifer::DataTypeCasting.match?(e)\n              raise e\n            end\n          {% end %}\n\n        \nend\n\n        \n# Extracts attributes from gien hash to the tuple. If hash has no some field - will not raise any error.\n\n        def _extract_attributes(values : Hash(String, ::Jennifer::DBAny))\n          \n{% for key in COLUMNS_METADATA.keys %}\n            %var{key.id} = nil\n            %found{key.id} = true\n          {% end %}\n\n\n          \n{% for key, value in COLUMNS_METADATA %}\n            {% _key = value[:column_name] ? value[:column_name] : key.id.stringify %}\n            if !values[{{ _key }}]?.nil?\n              %var{key.id} = values[{{ _key }}]\n            else\n              %found{key.id} = false\n            end\n          {% end %}\n\n\n          \n{% for key, value in COLUMNS_METADATA %}\n            begin\n              {% if value[:null] %}\n                {% if value[:default] != nil %}\n                  %casted_var{key.id} = %found{key.id} ? Jennifer::Model::Mapping.__bool_convert(%var{key.id}, {{ value[\"parsed_type\"].id }}) : {{ value[\"default\"].id }}\n                {% else %}\n                  %casted_var{key.id} = %var{key.id}.as({{ value[:parsed_type].id }})\n                {% end %}\n              {% else %}{% if value[\"default\"] != nil %}\n                %casted_var{key.id} = %var{key.id}.is_a?(Nil) ? {{ value[:default] }} : Jennifer::Model::Mapping.__bool_convert(%var{key.id}, {{ value[\"parsed_type\"].id }})\n              {% else %}\n                %casted_var{key.id} = Jennifer::Model::Mapping.__bool_convert(%var{key.id}, {{ value[\"parsed_type\"].id }})\n              {% end %}{% end %}\n            rescue e : Exception\n              raise ::Jennifer::DataTypeCasting.new({{ key.id.stringify }}, {{ @type }}, e) if ::Jennifer::DataTypeCasting.match?(e)\n              raise e\n            end\n          {% end %}\n\n\n          \n{% if COLUMNS_METADATA.size > 1 %}\n            {\n            {% for key, value in COLUMNS_METADATA %}\n              %casted_var{key.id},\n            {% end %}\n            }\n          {% else %}\n            {% key = COLUMNS_METADATA.keys[0] %}\n            %casted_var{key}\n          {% end %}\n\n        \nend\n\n        \n# Reloads all fields from db\n\n        def reload\n          this = self\n          self.class.all.where \n{ this.class.primary == this.primary }.each_result_set do |rs|\n            \n{{ (COLUMNS_METADATA.keys.map do |f|\n  \"@#{f.id}\"\nend.join(\", \")).id }}\n = _extract_attributes(rs)\n          \nend\n          self\n        \nend\n\n        \n# Returns hash with all attributes and symbol keys\n\n        def to_h\n          \n{\n            \n{% for key in COLUMNS_METADATA.keys %}\n              :{{ key.id }} => @{{ key.id }},\n            {% end %}\n\n          }\n        \nend\n\n        \n# Returns hash with all attributes and string keys\n\n        def to_str_h\n          \n{\n            \n{% for key in COLUMNS_METADATA.keys %}\n              {{ key.stringify }} => @{{ key.id }},\n            {% end %}\n\n          }\n        \nend\n\n        \n# Returns field by given name. If object has no such field - will raise `BaseException`.\n\n        \n# To avoid raising exception set `raise_exception` to `false`.\n\n        def attribute(name : String | Symbol, raise_exception = true)\n          case name.to_s\n          \n{% for key, value in COLUMNS_METADATA.keys %}\n          when {{ key.stringify }}\n            @{{ key.id }}\n          {% end %}\n\n          \nelse\n            raise ::Jennifer::BaseException.new(\"Unknown model attribute - #{name}\") if raise_exception\n          \nend\n        \nend\n\n        \n# NOTE: This is deprecated method - it will be removed in 0.5.0. Use #to_h instead\n\n        def attributes_hash\n          hash = to_h\n          \n{% for key, value in COLUMNS_METADATA %}\n            {% if value[:primary] %}\n              hash.delete({{ key }}) unless hash.has_key?({{ key }})\n            {% end %}\n          {% end %}\n\n          hash\n        \nend\n      \n"}},{"id":"mapping(properties,strict=true)-macro","html_id":"mapping(properties,strict=true)-macro","name":"mapping","doc":null,"summary":null,"abstract":false,"args":[{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},{"name":"strict","doc":null,"default_value":"true","external_name":"strict","restriction":""}],"args_string":"(properties, strict = true)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/experimental_mapping.cr#L246","def":{"name":"mapping","args":[{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},{"name":"strict","doc":null,"default_value":"true","external_name":"strict","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        STRICT_MAPPNIG = \n{{ strict }}\n\n\n        @@strict_mapping : Bool?\n\n        def self.strict_mapping?\n          @@strict_mapping ||= ::Jennifer::Adapter.adapter.table_column_count(table_name) == field_count\n        \nend\n\n        \n# Returns field count\n\n        def self.field_count\n          \n{{ properties.size }}\n\n        \nend\n\n        \n# Returns array of field names\n\n        def self.field_names\n          COLUMNS_METADATA.keys.to_a.map(&.to_s)\n        \nend\n\n        \n{% primary = nil %}\n\n\n        \n# generates hash with options\n\n        \n{% for key, opt in properties %}\n          {% _key = key.id.stringify %}\n          {% if (opt.is_a?(HashLiteral)) || (opt.is_a?(NamedTupleLiteral)) %}\n            {% FIELDS[_key] = {} of String => String %}\n            {% for attr, value in opt %}\n              {% FIELDS[_key][attr.id.stringify] = value.stringify %}\n            {% end %}\n          {% else %}\n            {% FIELDS[_key] = {\"type\" => opt.stringify} %}\n            {% properties[key] = {type: opt} %}\n          {% end %}\n\n          {% stringified_type = properties[key][:stringified_type] = properties[key][:type].stringify %}\n          {% if (stringified_type == Jennifer::Macros::PRIMARY_32) || (stringified_type == Jennifer::Macros::PRIMARY_64) %}\n            {% properties[key][:primary] = trueFIELDS[_key][\"primary\"] = \"true\" %}\n          {% end %}\n          {% if properties[key][:primary] %}\n            {% primary = key %}\n          {% end %}\n          {% if stringified_type =~ Jennifer::Macros::NILLABLE_REGEXP %}\n            {% properties[key][:null] = trueFIELDS[_key][\"parsed_type\"] = properties[key][:parsed_type] = stringified_type %}\n          {% else %}\n            {% properties[key][:parsed_type] = properties[key][:null] || properties[key][:primary] ? stringified_type + \"?\" : stringified_typeFIELDS[_key][\"parsed_type\"] = properties[key][:parsed_type] %}\n          {% end %}\n        {% end %}\n\n\n        \n# TODO: find way to allow view definition without any primary field\n\n        \n{% if primary == nil %}\n          {% raise(\"Model #{@type} has no defined primary field. For now model without primary field is not allowed\") %}\n        {% end %}\n\n\n        COLUMNS_METADATA = \n{{ properties }}\n\n\n        \n# Returns named tuple of column metadata\n\n        def self.columns_tuple\n          COLUMNS_METADATA\n        \nend\n      \n"}},{"id":"mapping-macro","html_id":"mapping-macro","name":"mapping","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/experimental_mapping.cr#L316","def":{"name":"mapping","args":[],"double_splat":{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""},"splat_index":null,"block_arg":null,"visibility":"Public","body":"        mapping(\n{{ properties }}\n)\n      \n"}}],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Materialized","path":"Jennifer/View/Materialized.html","kind":"class","full_name":"Jennifer::View::Materialized","name":"Materialized","abstract":true,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Base","kind":"class","full_name":"Jennifer::View::Base","name":"Base"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/Base","kind":"class","full_name":"Jennifer::View::Base","name":"Base"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/Model/Scoping","kind":"module","full_name":"Jennifer::Model::Scoping","name":"Scoping"},{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View/ExperimentalMapping","kind":"module","full_name":"Jennifer::View::ExperimentalMapping","name":"ExperimentalMapping"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer/view/materialized.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/materialized.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"AFTER_INITIALIZE_CALLBACKS","value":"[] of String","doc":null,"summary":null},{"name":"FIELDS","value":"{} of String => Hash(String, String)","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/Jennifer/View","kind":"module","full_name":"Jennifer::View","name":"View"},"doc":null,"summary":null,"class_methods":[{"id":"actual_table_field_count-class-method","html_id":"actual_table_field_count-class-method","name":"actual_table_field_count","doc":"NOTE: override regular behavior - used fields count instead of\nquering db","summary":"<p><span class=\"flag purple\">NOTE</span>  override regular behavior - used fields count instead of quering db</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/materialized.cr#L3","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/materialized.cr#L3","def":{"name":"actual_table_field_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"COLUMNS_METADATA.size"}},{"id":"refresh-class-method","html_id":"refresh-class-method","name":"refresh","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/materialized.cr#L4","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/materialized.cr#L4","def":{"name":"refresh","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"adapter.refresh_materialized_view(view_name)"}},{"id":"relation(name:String)-class-method","html_id":"relation(name:String)-class-method","name":"relation","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/materialized.cr#L3","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/materialized.cr#L3","def":{"name":"relation","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  @@relations[name]\nrescue e : KeyError\n  raise(Jennifer::UnknownRelation.new(self, e))\nend"}},{"id":"relations-class-method","html_id":"relations-class-method","name":"relations","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/materialized.cr#L3","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/view/materialized.cr#L3","def":{"name":"relations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@relations"}}],"constructors":[],"instance_methods":[{"id":"__after_initialize_callback-instance-method","html_id":"__after_initialize_callback-instance-method","name":"__after_initialize_callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"__after_initialize_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if super()\n  else\n    return false\n  end\n  true\nrescue ::Jennifer::Skip\n  false\nend"}}],"macros":[],"types":[]}]}]},{"html_id":"github.com/imdrasil/jennifer.cr/PG","path":"PG.html","kind":"module","full_name":"PG","name":"PG","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"lib/pg/src/pg/connection.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/lib/pg/src/pg/connection.cr"},{"filename":"lib/pg/src/pg/decoder.cr","line_number":3,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/lib/pg/src/pg/decoder.cr"},{"filename":"lib/pg/src/pg/decoders/array_decoder.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/lib/pg/src/pg/decoders/array_decoder.cr"},{"filename":"lib/pg/src/pg/error.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/lib/pg/src/pg/error.cr"},{"filename":"lib/pg/src/pg/escape_helper.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/lib/pg/src/pg/escape_helper.cr"},{"filename":"lib/pg/src/pg/numeric.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/lib/pg/src/pg/numeric.cr"},{"filename":"lib/pg/src/pg/version.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/lib/pg/src/pg/version.cr"},{"filename":"lib/pg/src/pg.cr","line_number":4,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/lib/pg/src/pg.cr"},{"filename":"jennifer/adapter/postgres/numeric.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/numeric.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/jennifer.cr/PG/Numeric","path":"PG/Numeric.html","kind":"struct","full_name":"PG::Numeric","name":"Numeric","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/imdrasil/jennifer.cr/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/imdrasil/jennifer.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"lib/pg/src/pg/numeric.cr","line_number":9,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/lib/pg/src/pg/numeric.cr"},{"filename":"jennifer/adapter/postgres/numeric.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/numeric.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/imdrasil/jennifer.cr/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/PG","kind":"module","full_name":"PG","name":"PG"},"doc":"The Postgres numeric type has arbitrary precision, and can be NaN, \"not a\nnumber\".\n\nThe default version of `Numeric` in this driver only has `#to_f` which\nprovides approximate conversion. To get true arbitrary precision, there is\nan optional extension `pg_ext/big_rational`, however LibGMP must be\ninstalled.","summary":"<p>The Postgres numeric type has arbitrary precision, and can be NaN, \"not a number\".</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"(v:Float64)-instance-method","html_id":"(v:Float64)-instance-method","name":"<=>","doc":null,"summary":null,"abstract":false,"args":[{"name":"v","doc":null,"default_value":"","external_name":"v","restriction":"Float64"}],"args_string":"(v : Float64)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/numeric.cr#L6","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/numeric.cr#L6","def":{"name":"<=>","args":[{"name":"v","doc":null,"default_value":"","external_name":"v","restriction":"Float64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"to_f <=> v"}},{"id":"(v:Int32)-instance-method","html_id":"(v:Int32)-instance-method","name":"<=>","doc":null,"summary":null,"abstract":false,"args":[{"name":"v","doc":null,"default_value":"","external_name":"v","restriction":"Int32"}],"args_string":"(v : Int32)","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/numeric.cr#L10","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/numeric.cr#L10","def":{"name":"<=>","args":[{"name":"v","doc":null,"default_value":"","external_name":"v","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"to_f <=> v"}}],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/PG/ResultSet","path":"PG/ResultSet.html","kind":"class","full_name":"PG::ResultSet","name":"ResultSet","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/DB/ResultSet","kind":"class","full_name":"DB::ResultSet","name":"ResultSet"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/DB/ResultSet","kind":"class","full_name":"DB::ResultSet","name":"ResultSet"},{"html_id":"github.com/imdrasil/jennifer.cr/DB/Disposable","kind":"module","full_name":"DB::Disposable","name":"Disposable"},{"html_id":"github.com/imdrasil/jennifer.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"lib/pg/src/pg/result_set.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/lib/pg/src/pg/result_set.cr"},{"filename":"jennifer/adapter/postgres/result_set.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/result_set.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/imdrasil/jennifer.cr/PG","kind":"module","full_name":"PG","name":"PG"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"column_index:Int32-instance-method","html_id":"column_index:Int32-instance-method","name":"column_index","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/result_set.cr#L2","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/result_set.cr#L2","def":{"name":"column_index","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@column_index"}},{"id":"columns-instance-method","html_id":"columns-instance-method","name":"columns","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/result_set.cr#L15","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/result_set.cr#L15","def":{"name":"columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields.not_nil!"}},{"id":"current_column-instance-method","html_id":"current_column-instance-method","name":"current_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/result_set.cr#L7","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/result_set.cr#L7","def":{"name":"current_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"columns[@column_index]"}},{"id":"current_column_name-instance-method","html_id":"current_column_name-instance-method","name":"current_column_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/result_set.cr#L11","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/adapter/postgres/result_set.cr#L11","def":{"name":"current_column_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"column_name(@column_index)"}}],"macros":[],"types":[]}]},{"html_id":"github.com/imdrasil/jennifer.cr/Primary32","path":"Primary32.html","kind":"alias","full_name":"Primary32","name":"Primary32","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/mapping.cr","line_number":1,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/mapping.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"Int32","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Primary64","path":"Primary64.html","kind":"alias","full_name":"Primary64","name":"Primary64","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"jennifer/model/mapping.cr","line_number":2,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer/model/mapping.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":true,"aliased":"Int64","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/imdrasil/jennifer.cr/Time","path":"Time.html","kind":"struct","full_name":"Time","name":"Time","abstract":false,"superclass":{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/imdrasil/jennifer.cr/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/imdrasil/jennifer.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/imdrasil/jennifer.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/imdrasil/jennifer.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"jennifer.cr","line_number":59,"url":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr"}],"repository_name":"github.com/imdrasil/jennifer.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/imdrasil/jennifer.cr/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"`Time` represents an instance in time. Here are some examples:\n\n### Basic Usage\n\n```\ntime = Time.new(2016, 2, 15, 10, 20, 30)\n\ntime.year    # => 2016\ntime.month   # => 2\ntime.day     # => 15\ntime.hour    # => 10\ntime.minute  # => 20\ntime.second  # => 30\ntime.monday? # => true\n\n# Creating a time instance with a date only\nTime.new(2016, 2, 15) # => 2016-02-15 00:00:00\n\n# Specifying a time\nTime.new(2016, 2, 15, 10, 20, 30) # => 2016-02-15 10:20:30\n\n# Creating a time instance in UTC\nTime.utc(2016, 2, 15, 10, 20, 30) # => 2016-02-15 10:20:30 UTC\n```\n\n### Formatting Time\n\nThe `to_s` method returns a `String` value in the assigned format.\n\n```\ntime = Time.new(2015, 10, 12)\ntime.to_s(\"%Y-%m-%d\") # => \"2015-10-12\"\n```\n\nSee `Time::Format` for all the directives.\n\n### Calculation\n\n```\nTime.new(2015, 10, 10) - 5.days # => 2015-10-05 00:00:00\n\n# Time calculation returns a Time::Span instance\nspan = Time.new(2015, 10, 10) - Time.new(2015, 9, 10)\nspan.days          # => 30\nspan.total_hours   # => 720\nspan.total_minutes # => 43200\n\n# Calculation between Time::Span instances\nspan_a = Time::Span.new(3, 0, 0)\nspan_b = Time::Span.new(2, 0, 0)\nspan = span_a - span_b\nspan       # => 01:00:00\nspan.class # => Time::Span\nspan.hours # => 1\n```","summary":"<p><code><a href=\"Time.html\">Time</a></code> represents an instance in time.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L60","source_link":"https://github.com/imdrasil/jennifer.cr/blob/92985ea0072124a8fb78d41bc22df11abfde4533/src/jennifer.cr#L60","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clone = ({{ @type }}).allocate\nclone.initialize_copy(self)\nclone\n"}}],"macros":[],"types":[]}]}}