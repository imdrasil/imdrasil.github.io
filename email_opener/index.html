<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Email Opener | Imdrasil Homebrew Stuff</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Email Opener" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Personal site" />
<meta property="og:description" content="Personal site" />
<link rel="canonical" href="https://imdrasil.github.io/email_opener/" />
<meta property="og:url" content="https://imdrasil.github.io/email_opener/" />
<meta property="og:site_name" content="Imdrasil Homebrew Stuff" />
<script type="application/ld+json">
{"description":"Personal site","@type":"WebPage","url":"https://imdrasil.github.io/email_opener/","headline":"Email Opener","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://imdrasil.github.io/feed.xml" title="Imdrasil Homebrew Stuff" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Imdrasil Homebrew Stuff</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/email_opener/">Email Opener</a><a class="page-link" href="/sage/">Sage</a><a class="page-link" href="/flash_container.cr/">flash_container</a><a class="page-link" href="/jennifer.cr/">Jennifer</a><a class="page-link" href="/jennifer_sqlite3_adapter/">Jennifer SQLite3 adapter</a><a class="page-link" href="/http_method_emulator/">http_method_emulator</a><a class="page-link" href="/sam.cr/">Sam</a><a class="page-link" href="/view_model.cr/">ViewModel</a><a class="page-link" href="/form_object/">FormObject</a><a class="page-link" href="/hermes.cr/">Hermes</a><a class="page-link" href="/crymagick/">CryMagick</a><a class="page-link" href="/factory/">Factory</a><a class="page-link" href="/pager/">Pager</a><a class="page-link" href="/ifrit/">Ifrit</a><a class="page-link" href="/email_opener/versions.html">email_opener</a><a class="page-link" href="/sage/versions.html">sage</a><a class="page-link" href="/flash_container.cr/versions.html">flash_container.cr</a><a class="page-link" href="/jennifer.cr/versions.html">jennifer.cr</a><a class="page-link" href="/jennifer_sqlite3_adapter/versions.html">jennifer_sqlite3_adapter</a><a class="page-link" href="/http_method_emulator/versions.html">http_method_emulator</a><a class="page-link" href="/sam.cr/versions.html">sam.cr</a><a class="page-link" href="/view_model.cr/versions.html">view_model.cr</a><a class="page-link" href="/form_object/versions.html">form_object</a><a class="page-link" href="/hermes.cr/versions.html">hermes.cr</a><a class="page-link" href="/crymagick/versions.html">crymagick</a><a class="page-link" href="/factory/versions.html">factory</a><a class="page-link" href="/pager/versions.html">pager</a><a class="page-link" href="/ifrit/versions.html">ifrit</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Email Opener</h1>
  </header>

  <div class="post-content">
    <h1 id="email-opener---">Email Opener <a href="https://travis-ci.org/imdrasil/email_opener"><img src="https://travis-ci.org/imdrasil/email_opener.svg" alt="Build Status" /></a> <a href="https://github.com/imdrasil/email_opener/releases"><img src="https://img.shields.io/github/release/imdrasil/email_opener.svg" alt="Latest Release" /></a> <a href="https://imdrasil.github.io/email_opener/versions"><img src="https://img.shields.io/badge/docs-available-brightgreen.svg" alt="Docs" /></a></h1>

<p>Preview email in the default browser instead of sending it. This means you don’t need to set up email delivery in your development environment, and you no longer need to worry about accidentally sending a test email to someone else’s address.</p>

<h2 id="installation">Installation</h2>

<ol>
  <li>Add the dependency to your <code class="highlighter-rouge">shard.yml</code>:
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">dependencies</span><span class="pi">:</span>
  <span class="na">email_opener</span><span class="pi">:</span>
<span class="err"> </span><span class="na">github</span><span class="pi">:</span> <span class="s">imdrasil/email_opener</span>
</code></pre></div>    </div>
  </li>
  <li>Run <code class="highlighter-rouge">shards install</code></li>
</ol>

<h2 id="usage">Usage</h2>

<p>Depending on used email library you need to implement adapter for <code class="highlighter-rouge">EmailOpener</code>. ATM this library is delivered with <a href="https://github.com/luckyframework/carbon">carbon</a> adaptor on the board. Here is simple example of basic carbon base mailer:</p>

<pre><code class="language-crystal">require "email_opener/carbon_adapter"

MAILER_ADAPTER = EmailOpener::CarbonAdapter.new

abstract class ApplicationMailer &lt; Carbon::Email
  getter email_subject : String, email_address : String

  from Carbon::Address.new("Sample App", "noreply@sample-app.com")
  to email_address
  subject email_subject
  settings.adapter = MAILER_ADAPTER

  def initialize
    @email_address = ""
    @email_subject = ""
  end
end
</code></pre>

<p>After email is sent HTML part is written to <code class="highlighter-rouge">./tmp/email_opener/rich.html</code> and opened by default browser.</p>

<h2 id="development">Development</h2>

<p>To implement own adapter include <code class="highlighter-rouge">EmailOpener::AbstractAdapter</code> module and invoke in a delivery method <code class="highlighter-rouge">#__deliver__</code> passing <code class="highlighter-rouge">EmailOpener::Message</code> with all information regarding email.</p>

<pre><code class="language-crystal">require "email_opener/abstract_adapter"

class OwnAdapter &lt; SomeLibrary::Adapter
  include EmailOpener::AbstractAdapter

  def deliver(email)
    __deliver__(
      EmailOpener::Message.new(
        email.html_body,
        email.text_body,
        email.subject,
        email.from,
        mail.to,
        email.cc,
        email.bcc,
        email.reply_to
      )
    )
  end
end
</code></pre>

<h2 id="contributing">Contributing</h2>

<ol>
  <li>Fork it (<a href="https://github.com/imdrasil/email_opener/fork">https://github.com/imdrasil/email_opener/fork</a>)</li>
  <li>Create your feature branch (<code class="highlighter-rouge">git checkout -b my-new-feature</code>)</li>
  <li>Commit your changes (<code class="highlighter-rouge">git commit -am 'Add some feature'</code>)</li>
  <li>Push to the branch (<code class="highlighter-rouge">git push origin my-new-feature</code>)</li>
  <li>Create a new Pull Request</li>
</ol>

<h2 id="contributors">Contributors</h2>

<ul>
  <li><a href="https://github.com/imdrasil">Roman Kalnytskyi</a> - creator and maintainer</li>
</ul>

<p>This library is inspired by ruby library <a href="https://github.com/ryanb/letter_opener">letter_opener</a>.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Imdrasil Homebrew Stuff</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Imdrasil Homebrew Stuff</li><li><a class="u-email" href="mailto:moranibaca@gmail.com">moranibaca@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/imdrasil"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">imdrasil</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Personal site</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
