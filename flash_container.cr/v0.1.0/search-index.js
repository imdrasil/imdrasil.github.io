crystal_doc_search_index_callback({"repository_name":"github.com/imdrasil/flash_container.cr","body":"# flash_container\n\nSimple framework-agnostic flash message container.\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n```yaml\ndependencies:\n  flash_container:\n    github: imdrasil/flash_container.cr\n```\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"flash_container\"\n\n# Load flash messages from session\nflash = FlashContainer.from_session(session.string?(FlashContainer.key))\n\nflash[:notice] = \"Some message\"\n\n# Write messages back to session\nsession.string(FlashContainer.key, flash.to_session)\n```\n\n## Contributing\n\n1. Fork it (<https://github.com/imdrasil/flash_container.cr/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\nInspired by `Amber::Router::Flash::FlashStore`.\n\n- [Roman Kalnytskyi](https://github.com/imdrasil) - creator and maintainer\n","program":{"html_id":"github.com/imdrasil/flash_container.cr/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/imdrasil/flash_container.cr","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/imdrasil/flash_container.cr/FlashContainer","path":"FlashContainer.html","kind":"class","full_name":"FlashContainer","name":"FlashContainer","abstract":false,"superclass":{"html_id":"github.com/imdrasil/flash_container.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/imdrasil/flash_container.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/imdrasil/flash_container.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"flash_container.cr","line_number":10,"url":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr"}],"repository_name":"github.com/imdrasil/flash_container.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"\"0.1.0\"","doc":"Shard version.","summary":"<p>Shard version.</p>"}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Flash message container.","summary":"<p>Flash message container.</p>","class_methods":[{"id":"from_session(json:String)-class-method","html_id":"from_session(json:String)-class-method","name":"from_session","doc":"Creates FlashContainer instance based on stringified JSON.","summary":"<p>Creates FlashContainer instance based on stringified JSON.</p>","abstract":false,"args":[{"name":"json","doc":null,"default_value":"","external_name":"json","restriction":"String"}],"args_string":"(json : String)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L23","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L23","def":{"name":"from_session","args":[{"name":"json","doc":null,"default_value":"","external_name":"json","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  new(Hash(String, String).from_json(json))\nrescue e : JSON::ParseException\n  new\nend"}},{"id":"from_session(_json:Nil)-class-method","html_id":"from_session(_json:Nil)-class-method","name":"from_session","doc":null,"summary":null,"abstract":false,"args":[{"name":"_json","doc":null,"default_value":"","external_name":"_json","restriction":"Nil"}],"args_string":"(_json : Nil)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L29","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L29","def":{"name":"from_session","args":[{"name":"_json","doc":null,"default_value":"","external_name":"_json","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new"}},{"id":"key:String-class-method","html_id":"key:String-class-method","name":"key","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L14","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L14","def":{"name":"key","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@@key"}},{"id":"key=(key:String)-class-method","html_id":"key=(key:String)-class-method","name":"key=","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L14","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L14","def":{"name":"key=","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@key = key"}}],"constructors":[{"id":"new(store)-class-method","html_id":"new(store)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"store","doc":null,"default_value":"","external_name":"store","restriction":""}],"args_string":"(store)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L36","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L36","def":{"name":"new","args":[{"name":"store","doc":null,"default_value":"","external_name":"store","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(store)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L33","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L33","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](key:Symbol)-instance-method","html_id":"[](key:Symbol)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"}],"args_string":"(key : Symbol)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L69","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L69","def":{"name":"[]","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"fetch(key)"}},{"id":"[]=(key:Symbol,value:String)-instance-method","html_id":"[]=(key:Symbol,value:String)-instance-method","name":"[]=","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(key : Symbol, value : String)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L57","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L57","def":{"name":"[]=","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@store[key.to_s] = value"}},{"id":"[]?(key:Symbol)-instance-method","html_id":"[]?(key:Symbol)-instance-method","name":"[]?","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"}],"args_string":"(key : Symbol)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L61","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L61","def":{"name":"[]?","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"fetch(key.to_s, nil)"}},{"id":"[]?(key:String)-instance-method","html_id":"[]?(key:String)-instance-method","name":"[]?","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L65","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L65","def":{"name":"[]?","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"fetch(key, nil)"}},{"id":"each(&block)-instance-method","html_id":"each(&amp;block)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L73","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L73","def":{"name":"each","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@store.each do |key, value|\n  yield {key, value}\n  @read << key\nend"}},{"id":"fetch(key:String,default_value:String?)-instance-method","html_id":"fetch(key:String,default_value:String?)-instance-method","name":"fetch","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"default_value","doc":null,"default_value":"","external_name":"default_value","restriction":"String | ::Nil"}],"args_string":"(key : String, default_value : String?)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L48","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L48","def":{"name":"fetch","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"default_value","doc":null,"default_value":"","external_name":"default_value","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@read << key\n@store.fetch(key, default_value)\n"}},{"id":"fetch(key:Symbol,default_value:String?)-instance-method","html_id":"fetch(key:Symbol,default_value:String?)-instance-method","name":"fetch","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"},{"name":"default_value","doc":null,"default_value":"","external_name":"default_value","restriction":"String | ::Nil"}],"args_string":"(key : Symbol, default_value : String?)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L53","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L53","def":{"name":"fetch","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"},{"name":"default_value","doc":null,"default_value":"","external_name":"default_value","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"fetch(key.to_s, default_value)"}},{"id":"fetch(key:String)-instance-method","html_id":"fetch(key:String)-instance-method","name":"fetch","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L39","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L39","def":{"name":"fetch","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@read << key\n@store.fetch(key, nil)\n"}},{"id":"fetch(key:Symbol)-instance-method","html_id":"fetch(key:Symbol)-instance-method","name":"fetch","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"}],"args_string":"(key : Symbol)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L44","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L44","def":{"name":"fetch","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"fetch(key.to_s)"}},{"id":"keep(key=nil)-instance-method","html_id":"keep(key=nil)-instance-method","name":"keep","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"nil","external_name":"key","restriction":""}],"args_string":"(key = <span class=\"n\">nil</span>)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L85","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L85","def":{"name":"keep","args":[{"name":"key","doc":null,"default_value":"nil","external_name":"key","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@read.delete(key)\n@now.delete(key)\n"}},{"id":"now(key,value:String?)-instance-method","html_id":"now(key,value:String?)-instance-method","name":"now","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String | ::Nil"}],"args_string":"(key, value : String?)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L80","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L80","def":{"name":"now","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@now << key\nself[key] = value\n"}},{"id":"to_session-instance-method","html_id":"to_session-instance-method","name":"to_session","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L90","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L90","def":{"name":"to_session","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"reject do |key, _|\n  (@read.includes?(key)) || (@now.includes?(key))\nend.to_json"}}],"macros":[{"id":"method_missing(call)-macro","html_id":"method_missing(call)-macro","name":"method_missing","doc":null,"summary":null,"abstract":false,"args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"args_string":"(call)","source_link":"https://github.com/imdrasil/flash_container.cr/blob/5072c53f594837294a96e5f7b9e70a644ceaec6f/src/flash_container.cr#L20","def":{"name":"method_missing","args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      @store.\n{{ call }}\n\n    \n"}}],"types":[]}]}})